{"version":3,"sources":["features/users/user.service.js","helpers/appSettings.js","helpers/fetchWrapper.js","helpers/history.js","helpers/role.js","components/PrivateRoute.jsx","features/reports/CustomBar.js","features/reports/CustomLine.js","features/reports/report.service.js","features/reports/DashboardReports.js","features/queues/queue.service.js","features/queues/Queues.js","features/reports/TopChart.js","assets/img/mie_logo.png","features/dashboard/Dashboard.js","features/collections/collection.service.js","features/search/Search.js","features/collections/Collections.js","features/cases/case.service.js","features/contacts/contact.service.js","features/contacts/Contacts.js","features/outcomes/outcome.service.js","features/outcomes/Outcomes.js","features/accounts/account.service.js","features/users/UsersList.js","features/collections/CollectionForm.js","features/collections/Collection.js","features/customers/customer.service.js","features/customers/CustomerManagement.js","features/customers/CustomerEditor.js","features/customers/CustomerDetails.js","features/customers/AccountDetails.js","features/customers/ContactDetails.js","features/customers/Confirmation.js","features/customers/Success.js","features/customers/CustomerCreator.js","features/clients/ClientCreator.js","features/clients/ClientEditor.js","features/clients/client.service.js","features/clients/ClientManagement.js","features/upload/MakeColumns.js","features/upload/types.js","features/alerts/alert.service.js","features/upload/upload.service.js","assets/img/green-tick.jpeg","features/upload/Upload.js","features/reports/Report.js","features/reports/Reports.js","features/release/ReleaseNotes.js","features/users/AddUserForm.js","features/users/EditUsersForm.js","assets/img/red-cross.png","features/users/Users.js","components/NotFound.js","components/RouteDetermination.js","assets/img/collections_demo.png","components/Home.js","features/users/Profile.js","features/navbar/NavBar.js","features/alerts/Alert.js","features/users/Login.js","features/users/Register.jsx","features/users/ForgotPassword.js","features/users/ResetPassword.js","features/users/VerifyEmail.js","features/invoices/invoice.service.js","features/invoices/ViewInvoice.js","App.js","index.js"],"names":["refreshTokenTimeout","AppSettings","serverEndpoint","userSubject","BehaviorSubject","userService","login","email","password","fetchWrapper","post","then","user","console","log","status","next","startRefreshTokenTimer","logout","refreshToken","register","params","verifyEmail","token","forgotPassword","validateResetToken","resetPassword","confirmPassword","setNewPassword","deactivateUser","id","put","reactivateUser","resendInvitation","getAll","get","getById","create","update","value","delete","x","asObservable","clearTimeout","history","push","jwtToken","JSON","parse","atob","split","timeout","Date","exp","getTime","now","setTimeout","url","requestOptions","method","headers","authHeader","fetch","handleResponse","getDocument","location","Accept","credentials","body","stringify","handleResponseForDocuments","userValue","Authorization","response","text","data","ok","includes","error","message","statusText","Promise","reject","createBrowserHistory","Role","Admin","Agent","Kam","Super","User","PrivateRoute","Component","component","roles","rest","render","props","indexOf","role","to","pathname","state","from","CustomBar","BLUE_COLOR","parent","background","border","boxSizing","display","height","margin","fontFamily","title","textAnchor","verticalAnchor","fill","fontSize","fontWeight","labelNumber","axisX","axis","stroke","strokeWidth","domainPadding","y","tickLabels","axisOne","grid","tick","ticks","padding","labelOne","fontStyle","barOne","axisOneCustomLabel","this","styleType","getStylesDashboard","getStylesMain","getStylesSidebar","chartNumber","description","styles","whichStyle","dataSetOne","getDataSetOne","style","viewBox","width","transform","animate","duration","easing","onLoad","containerComponent","responsive","standalone","dependentAxis","tickFormat","t","Math","round","labelComponent","dy","centerOffset","renderInPortal","labels","datum","React","barLine","length","reportService","getReport","report","Reports","reports","ids","entities","aging","type","agentPTP","datePTP","window","scrollTo","loadData","interval","setInterval","clearInterval","forEach","a","reportObject","setState","reportData","prepData","tempArray","Object","entries","key","tempObj","name","i","obj","map","idx","className","CustomLine","Container","fluid","customChartRender","queueService","Queues","mainQueues","userQueues","useState","queues","setCollections","GetStatus","allStatusList","queue","currentStatus","filter","OnlyUnique","index","self","useEffect","statusList","items","count","record","item","StatusCount","List","Item","as","Link","caseStatus","Content","floated","verticalAlign","Label","circular","PrepareQueues","currentAssignment","UserStatusCount","PrepareUserQueues","Grid","container","Column","textAlign","Segment","raised","animated","divided","link","selection","ribbon","TopChart","size","axixY","fillOpacity","centerTitle","orientation","gutter","symbol","Dashboard","celled","stackable","columns","Row","src","mieLogo","alt","DashboardReports","collectionService","getCollection","categoryLayoutRenderer","categoryContent","resultsContent","categoryRenderer","content","resultRenderer","customername","casenumber","initialState","isLoading","results","source","records","SearchComponent","handleResultSelect","e","result","handleSearchChange","loadRecords","setSource","searchTerms","customerRefNo","customerName","re","RegExp","_","escapeRegExp","isMatch","test","filteredResults","reduce","memo","global","getGlobalResults","agent","getAgentResults","recordsFields","agentRecords","regidnumber","regIdNumber","amountdue","amountDue","accountnumber","accountNumber","creditlimit","creditLimit","currentbalance","currentBalance","debtorage","debtorAge","totalbalance","totalBalance","casenotes","caseNotes","caseNumber","currentassignment","currentstatus","nextvisitdatetime","nextVisitDateTime","resolution","updatedat","updatedAt","updatedby","updatedBy","Search","category","loading","onResultSelect","onSearchChange","debounce","leading","Collections","collections","recordStatus","setRecordStatus","collectionStatus","setCollectionStatus","undefined","useCallback","hlink","Table","Cell","Button","moment","format","Dimmer","active","Loader","Header","onClick","renderHeader","compact","fixed","selectable","unstackable","HeaderCell","Body","caseService","getCase","updateCase","contactService","getContact","updateContact","Contacts","activeIndex","setActiveIndex","contacts","setContacts","contactStatus","setContactStatus","fetchContact","handleChange","evt","target","Accordion","Title","titleProps","Card","centered","Form","Group","widths","Input","defaultValue","primaryContactName","label","onChange","primaryContactNumber","primaryContactEmail","representativeName","representativeNumber","representativeEmail","alternativeRepName","alternativeRepNumber","alternativeRepEmail","otherNumber1","otherNumber2","otherNumber3","otherNumber4","otherNumber5","otherNumber6","otherNumber7","otherNumber8","otherNumber9","otherNumber10","Field","otherEmail1","otherEmail2","otherEmail3","otherEmail4","otherEmail5","otherEmail6","otherEmail7","otherEmail8","otherEmail9","otherEmail10","dnc1","dnc2","dnc3","dnc4","dnc5","contact","outcomeService","getOutcomesByCaseNumber","getOutcome","createOutcome","updateOutcome","Outcomes","outcomesBundle","outcomes","setOutcomes","outcomeStatus","setOutcomeStatus","fetchOutcomes","outcomesNotes","outcomesNotesArray","outcome","outcomeNotes","join","outcomesArray","ptpDate","debitResubmissionDate","createdDate","createdBy","transactionType","contactPerson","numberCalled","emailUsed","ptpAmount","pendReason","debitResubmissionAmount","outcomeResolution","nextSteps","TextArea","rows","readOnly","accountService","getAccount","updateAccount","UsersList","handleSelect","users","setUsers","userStatus","setUserStatus","fetchUsers","options","firstName","lastName","username","Select","placeholder","required","CollectionForm","kamNotes","resolutionOptions","transactionTypeOptions","prevState","fields","setErrorMsg","msg","handlePTPDate","event","followup","subtract","set","hour","minute","handleDate","clearErrorMessages","field","checkFields","cont","control","isError","rules","DateTimeInput","newCaseNotes","newKamNotes","regIdStatus","updateDatabase","process","newCaseNote","newKamNote","newOutcomeNote","closedDate","closedBy","caseUpdate","accountUpdate","lastPTPDate","lastPTPAmount","outcomeInsert","f_caseNumber","today","input","closable","dateTimeFormat","minDate","iconPosition","preventDefault","Or","lockedDateTime","Collection","match","collection","setCollection","lockRecord","dateTime","loadRecord","lastPaymentDate","currencyFormatter","currency","toFixed","replace","accountNotes","customerEntity","Divider","horizontal","accountStatus","days30","days60","days90","days120","days150","days180","days180Over","paymentDueDate","debitOrderDate","lastPaymentAmount","href","borderRadius","color","lineHeight","textDecoration","customerService","getAllInvoices","customer","CustomerManagement","invoices","setInvoices","invoicesStatus","setInvoicesStatus","fetchInvoices","inverted","Message","yay","hasViewed","viewed","positive","collapsing","visible","Icon","hidden","definition","sortable","striped","Footer","fullWidth","colSpan","icon","labelPosition","primary","disabled","CustomerEditor","account","setAccount","setAccountStatus","setCustomer","customerStatus","setCustomerStatus","fetchCustomer","fetchAccount","CustomerDetails","saveAndContinue","nextStep","values","customerType","productType","address1","address2","address3","address4","address5","f_clientId","AccountDetails","back","prevStep","maxWidth","directDebitDate","paymentTermDays","ContactDetails","Confirmation","accountName","openDate","paymentMethod","relaxed","Success","CustomerCreator","step","Step","ordered","completed","Description","ClientCreator","ClientEditor","clientService","client","ClientManagement","setClients","setClientsStatus","fetchClients","make_cols","refstr","o","C","XLSX","utils","decode_range","c","encode_col","SheetJSFT","alertSubject","Subject","defaultId","alertService","onAlert","pipe","success","header","alert","AlertType","info","warn","clear","autoClose","uploadService","bulkCreate","table","Upload","fileInputRef","createRef","file","cols","prgress","workspaces","customers","errors","numberRecords","checked","progress","accounts","cases","handleFile","bind","files","workspace","reader","FileReader","rABS","readAsBinaryString","onload","bstr","wb","read","bookVBA","wsname","SheetNames","ws","Sheets","sheet_to_json","workspaceObject","checkData","uploadData","errorReporting","sendMessage","fileName","sessionStorage","getItem","readAsArrayBuffer","CustomerNumber","Customer","AccountNumber","AccountStatus","CustomerRefNo","DateCreated","isValid","CurrentAssignment","CurrentStatus","CaseNumber","maxRowsThatCanBeInserted","chunks","floor","chunkedData","first","second","slice","totalRecords","preppedData","prepCustomerRecords","prepAccountRecords","prepContactRecords","prepCaseRecords","prepOutcomeRecords","chunkData","postToDb","errno","customerErrors","affectedRows","CustomerEntity","operatorShortCode","OperatorShortCode","CompanyRegNo","Customer_Type","ProductType","CIPCStatus","ConsumerIDNumber","IDVStatus","ExcelDateToJSDate","AccountName","DebtorAge","CreditLimit","CurrentBalance","f_customerRefNo","PaymentMethod","PaymentTerms","TotalBalance","createdAt","updatedDate","DateLastUpdated","reopenedDate","DateReopened","f_accountNumber","CreatedBy","LastUpdatedBy","reopenedBy","ReopenedBy","caseReason","CaseReason","CaseNotes","PTPDate","DebtOrderDate","Status","TransactionType","PhoneNumberCalled","EmailAddressUsed","ContactPerson","Resolution","NextSteps","PTPAmount","DebitOrderAmount","OutcomeNotes","PrimaryContactName","PrimaryContactNumber","PrimaryEmailAddress","RepresentativeName","RepresentativeContactNumber","RepresentativeEmailAddress","AltRepName","AltRepContact","AltRepEmail","OtherContact1","OtherContact2","OtherContact3","OtherContact4","OtherContact5","OtherEmail1","OtherEmail2","OtherEmail3","OtherEmail4","OtherEmail5","DNC1","DNC2","DNC3","DNC4","DNC5","date","workspaceDisplay","current","click","accept","ref","Progress","percent","image","Report","selected","paddingBottom","backgroundColor","Checkbox","children","setVisible","refreshButtonRender","Sidebar","Pushable","animation","onHide","vertical","Pusher","selectedChartRender","ReleaseNotes","AddUserForm","loadUsers","setLoading","phone","clearState","warning","catch","EditUsersForm","loggedInUser","userId","renderButton","isVerified","negative","Users","userContent","NotFound","RouteDetermination","path","exact","createMedia","breakpoints","mobile","tablet","computer","MediaContextProvider","Media","HomepageHeading","marginBottom","marginTop","DesktopContainer","hideFixedMenu","showFixedMenu","greaterThan","Visibility","once","onBottomPassed","onBottomPassedReverse","minHeight","MobileContainer","handleSidebarHide","sidebarOpened","handleToggle","at","ResponsiveContainer","HomepageLayout","Image","bordered","rounded","collections_demo","Profile","handleProfileClick","open","setOpen","setUser","isChanged","passwordChanged","setPasswordChanged","userState","onPasswordChanged","handleCancel","stopPropagation","handleSubmit","userUpdate","updatedUser","keepAfterRouteChange","getForm","Meta","autoComplete","NavBar","activeItem","setActiveItem","setSidebarOpened","AppMedia","largeScreen","widescreen","mediaStyles","createMediaStyle","handleItemClick","logButton","Menu","pointing","secondary","position","marginLeft","dimmed","Dropdown","labeled","Alert","fade","alerts","setAlerts","cssClasses","classes","alertTypeClass","subscription","subscribe","alertWithFade","removeAlert","filteredAlerts","historyUnlisten","listen","endsWith","unsubscribe","defaultProps","LoginForm","setEmail","setPassword","onSubmit","handleEmail","handlePassword","Register","initialValues","htmlFor","ForgotPassword","setError","ResetPassword","TokenStatus","setToken","tokenStatus","setTokenStatus","passwordError","setPasswordError","setConfirmPassword","confirmPasswordError","setConfirmPasswordError","queryString","search","handleConfirmPassword","getBody","VerifyEmail","EmailStatus","emailStatus","setEmailStatus","invoiceService","getDocByLoc","getDocByLocUnauth","verifyInvoice","ViewInvoice","invoice","setInvoice","invoiceStatus","setInvoiceStatus","numPages","setNumPages","pageNumber","onLoadSuccess","App","useLocation","Home","Login","finally","document","getElementById"],"mappings":"uUA+IIA,E,wCCxHWC,EAdG,CACZC,eAAgB,8CDNhBC,EAAc,I,OAAIC,GAAgB,MAE3BC,EAAc,CACzBC,MAuBF,SAAeC,EAAOC,GACpB,OAAOC,EACJC,KADI,sBACwB,CAAEH,QAAOC,aACrCG,MAAK,SAACC,GAEL,OADAC,QAAQC,IAAIF,GACQ,UAAhBA,EAAKG,SAITZ,EAAYa,KAAKJ,GACjBK,KAJSL,MA5BbM,SACAC,eACAC,SAoDF,SAAkBC,GAChB,OAAOZ,EAAaC,KAAb,kBAAqCW,IApD5CC,YAuDF,SAAqBC,GACnB,OAAOd,EAAaC,KAAb,sBAAyC,CAAEa,WAvDlDC,eA0DF,SAAwBjB,GACtB,OAAOE,EAAaC,KAAb,yBAA4C,CAAEH,WA1DrDkB,mBA6DF,SAA4BF,GAC1B,OAAOd,EAAaC,KAAb,8BAAiD,CAAEa,WA7D1DG,cAgEF,YAA8D,IAArCH,EAAoC,EAApCA,MAAOf,EAA6B,EAA7BA,SAAUmB,EAAmB,EAAnBA,gBACxC,OAAOlB,EAAaC,KAAb,wBAA2C,CAChDa,QACAf,WACAmB,qBAnEFC,eAuEF,YAA+D,IAArCL,EAAoC,EAApCA,MAAOf,EAA6B,EAA7BA,SAAUmB,EAAmB,EAAnBA,gBACzC,OAAOlB,EAAaC,KAAb,sBAAyC,CAC9Ca,QACAf,WACAmB,qBA1EFE,eA8EF,SAAwBC,GACtB,OAAOrB,EAAasB,IAAb,4BAAsCD,KA9E7CE,eAiFF,SAAwBF,GACtB,OAAOrB,EAAasB,IAAb,4BAAsCD,KAjF7CG,iBAoFF,SAA0BH,GACxB,OAAOrB,EAAaC,KAAb,mCAA8CoB,KApFrDI,OAuFF,WACE,OAAOzB,EAAa0B,IAAI,WAvFxBC,QA0FF,SAAiBN,GACf,OAAOrB,EAAa0B,IAAb,iBAA2BL,KA1FlCO,OA6FF,SAAgBhB,GACd,OAAOZ,EAAaC,KAAK,SAAUW,IA7FnCiB,OAgGF,SAAgBR,EAAIT,GAClB,OAAOZ,EAAasB,IAAb,iBAA2BD,GAAMT,GAAQV,MAAK,SAACC,GAOpD,OALIA,EAAKkB,KAAO3B,EAAYoC,MAAMT,KAEhClB,EAAI,2BAAQT,EAAYoC,OAAU3B,GAClCT,EAAYa,KAAKJ,IAEZA,MAvGT4B,OA4GF,SAAiBV,GACf,OAAOrB,EAAa+B,OAAb,iBAA8BV,IAAMnB,MAAK,SAAC8B,GAK/C,OAHIX,IAAO3B,EAAYoC,MAAMT,IAC3BZ,IAEKuB,MAjHT7B,KAAMT,EAAYuC,eAClB,gBACE,OAAOvC,EAAYoC,QAmBvB,SAASrB,IAEPT,EAAaC,KAAb,sBAAyC,IA6GzCiC,aAAa3C,GA3GbG,EAAYa,KAAK,MACjB4B,EAAQC,KAAK,UAGf,SAAS1B,IACP,OAAOV,EAAaC,KAAb,uBAA0C,IAAIC,MAAK,SAACC,GAIzD,OAFAT,EAAYa,KAAKJ,GACjBK,IACOL,KAuFX,SAASK,IAEP,IAAM6B,EAAWC,KAAKC,MAAMC,KAAK9C,EAAYoC,MAAMO,SAASI,MAAM,KAAK,KAIjEC,EADU,IAAIC,KAAoB,IAAfN,EAASO,KACVC,UAAYF,KAAKG,MAAQ,IACjDvD,EAAsBwD,WAAWrC,EAAcgC,GErJ1C,IAAM1C,EAAe,CAC1B0B,IAOF,SAAasB,GACX,IAAMC,EAAiB,CACrBC,OAAQ,MACRC,QAASC,EAAWJ,IAEtB,OAAOK,MAAM,GAAD,OAAI7D,EAAYC,gBAAhB,OAAiCuD,GAAOC,GAAgB/C,KAClEoD,IAZFC,YAgBF,SAAqBP,EAAKQ,GACxB,IAAMP,EAAiB,CACrBC,OAAQ,OACRC,QAAQ,aACNM,OAAQ,sDACR,eAAgB,oBACbL,EAAWJ,IAEhBU,YAAa,UACbC,KAAMrB,KAAKsB,UAAUJ,IAGvB,OAAOH,MAAM,GAAD,OAAI7D,EAAYC,gBAAhB,OAAiCuD,GAAOC,GAAgB/C,KAClE2D,IA5BF5D,KAgCF,SAAc+C,EAAKW,GACjB,IAAMV,EAAiB,CACrBC,OAAQ,OACRC,QAAQ,aAAG,eAAgB,oBAAuBC,EAAWJ,IAC7DU,YAAa,UACbC,KAAMrB,KAAKsB,UAAUD,IAEvB,OAAON,MAAM,GAAD,OAAI7D,EAAYC,gBAAhB,OAAiCuD,GAAOC,GAAgB/C,KAClEoD,IAvCFhC,IA2CF,SAAa0B,EAAKW,GAChB,IAAMV,EAAiB,CACrBC,OAAQ,MACRC,QAAQ,aAAG,eAAgB,oBAAuBC,EAAWJ,IAC7DW,KAAMrB,KAAKsB,UAAUD,IAEvB,OAAON,MAAM,GAAD,OAAI7D,EAAYC,gBAAhB,OAAiCuD,GAAOC,GAAgB/C,KAClEoD,IAjDFvB,OAsDF,SAAiBiB,GACf,IAAMC,EAAiB,CACrBC,OAAQ,SACRC,QAASC,EAAWJ,IAEtB,OAAOK,MAAM,GAAD,OAAI7D,EAAYC,gBAAhB,OAAiCuD,GAAOC,GAAgB/C,KAClEoD,KAMJ,SAASF,EAAWJ,GAElB,IAAM7C,EAAOP,EAAYkE,UAEzB,OADmB3D,GAAQA,EAAKkC,SAGvB,CAAE0B,cAAc,UAAD,OAAY5D,EAAKkC,WAEhC,GAIX,SAASiB,EAAeU,GACtB,OAAOA,EAASC,OAAO/D,MAAK,SAAC+D,GAC3B,IAAMC,EAAOD,GAAQ3B,KAAKC,MAAM0B,GAEhC,IAAKD,EAASG,GAAI,CACZ,CAAC,IAAK,KAAKC,SAASJ,EAAS1D,SAAWV,EAAYkE,WAEtDlE,EAAYa,SAGd,IAAM4D,EAASH,GAAQA,EAAKI,SAAYN,EAASO,WACjD,OAAOC,QAAQC,OAAOJ,GAGxB,OAAOH,KAIX,SAASL,EAA2BG,GAGlC,OAAOA,EAASC,OAAO/D,MAAK,SAAC+D,GAC3B,IAAMC,EAAOD,EAEb,IAAKD,EAASG,GAAI,CACZ,CAAC,IAAK,KAAKC,SAASJ,EAAS1D,SAAWV,EAAYkE,WAEtDlE,EAAYa,SAGd,IAAM4D,EAASH,GAAQA,EAAKI,SAAYN,EAASO,WACjD,OAAOC,QAAQC,OAAOJ,GAGxB,OAAOH,K,YCtHE/B,EAAUuC,cCFVC,EAAO,CAClBC,MAAO,QACPC,MAAO,QACPC,IAAK,MACLC,MAAO,QACPC,KAAM,Q,iECAR,SAASC,EAAT,GAAiE,IAA9BC,EAA6B,EAAxCC,UAAsBC,EAAkB,EAAlBA,MAAUC,EAAQ,iBAC9D,OACE,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAQ,SAACC,GACP,IAAMpF,EAAOP,EAAYkE,UACzB,OAAK3D,EAUDiF,IAAuC,IAA9BA,EAAMI,QAAQrF,EAAKsF,MAEvB,cAAC,IAAD,CAAUC,GAAI,CAAEC,SAAU,OAI5B,cAACT,EAAD,eAAeK,IAblB,cAAC,IAAD,CACEG,GAAI,CAAEC,SAAU,SAAUC,MAAO,CAAEC,KAAMN,EAAM/B,iB,oICwT9CsC,E,wKA5Tb,WACE,IAAMC,EAAa,UAGnB,MAAO,CACLC,OAAQ,CACNC,WAAY,UACZC,OAAQ,oBACRC,UAAW,aACXC,QAAS,SACTC,OAAQ,MACRC,OAAQ,WACRC,WAAY,2BAEdC,MAAO,CACLC,WAAY,QACZC,eAAgB,MAChBC,KAAM,UACNJ,WAAY,UACZK,SAAU,OACVC,WAAY,QAEdC,YAAa,CACXL,WAAY,SACZE,KAAM,UACNJ,WAAY,UACZK,SAAU,QAIZG,MAAO,CACLC,KAAM,CAAEC,OAAQ,QAASC,YAAa,GACtCC,cAAe,CAAEnF,EAAG,GAAIoF,EAAG,GAC3BC,WAAY,CACVV,KAAM,UACNJ,WAAY,UACZK,SAAU,KAKdU,QAAS,CACPC,KAAM,CACJN,OAAQ,mBAAyB,KAAzB,EAAGO,KAA2B,cAAgB,WACtDN,YAAa,GAEfF,KAAM,CAAEC,OAAQlB,EAAYmB,YAAa,GACzCO,MAAO,CAAEP,YAAa,GACtBG,WAAY,CACVV,KAAMZ,EACNQ,WAAY,UACZK,SAAU,GACVc,QAAS,IAGbC,SAAU,CACRhB,KAAMZ,EACNQ,WAAY,UACZK,SAAU,GACVgB,UAAW,UAEbC,OAAQ,CACN3D,KAAM,CAAEyC,KA5DS,YAgEnBmB,mBAAoB,CAClBnB,KAAMZ,EACNQ,WAAY,UACZM,WAAY,IACZD,SAAU,O,2BAKhB,WACE,IAAMb,EAAa,UAGnB,MAAO,CACLC,OAAQ,CACNC,WAAY,UACZC,OAAQ,oBACRC,UAAW,aACXC,QAAS,SACTC,OAAQ,OACRC,OAAQ,WACRC,WAAY,2BAEdC,MAAO,CACLC,WAAY,QACZC,eAAgB,MAChBC,KAAM,UACNJ,WAAY,UACZK,SAAU,OACVC,WAAY,QAEdC,YAAa,CACXL,WAAY,SACZE,KAAM,UACNJ,WAAY,UACZK,SAAU,QAIZG,MAAO,CACLC,KAAM,CAAEC,OAAQ,QAASC,YAAa,GACtCC,cAAe,CAAEnF,EAAG,GAAIoF,EAAG,GAC3BC,WAAY,CACVV,KAAM,UACNJ,WAAY,UACZK,SAAU,KAKdU,QAAS,CACPC,KAAM,CACJN,OAAQ,mBAAyB,KAAzB,EAAGO,KAA2B,cAAgB,WACtDN,YAAa,GAEfF,KAAM,CAAEC,OAAQlB,EAAYmB,YAAa,GACzCO,MAAO,CAAEP,YAAa,GACtBG,WAAY,CACVV,KAAMZ,EACNQ,WAAY,UACZK,SAAU,GACVc,QAAS,IAGbC,SAAU,CACRhB,KAAMZ,EACNQ,WAAY,UACZK,SAAU,GACVgB,UAAW,UAEbC,OAAQ,CACN3D,KAAM,CAAEyC,KA5DS,YAgEnBmB,mBAAoB,CAClBnB,KAAMZ,EACNQ,WAAY,UACZM,WAAY,IACZD,SAAU,O,8BAKhB,WACE,IAAMb,EAAa,UAGnB,MAAO,CACLC,OAAQ,CACNC,WAAY,UACZC,OAAQ,oBACRC,UAAW,aACXC,QAAS,SACTC,OAAQ,MACRC,OAAQ,WACRC,WAAY,2BAEdC,MAAO,CACLC,WAAY,QACZC,eAAgB,MAChBC,KAAM,UACNJ,WAAY,UACZK,SAAU,OACVC,WAAY,QAEdC,YAAa,CACXL,WAAY,SACZE,KAAM,UACNJ,WAAY,UACZK,SAAU,QAIZG,MAAO,CACLC,KAAM,CAAEC,OAAQ,QAASC,YAAa,GACtCC,cAAe,CAAEnF,EAAG,GAAIoF,EAAG,GAC3BC,WAAY,CACVV,KAAM,UACNJ,WAAY,UACZK,SAAU,KAKdU,QAAS,CACPC,KAAM,CACJN,OAAQ,mBAAyB,KAAzB,EAAGO,KAA2B,cAAgB,WACtDN,YAAa,GAEfF,KAAM,CAAEC,OAAQlB,EAAYmB,YAAa,GACzCO,MAAO,CAAEP,YAAa,GACtBG,WAAY,CACVV,KAAMZ,EACNQ,WAAY,UACZK,SAAU,GACVc,QAAS,IAGbC,SAAU,CACRhB,KAAMZ,EACNQ,WAAY,UACZK,SAAU,GACVgB,UAAW,UAEbC,OAAQ,CACN3D,KAAM,CAAEyC,KA5DS,YAgEnBmB,mBAAoB,CAClBnB,KAAMZ,EACNQ,WAAY,UACZM,WAAY,IACZD,SAAU,O,2BAKhB,WACE,OAAOmB,KAAKxC,MAAMrB,O,wBAGpB,WAGE,OAFsB6D,KAAKxC,MAAnByC,WAGN,IAAK,OACH,OAAOD,KAAKE,qBACd,IAAK,OACH,OAAOF,KAAKG,gBACd,IAAK,UACH,OAAOH,KAAKI,mBACd,QACE,OAAOJ,KAAKG,mB,oBAIlB,WACE,MAA4CH,KAAKxC,MAAzC6C,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,YAAa7B,EAAlC,EAAkCA,MAC5B8B,EAASP,KAAKQ,aACdC,EAAaT,KAAKU,gBAExB,OACE,sBAAKC,MAAOJ,EAAOtC,OAAQ2C,QAAQ,cAAnC,UAEE,sBAAM3G,EAAE,IAAIoF,EAAE,IAAIwB,MAAM,KAAKvC,OAAO,KAAKM,KAAK,YAC9C,sBAAM3E,EAAE,MAAMoF,EAAE,KAAKwB,MAAM,KAAKvC,OAAO,KAAKM,KAAK,YAGjD,cAAC,IAAD,CAAc3E,EAAG,GAAIoF,EAAG,GAAIsB,MAAOJ,EAAO9B,MAAOvC,KAAMuC,IACvD,cAAC,IAAD,CACExE,EAAG,IACHoF,EAAG,GACHsB,MAAOJ,EAAOxB,YACd7C,KAAMmE,EAAc,IAEtB,cAAC,IAAD,CACEpG,EAAG,GACHoF,EAAG,GACHsB,MAAOJ,EAAOX,SACd1D,KAAMoE,IAGR,mBAAGQ,UAAW,mBAAd,SACE,eAAC,IAAD,CACEC,QAAS,CACPC,SAAU,IACVC,OAAQ,UACRC,OAAQ,CAAEF,SAAU,MAEtBG,mBAAoB,cAAC,IAAD,CAAkBC,YAAY,IAClDhC,cAAe,CAAEnF,EAAG,GAAIoF,EAAG,GAC3BgC,YAAY,EARd,UAWE,cAAC,IAAD,CAAaA,YAAY,EAAOV,MAAOJ,EAAOvB,QAG9C,cAAC,IAAD,CACEsC,eAAa,EACbD,YAAY,EACZV,MAAOJ,EAAOhB,QACdgC,WAAY,SAACC,GAAD,kBAAYC,KAAKC,MAAMF,GAAK,IAA5B,SAId,cAAC,IAAD,CACEG,eACE,cAAC,IAAD,CACEC,GAAI,EACJC,aAAc,CAAE5H,EAAG,IACnB6H,gBAAgB,EAChBnB,MAAOJ,EAAOR,qBAGlBgC,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,MAAe,CAAC,KAAD,OAAMP,KAAKC,MAAMM,EAAMjI,MAAQ,KAA/B,QACvBoC,KAAMsE,EACNY,YAAY,EACZV,MAAOJ,EAAOT,OACd7F,EAAE,OACFoF,EAAE,sB,GApTQ4C,IAAM9E,W,SCuOfY,E,mKAtOb,WACE,IAAMC,EAAa,UAGnB,MAAO,CACLC,OAAQ,CACNC,WAAY,UACZE,UAAW,aACXC,QAAS,SACTC,OAAQ,MACRqB,QAAS,EACTnB,WAAY,2BAEdC,MAAO,CACLC,WAAY,QACZC,eAAgB,MAChBC,KAAM,UACNJ,WAAY,UACZK,SAAU,OACVC,WAAY,QAEdC,YAAa,CACXL,WAAY,SACZE,KAAM,UACNJ,WAAY,UACZK,SAAU,QAIZG,MAAO,CACLC,KAAM,CAAEC,OAAQ,QAASC,YAAa,GACtCC,cAAe,CAAEnF,EAAG,GAAIoF,EAAG,GAC3BC,WAAY,CACVV,KAAM,QACNJ,WAAY,UACZK,SAAU,KAKdU,QAAS,CACPC,KAAM,CACJN,OAAQ,mBAAyB,KAAzB,EAAGO,KAA2B,cAAgB,WACtDN,YAAa,GAEfF,KAAM,CAAEC,OAAQlB,EAAYmB,YAAa,GACzCO,MAAO,CAAEP,YAAa,GACtBG,WAAY,CACVV,KAAMZ,EACNQ,WAAY,UACZK,SAAU,GACVc,QAAS,IAGbC,SAAU,CACRhB,KAAMZ,EACNQ,WAAY,UACZK,SAAU,GACVgB,UAAW,UAEbqC,QAAS,CACP/F,KAAM,CAAE+C,OA3DS,UA2DaC,YAAa,qBAAGhD,KAAgBgG,SAC9DJ,OAAQ,CACNlD,SAAU,GACVD,KAAM,mBAA4B,IAA5B,EAAGoD,MAAmB/H,EAAU,UAAY,aAKtD8F,mBAAoB,CAClBnB,KAAMZ,EACNQ,WAAY,UACZM,WAAY,IACZD,SAAU,O,gCAKhB,WACE,IAAMb,EAAa,UAGnB,MAAO,CACLC,OAAQ,CACNC,WAAY,UACZE,UAAW,aACXC,QAAS,SACTC,OAAQ,MACRqB,QAAS,EACTnB,WAAY,2BAEdC,MAAO,CACLC,WAAY,QACZC,eAAgB,MAChBC,KAAM,UACNJ,WAAY,UACZK,SAAU,OACVC,WAAY,QAEdC,YAAa,CACXL,WAAY,SACZE,KAAM,UACNJ,WAAY,UACZK,SAAU,QAIZG,MAAO,CACLC,KAAM,CAAEC,OAAQ,QAASC,YAAa,GACtCC,cAAe,CAAEnF,EAAG,GAAIoF,EAAG,GAC3BC,WAAY,CACVV,KAAM,QACNJ,WAAY,UACZK,SAAU,KAKdU,QAAS,CACPC,KAAM,CACJN,OAAQ,mBAAyB,KAAzB,EAAGO,KAA2B,cAAgB,WACtDN,YAAa,GAEfF,KAAM,CAAEC,OAAQlB,EAAYmB,YAAa,GACzCO,MAAO,CAAEP,YAAa,GACtBG,WAAY,CACVV,KAAMZ,EACNQ,WAAY,UACZK,SAAU,GACVc,QAAS,IAGbC,SAAU,CACRhB,KAAMZ,EACNQ,WAAY,UACZK,SAAU,GACVgB,UAAW,UAEbqC,QAAS,CACP/F,KAAM,CAAEyC,KA3DS,YA+DnBmB,mBAAoB,CAClBnB,KAAMZ,EACNQ,WAAY,UACZM,WAAY,IACZD,SAAU,O,2BAKhB,WACE,OAAOmB,KAAKxC,MAAMrB,O,oBAGpB,WACE,MAAuD6D,KAAKxC,MAApD6C,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,YAAaL,EAAlC,EAAkCA,UAAWxB,EAA7C,EAA6CA,MACvC8B,EACU,SAAdN,EAAuBD,KAAKE,qBAAuBF,KAAKG,gBACpDM,EAAaT,KAAKU,gBAGxB,OACE,sBAAKC,MAAOJ,EAAOtC,OAAQ2C,QAAQ,cAAnC,UAEE,sBAAM3G,EAAE,IAAIoF,EAAE,IAAIwB,MAAM,KAAKvC,OAAO,KAAKM,KAAK,YAC9C,sBAAM3E,EAAE,MAAMoF,EAAE,KAAKwB,MAAM,KAAKvC,OAAO,KAAKM,KAAK,YAGjD,cAAC,IAAD,CAAc3E,EAAG,GAAIoF,EAAG,GAAIsB,MAAOJ,EAAO9B,MAAOvC,KAAMuC,IACvD,cAAC,IAAD,CACExE,EAAG,IACHoF,EAAG,GACHsB,MAAOJ,EAAOxB,YACd7C,KAAMmE,EAAc,IAEtB,cAAC,IAAD,CACEpG,EAAG,GACHoF,EAAG,GACHsB,MAAOJ,EAAOX,SACd1D,KAAMoE,IAGR,mBAAGQ,UAAW,mBAAd,SACE,eAAC,IAAD,CACEC,QAAS,CACPC,SAAU,IACVC,OAAQ,UACRC,OAAQ,CAAEF,SAAU,MAEtBG,mBAAoB,cAAC,IAAD,CAAkBC,YAAY,IAClDhC,cAAe,CAAEnF,EAAG,GAAIoF,EAAG,GAC3BgC,YAAY,EARd,UAWE,cAAC,IAAD,CAAaA,YAAY,EAAOV,MAAOJ,EAAOvB,QAG9C,cAAC,IAAD,CACEsC,eAAa,EACbD,YAAY,EACZV,MAAOJ,EAAOhB,QACdgC,WAAY,SAACC,GAAD,gBAAUC,KAAKC,MAAMF,GAArB,SAId,cAAC,IAAD,CACEG,eACE,cAAC,IAAD,CACEC,GAAI,EACJC,aAAc,CAAE5H,EAAG,IACnB6H,gBAAgB,EAChBnB,MAAOJ,EAAOR,qBAGlBgC,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,MAAe,CAAC,GAAD,OAAIP,KAAKC,MAAMM,EAAMjI,OAArB,QACvBoC,KAAMsE,EACNY,YAAY,EACZV,MAAOJ,EAAO2B,QACdjI,EAAE,OACFoF,EAAE,sB,GA9NQ4C,IAAM9E,WCRjBiF,EAAgB,CAC3BC,UAGF,SAAmBC,GACjB,OAAOrK,EAAa0B,IAAb,mBAA6B2I,M,ICqJvBC,E,kDApJb,WAAY/E,GAAQ,IAAD,8BACjB,cAAMA,IACDK,MAAQ,CACX2E,QAAS,CACPC,IAAK,CAAC,QAAS,WAAY,WAE3BC,SAAU,CACRC,MAAO,CACLxG,KAAM,KACNmE,YAAa,yBACb7B,MAAO,QACPmE,KAAM,OAERC,SAAU,CACR1G,KAAM,KACNmE,YAAa,oBACb7B,MAAO,eACPmE,KAAM,OAERE,QAAS,CACP3G,KAAM,KACNmE,YAAa,mBACb7B,MAAO,cACPmE,KAAM,UAvBG,E,qDA8BnB,WAAqB,IAAD,OAClBG,OAAOC,SAAS,EAAG,GACnBhD,KAAKiD,WACLjD,KAAKkD,SAAWC,aAAY,kBAAM,EAAKF,aAAY,Q,kCAGrD,WACEG,cAAcpD,KAAKkD,Y,sBAGrB,WAAY,IAAD,OACUlD,KAAKnC,MAAM2E,QAAQC,IAE3BY,QAAX,uCAAmB,WAAOf,GAAP,iBAAAgB,EAAA,6DACXC,EAAe,EAAK1F,MAAM2E,QAAQE,SAASJ,IACpCnG,KAAO,KACpB,EAAKqH,SAAL,2BAAmB,EAAK3F,OAAxB,IAA+B0F,kBAHd,SAKQnB,EAAcC,UAAUC,GALhC,OAKXmB,EALW,OAQjBF,EAAapH,KAAO,EAAKuH,SAASD,GAElC,EAAKD,SAAL,2BAAmB,EAAK3F,OAAxB,IAA+B0F,kBAVd,2CAAnB,yD,sBAcF,SAASpH,GACP,IAAIwH,EAAY,GAEhB,GAAoB,IAAhBxH,EAAKgG,OACP,cAA2ByB,OAAOC,QAAQ1H,EAAK,IAA/C,eAAoD,CAA/C,0BAAO2H,EAAP,KAAY/J,EAAZ,KACCgK,EAAU,GACdA,EAAQC,KAAOF,EACfC,EAAQhK,MAAQA,EAChB4J,EAAUtJ,KAAK0J,QAGjB,IAAK,IAAIE,EAAI,EAAGA,EAAI9H,EAAKgG,OAAQ8B,IAAK,CAGpC,IAFA,IAAMC,EAAMN,OAAOC,QAAQ1H,EAAK8H,IAC5BF,EAAU,GACd,MAA2BH,OAAOC,QAAQK,GAA1C,eAAgD,CAA3C,0BAAOJ,EAAP,KAAY/J,EAAZ,KACS,MAAR+J,IACFC,EAAQC,KAAOjK,EAAM,IAEX,MAAR+J,IACFC,EAAQhK,MAAQA,EAAM,IAG1B4J,EAAUtJ,KAAK0J,GAInB,OAAOJ,I,+BAGT,WACE,IAAMnB,EAAUxC,KAAKnC,MAAM2E,QACnBvC,EAAcD,KAAKxC,MAAnByC,UAoDR,OAlDuBuC,EAAQC,IAAI0B,KAAI,SAAC7B,EAAQ8B,GAC9C,MAAsC,QAAlC5B,EAAQE,SAASJ,GAAQM,KAEzB,iCACGJ,EAAQE,SAASJ,GAAQnG,MACxB,cAAC,EAAD,CACEkE,YAAa+D,EACbjI,KAAMqG,EAAQE,SAASJ,GAAQnG,KAC/BmE,YAAakC,EAAQE,SAASJ,GAAQhC,YACtCL,UAAWA,EACXxB,MAAO+D,EAAQE,SAASJ,GAAQ7D,SAGlC+D,EAAQE,SAASJ,GAAQnG,MACzB,gCACE,qBAAKkI,UAAU,4BAAf,SACE,qBAAKA,UAAU,iBAAf,uBAEF,wBAJQD,KAXHA,GAoB8B,SAAlC5B,EAAQE,SAASJ,GAAQM,KAEhC,iCACGJ,EAAQE,SAASJ,GAAQnG,MACxB,cAACmI,EAAD,CACEjE,YAAa+D,EACbjI,KAAMqG,EAAQE,SAASJ,GAAQnG,KAC/BmE,YAAakC,EAAQE,SAASJ,GAAQhC,YACtCL,UAAWA,EACXxB,MAAO+D,EAAQE,SAASJ,GAAQ7D,SAGlC+D,EAAQE,SAASJ,GAAQnG,MACzB,gCACE,qBAAKkI,UAAU,4BAAf,SACE,qBAAKA,UAAU,iBAAf,uBAEF,wBAJQD,KAXHA,GAqBN,uDAAUA,Q,oBAOvB,WACE,OAAO,cAACG,EAAA,EAAD,CAAWC,OAAK,EAAhB,SAAkBxE,KAAKyE,0B,GAjJZxC,IAAM9E,W,mCCLfuH,EAAe,CAC1BhL,OAGF,WACE,OAAOzB,EAAa0B,IAAI,aCAnB,IAAMgL,EAAS,WACpB,IA0GIC,EACAC,EA3GEzM,EAAOP,EAAYkE,UACzB,EAAiC+I,mBAAS,MAA1C,mBAAOC,EAAP,KAAeC,EAAf,KA0FA,SAASC,EAAUF,GACjB,IAAIG,EAAgB,GAOpB,OANAH,EAAO1B,SAAQ,SAAC8B,GACdD,EAAc7K,KAAK8K,EAAMC,kBAGRF,EAAcG,OAAOC,GAK1C,SAASA,EAAWvL,EAAOwL,EAAOC,GAChC,OAAOA,EAAK/H,QAAQ1D,KAAWwL,EAiBjC,OArHAE,qBAAU,WACRf,EAAahL,SAASvB,MAAK,SAAC8B,GAAD,OAAO+K,EAAe/K,QAChD,IAwGE8K,EAGwB,IAAlBA,EAAO5C,QAChByC,EAAa,6CACbC,EAAa,+CAEbD,EA7GF,SAAuBG,GAyBrB,OA2BF,SAAqBA,EAAQW,GAC3B,IAAIC,EAAQ,GAUZ,OARAD,EAAWrC,SAAQ,SAAC9K,GAClB,IAAIqN,EAAQ,EACZb,EAAO1B,SAAQ,SAACwC,GACVA,EAAOT,gBAAkB7M,KAAUqN,KAGzCD,EAAMtL,KAAK,CAAEyL,KAAMvN,EAAQqN,MAAOA,OAE7BD,EA7DeI,CAAYhB,EADfE,EAAUF,IAIFZ,KAAI,SAAC2B,EAAM1B,GAAP,OAC7B,eAAC4B,EAAA,EAAKC,KAAN,CAEEC,GAAIC,IACJxI,GAAI,CACFC,SAAU,eACVC,MAAO,CACLuI,WAAYN,EAAKA,OANvB,UAUE,cAACE,EAAA,EAAKK,QAAN,CAAcC,QAAQ,OAAOC,cAAc,SAA3C,SACGT,EAAKA,OAER,cAACE,EAAA,EAAKK,QAAN,CAAcC,QAAQ,QAAQC,cAAc,SAA5C,SACE,cAACC,EAAA,EAAD,CAAOC,UAAQ,EAAf,SAAiBX,EAAKF,YAbnBxB,MAsGIsC,CAAc3B,GAC3BF,EAlFF,SAA2BE,EAAQ4B,GAqBjC,OAiBF,SAAyB5B,EAAQW,EAAYiB,GAC3C,IAAIhB,EAAQ,GAcZ,OAZAD,EAAWrC,SAAQ,SAAC9K,GAClB,IAAIqN,EAAQ,EACZb,EAAO1B,SAAQ,SAACwC,GAEZA,EAAOT,gBAAkB7M,GACzBsN,EAAOc,oBAAsBA,KAE3Bf,KAGND,EAAMtL,KAAK,CAAEyL,KAAMvN,EAAQqN,MAAOA,OAE7BD,EAjDeiB,CACpB7B,EAFiBE,EAAUF,GAI3B4B,EAAkB5O,OAGOoM,KAAI,SAAC2B,EAAM1B,GAAP,OAC7B,eAAC4B,EAAA,EAAKC,KAAN,CAAqBC,GAAIC,IAAMxI,GAAG,eAAlC,UACE,cAACqI,EAAA,EAAKK,QAAN,CAAcC,QAAQ,OAAOC,cAAc,SAA3C,SACGT,EAAKA,OAER,cAACE,EAAA,EAAKK,QAAN,CAAcC,QAAQ,QAAQC,cAAc,SAA5C,SACE,cAACC,EAAA,EAAD,CAAOC,UAAQ,EAAf,SAAiBX,EAAKF,YALVxB,MAuELyC,CAAkB9B,EAAQ3M,KAPvCwM,EAAa,0CACbC,EAAa,2CAUb,cAACiC,EAAA,EAAD,CAAMC,WAAS,EAAf,SACE,cAACD,EAAA,EAAKE,OAAN,CAAaC,UAAU,OAAvB,SACE,cAACC,EAAA,EAAD,CAASC,QAAM,EAAf,SACE,eAACnB,EAAA,EAAD,CAAMoB,UAAQ,EAACC,SAAO,EAACC,MAAI,EAACC,WAAS,EAArC,UACE,cAACf,EAAA,EAAD,CAAON,GAAG,IAAI7B,UAAU,cAAcmD,QAAM,EAA5C,+BAGC5C,EACD,uBACA,cAAC4B,EAAA,EAAD,CAAON,GAAG,IAAI7B,UAAU,cAAcmD,QAAM,EAA5C,yBAGC3C,Y,mBCnIA4C,GAAW,WACtB,IAwBMlH,EAAS,CACbtC,OAAQ,CACNG,UAAW,aACXC,QAAS,SAETC,OAAQ,MACRqB,QAAS,EACTnB,WAAY,2BAGdC,MAAO,CACLC,WAAY,QACZC,eAAgB,MAChBC,KAAM,UACNJ,WAAY,UACZK,SAAU,OACVC,WAAY,QAGduB,YAAa,CACX3B,WAAY,SACZE,KAAM,UACNJ,WAAY,UACZK,SAAU,QAGZyB,YAAa,CACX1B,KAAM,UACNJ,WAAY,UACZK,SAAU,GACVgB,UAAW,UAGbb,MAAO,CACLU,MAAO,CAAER,OAAQ,UAAWwI,KAAM,GAClCpI,WAAY,CAAEV,KAAM,UAAWC,SAAU,GAAIc,QAAS,IAGxDgI,MAAO,CACLnI,KAAM,CACJN,OAAQ,UACRC,YAAa,GAEfO,MAAO,CAAER,OAAQ,UAAWwI,KAAM,GAClCpI,WAAY,CAAEV,KAAM,UAAWC,SAAU,GAAIc,QAAS,KAI1D,OACE,sBAAKgB,MAAOJ,EAAOtC,OAAQ2C,QAAQ,iBAAnC,UACE,cAAC,IAAD,CACE3G,EAAG,GACHoF,EAAG,GACHsB,MAAOJ,EAAO9B,MACdvC,KAAK,8BAEP,cAAC,IAAD,CAAcjC,EAAG,IAAKoF,EAAG,GAAIsB,MAAOJ,EAAOF,YAAanE,KAAK,MAC7D,cAAC,IAAD,CACEjC,EAAG,GACHoF,EAAG,GACHsB,MAAOJ,EAAOD,YACdpE,KAAK,wBAGP,mBAAG4E,UAAW,mBAAd,SACE,eAAC,IAAD,CACEC,QAAS,CACPC,SAAU,IACVC,OAAQ,UACRC,OAAQ,CAAEF,SAAU,MAEtBG,mBAAoB,cAAC,IAAD,CAAkBC,YAAY,IAClD9C,OAAQ,IACR+C,YAAY,EACZR,MAAO,KATT,UAWE,cAAC,IAAD,CACEE,QAAS,CAAEC,SAAU,IAAME,OAAQ,CAAEF,SAAU,MAC/C7E,KAtGG,CACX,CAAElC,EAAG,SAAUoF,EAAG,KAClB,CAAEpF,EAAG,SAAUoF,EAAG,QAClB,CAAEpF,EAAG,SAAUoF,EAAG,QAClB,CAAEpF,EAAG,SAAUoF,EAAG,OAClB,CAAEpF,EAAG,SAAUoF,EAAG,SAkGVsB,MAAO,CAAExE,KAAM,CAAEyC,KAAM,UAAWgJ,YAAa,MAEjD,cAAC,IAAD,CACE7G,QAAS,CAAEC,SAAU,IAAME,OAAQ,CAAEF,SAAU,MAC/C7E,KAnGE,CACV,CAAElC,EAAG,SAAUoF,EAAG,MAClB,CAAEpF,EAAG,SAAUoF,EAAG,OAClB,CAAEpF,EAAG,SAAUoF,EAAG,WAClB,CAAEpF,EAAG,SAAUoF,EAAG,QAClB,CAAEpF,EAAG,SAAUoF,EAAG,YA+FVsB,MAAO,CAAExE,KAAM,CAAEyC,KAAM,UAAWgJ,YAAa,MAEjD,cAAC,IAAD,CACE7G,QAAS,CAAEC,SAAU,IAAME,OAAQ,CAAEF,SAAU,MAC/C7E,KAhGQ,CAChB,CAAElC,EAAG,SAAUoF,EAAG,MAClB,CAAEpF,EAAG,SAAUoF,EAAG,UAClB,CAAEpF,EAAG,SAAUoF,EAAG,WAClB,CAAEpF,EAAG,SAAUoF,EAAG,QAClB,CAAEpF,EAAG,SAAUoF,EAAG,YA4FVsB,MAAO,CAAExE,KAAM,CAAEyC,KAAM,UAAWgJ,YAAa,MAEjD,cAAC,IAAD,CACEtG,eAAa,EACbD,YAAY,EACZV,MAAOJ,EAAOoH,MACdpG,WAAY,SAACC,GAAD,kBAAYC,KAAKC,MAAMF,GAAK,IAA5B,SAEd,cAAC,IAAD,CAAaH,YAAY,EAAOV,MAAOJ,EAAOvB,QAE9C,cAAC,KAAD,CACE/E,EAAG,KACHoF,EAAG,IACHnB,WAAW,UACX2J,aAAW,EACXC,YAAY,aACZC,OAAQ,GACR1G,YAAY,EACZV,MAAO,CAAExC,OAAQ,CAAES,KAAM,UAAWM,OAAQ,UAC5C/C,KAAM,CACJ,CACE6H,KAAM,OACNgE,OAAQ,CAAEpJ,KAAM,UAAWgJ,YAAa,GACxC7F,OAAQ,CAAEnD,KAAM,QAASC,SAAU,KAErC,CACEmF,KAAM,MACNgE,OAAQ,CAAEpJ,KAAM,UAAWgJ,YAAa,GACxC7F,OAAQ,CAAEnD,KAAM,QAASC,SAAU,KAErC,CACEmF,KAAM,YACNgE,OAAQ,CAAEpJ,KAAM,UAAWgJ,YAAa,GACxC7F,OAAQ,CAAEnD,KAAM,QAASC,SAAU,iBC7JpC,OAA0B,qCCS5BoJ,GAAY,WAMvB,OAJAhG,IAAMwD,WAAU,WACd1C,OAAOC,SAAS,EAAG,KAClB,IAGD,cAACuB,EAAA,EAAD,CAAWC,OAAK,EAAhB,SACE,eAACsC,EAAA,EAAD,CAAMoB,OAAO,aAAaC,WAAS,EAAClB,UAAU,SAASmB,QAAS,EAAhE,UACE,eAACtB,EAAA,EAAKuB,IAAN,WACE,cAACvB,EAAA,EAAKE,OAAN,CAAa3C,UAAU,OAAOxD,MAAO,EAArC,SACE,qBAAKyH,IAAKC,GAASC,IAAI,WAEzB,cAAC1B,EAAA,EAAKE,OAAN,CAAa3C,UAAU,WAAWxD,MAAO,GAAzC,SACE,cAAC,GAAD,SAGJ,eAACiG,EAAA,EAAKuB,IAAN,WACE,cAACvB,EAAA,EAAKE,OAAN,CAAa3C,UAAU,SAASxD,MAAO,EAAvC,SACE,cAAC,EAAD,MAEF,cAACiG,EAAA,EAAKE,OAAN,CAAa3C,UAAU,WAAWxD,MAAO,GAAzC,SACE,cAAC4H,EAAD,CAAkBxI,UAAU,oB,sEC7B3ByI,GAAoB,CAC/BhP,OAIF,WACE,OAAOzB,EAAa0B,IAAI,iBAJxBgP,c,4FAUF,WAA6BrP,GAA7B,SAAAgK,EAAA,+EAISrL,EAAa0B,IAAb,uBAAiCL,KAJ1C,4C,yDCLMsP,GAAyB,SAAC,GAAD,IAAGC,EAAH,EAAGA,gBAAiBC,EAApB,EAAoBA,eAApB,OAC7B,gCACE,oBAAIzE,UAAU,OAAd,SAAsBwE,IACtB,qBAAKxE,UAAU,UAAf,SAA0ByE,QASxBC,GAAmB,SAAC,GAAD,IAAG/E,EAAH,EAAGA,KAAH,OACvB,cAACwC,EAAA,EAAD,CAAOnC,UAAU,mBAAmB6B,GAAG,OAAO8C,QAAShF,KAOnDiF,GAAiB,SAAC,GAAD,IAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,WAAjB,OACrB,cAAC3C,EAAA,EAAD,CACEN,GAAIC,IACJxI,GAAE,sBAAiBwL,GACnB9E,UAAU,iBACV2E,QAASE,KASPE,GAAe,CACnBC,WAAW,EACXtP,MAAO,GACPuP,QAAS,GACTC,OAAQ,KACRC,QAAS,MAGUC,G,4MACnB5L,MAAQuL,G,EAkGRM,mBAAqB,SAACC,EAAD,OAAMC,EAAN,EAAMA,OAAN,OACnB,EAAKpG,SAAS,CAAEzJ,MAAO6P,EAAOV,gB,EAEhCW,mBAAqB,SAACF,EAAD,GAAmB,IAAb5P,EAAY,EAAZA,MAGzB,EAAKyJ,SAAS,CAAE6F,WAAW,EAAMtP,UAEjCiB,WAAU,sBAAC,kCAAAsI,EAAA,sDACL,EAAKzF,MAAM9D,MAAMoI,OAAS,IAC5B,EAAKqB,SAAS,CACZ6F,WAAW,EACXtP,MAAO,GACPuP,QAAS,GACTC,OAAQ,OAEV,EAAKO,cACL,EAAKC,aAIHC,EAAc,GAClB,EAAKnM,MAAM2L,QAAQnG,SAAQ,SAACwC,GAC1BmE,EAAY3P,KAAK,CACfoE,MAAOoH,EAAOoE,cACdf,aAAcrD,EAAOqE,kBAInBC,EAAK,IAAIC,OAAOC,KAAEC,aAAa,EAAKzM,MAAM9D,OAAQ,KAClDwQ,EAAU,SAACX,GAAD,OAAYO,EAAGK,KAAKZ,EAAOV,eAErCuB,EAAkBJ,KAAEK,OACxB,EAAK7M,MAAM0L,QACX,SAACoB,EAAMxO,EAAM6H,GACX,IAAMsF,EAAUe,KAAEhF,OAAOlJ,EAAKmN,QAASiB,GAIvC,OAHIjB,EAAQnH,SAAQwI,EAAK3G,GAAQ,CAAEA,OAAMsF,YAGlCqB,IAET,IAIF,EAAKnH,SAAS,CACZ6F,WAAW,EACXC,QAASmB,IAvCF,2CAyCR,M,8FAjJL,iCAAAnH,EAAA,sDAEMtD,KAAKxC,MAAMgM,QAGbxJ,KAAKwD,SAAS,CAAEgG,QAASxJ,KAAKxC,MAAMgM,UAAW,WAC7C,EAAKO,eAIP/J,KAAK8J,cAVT,gD,sHAcA,iCAAAxG,EAAA,kEACEtD,KADF,SAGqB0I,GAAkBhP,SAHvC,yBAGM8P,QAHN,WAKI,WACE,EAAKO,aANX,KACOvG,SADP,qE,6EAWA,WACExD,KAAKwD,SAAS,CACZ+F,OAAQ,CACNqB,OAAQ,CAAE5G,KAAM,SAAUsF,QAAStJ,KAAK6K,oBACxCC,MAAO,CAAE9G,KAAM,QAASsF,QAAStJ,KAAK+K,wB,8BAK5C,WAAoB,IAAD,OACTvB,EAAYxJ,KAAKnC,MAAjB2L,QAER,GAAIA,EAAS,OAAOA,EAAQrF,KAAI,SAAClK,GAAD,OAAO,EAAK+Q,cAAc/Q,Q,6BAG5D,WAAmB,IAAD,OACRuP,EAAYxJ,KAAKnC,MAAjB2L,QACFpR,EAAOP,EAAYkE,UACrBkP,EAAe,GAEnB,GAAIzB,EAKF,OAHAA,EAAQnG,SAAQ,SAACwC,GACXA,EAAOc,oBAAsBvO,EAAKL,OAAOkT,EAAa5Q,KAAKwL,MAE1DoF,EAAa9G,KAAI,SAAClK,GAAD,OAAO,EAAK+Q,cAAc/Q,Q,2BAItD,SAAc4L,GAqBZ,MAAO,CACLpH,MAHEoH,EAjBFoE,cAqBAf,aAJErD,EAhBFqE,aAqBAgB,YALErF,EAfFsF,YAqBAC,UANEvF,EAdFwF,UAqBAC,cAPEzF,EAbF0F,cAqBAC,YARE3F,EAZF4F,YAqBAC,eATE7F,EAXF8F,eAqBAC,UAVE/F,EAVFgG,UAqBAC,aAXEjG,EATFkG,aAqBAC,UAZEnG,EARFoG,UAqBA9C,WAbEtD,EAPFqG,WAqBAC,kBAdEtG,EANFc,kBAqBAyF,cAfEvG,EALFT,cAqBAiH,kBAhBExG,EAJFyG,kBAqBAC,WAjBE1G,EAHF0G,WAqBAC,UAlBE3G,EAFF4G,UAqBAC,UAnBE7G,EADF8G,a,oBA4EJ,WACE,MAAsC3M,KAAKnC,MAAnCwL,EAAR,EAAQA,UAAWtP,EAAnB,EAAmBA,MAAOuP,EAA1B,EAA0BA,QAE1B,OACE,cAACxC,EAAA,EAAD,UACE,cAACA,EAAA,EAAKE,OAAN,CAAanG,MAAO,EAApB,SACE,cAAC+L,GAAA,EAAD,CACEC,UAAQ,EACRjE,uBAAwBA,GACxBG,iBAAkBA,GAClB+D,QAASzD,EACT0D,eAAgB/M,KAAK0J,mBACrBsD,eAAgB3C,KAAE4C,SAASjN,KAAK6J,mBAAoB,IAAK,CACvDqD,SAAS,IAEXjE,eAAgBA,GAChBK,QAASA,EACTvP,MAAOA,Y,GAxK0BoD,aCnChCgQ,GAAc,SAAC3P,GAG1BiI,qBAAU,WACR1C,OAAOC,SAAS,EAAG,KAClB,IAEH,IA6BIgG,EA7BJ,EAAsClE,mBAAS,MAA/C,mBAAOsI,EAAP,KAAoBpI,EAApB,KACA,EAAwCF,mBAAS,QAAjD,mBAAOuI,EAAP,KAAqBC,EAArB,KACA,EAAgDxI,mBAAS,QAAzD,mBAAOyI,EAAP,KAAyBC,EAAzB,KACMpH,OACqBqH,IAAzBjQ,EAAM/B,SAASoC,MACXL,EAAM/B,SAASoC,MAAMuI,WACrB,OAEA0D,EAAc4D,sBAAW,uCAAC,WAAOtH,GAAP,eAAA9C,EAAA,sEACRoF,GAAkBhP,SADV,OACxB8P,EADwB,OAQ9BxE,EAAewE,GACf8D,EAAgBlH,GAChBoH,EAAoB,aAVU,2CAAD,sDAW5B,IAEH/H,qBAAU,WACiB,SAArB8H,IACFD,EAAgBlH,GAEhB0D,EAAY1D,MAEb,CAACA,EAAYmH,EAAkBzD,IAehCd,EAXGoE,EAWOA,EAAYjJ,KAAI,SAACiJ,GAEzB,GAAIA,EAAYhI,gBAAkBiI,EAAc,CAC9C,IAAMM,EAAK,sBAAkBP,EAAYlB,YACzC,OACE,eAAC0B,GAAA,EAAMvF,IAAP,CAAWhE,UAAU,kBAArB,UACE,cAACuJ,GAAA,EAAMC,KAAP,UACE,cAACC,GAAA,EAAD,CAAQ5H,GAAIC,IAAMxI,GAAIgQ,EAAOhN,MAAO,CAAEhB,QAAS,QAA/C,oBAIF,cAACiO,GAAA,EAAMC,KAAP,UAAaT,EAAY7B,gBACzB,cAACqC,GAAA,EAAMC,KAAP,UAAaT,EAAYlD,eACzB,cAAC0D,GAAA,EAAMC,KAAP,UAAaT,EAAYjC,cACzB,cAACyC,GAAA,EAAMC,KAAP,CAAY5G,UAAU,QAAtB,SAA+BmG,EAAYvB,YAC3C,cAAC+B,GAAA,EAAMC,KAAP,UAAaT,EAAYnB,YACzB,eAAC2B,GAAA,EAAMC,KAAP,CAAY5G,UAAU,QAAtB,eACKmG,EAAYrB,gBAEjB,eAAC6B,GAAA,EAAMC,KAAP,CAAY5G,UAAU,QAAtB,eAAiCmG,EAAY/B,aAC7C,eAACuC,GAAA,EAAMC,KAAP,CAAY5G,UAAU,QAAtB,eACKmG,EAAYzB,kBAEjB,cAACiC,GAAA,EAAMC,KAAP,UAAaT,EAAYb,aACzB,cAACqB,GAAA,EAAMC,KAAP,UACGT,EAAYd,kBACTyB,KAAOX,EAAYd,mBAAmB0B,OACpC,oBAEF,KAEN,cAACJ,GAAA,EAAMC,KAAP,UAAaT,EAAYzG,oBACzB,cAACiH,GAAA,EAAMC,KAAP,UAAaT,EAAYT,YACzB,cAACiB,GAAA,EAAMC,KAAP,UACGE,KAAOX,EAAYX,WAAWuB,OAAO,wBA7BEZ,EAAYlB,YAkC1D,OAAO,QAhDT,cAAC0B,GAAA,EAAMvF,IAAP,UACE,cAACuF,GAAA,EAAMC,KAAP,UACE,cAACI,GAAA,EAAD,CAAQC,QAAM,EAAd,SACE,cAACC,GAAA,EAAD,+BA6FV,OACE,eAAC5J,EAAA,EAAD,CAAWF,UAAU,cAAcG,OAAK,EAAxC,UA5CmB,WAEnB,OAAQ6I,GACN,IAAK,SACH,OACE,qCACE,eAACe,GAAA,EAAD,CAAQ/J,UAAU,cAAc6B,GAAG,KAAKI,QAAQ,OAAhD,0BACgB+G,EAAc,IAC5B,cAACS,GAAA,EAAD,CAAQO,QAAS,kBAAMvE,EAAY,SAAnC,0BAEF,cAACsE,GAAA,EAAD,CAAQ/J,UAAU,cAAciC,QAAQ,QAAxC,SACE,cAAC,GAAD,CAAiBkD,QAAS4D,SAIlC,IAAK,OACH,OACE,qCACE,eAACgB,GAAA,EAAD,CAAQ/J,UAAU,cAAc6B,GAAG,KAAKI,QAAQ,OAAhD,0BACgB+G,EAAc,IAC5B,cAACS,GAAA,EAAD,CAAQO,QAAS,kBAAMvE,EAAY,WAAnC,4BAEF,cAACsE,GAAA,EAAD,CAAQ/J,UAAU,cAAciC,QAAQ,QAAxC,SACE,cAAC,GAAD,CAAiBkD,QAAS4D,SAIlC,QACE,OACE,qCACE,eAACgB,GAAA,EAAD,CAAQ/J,UAAU,cAAc6B,GAAG,KAAKI,QAAQ,OAAhD,0BACgB+G,EADhB,oBAC+C,IAC7C,cAACS,GAAA,EAAD,CAAQO,QAAS,kBAAMvE,EAAY,WAAnC,yBACA,cAACgE,GAAA,EAAD,CAAQO,QAAS,kBAAMvE,EAAY,SAAnC,0BAEF,cAACsE,GAAA,EAAD,CAAQ/J,UAAU,cAAciC,QAAQ,QAAxC,SACE,cAAC,GAAD,CAAiBkD,QAAS4D,UASjCkB,GAED,eAACV,GAAA,EAAD,CACEvJ,UAAU,cACV6D,QAAM,EACNqG,SAAO,EACPC,OAAK,EACLC,YAAU,EACV/G,KAAK,QACLgH,aAAW,EAPb,UASE,cAACd,GAAA,EAAMQ,OAAP,CAAc/J,UAAU,cAAxB,SACE,eAACuJ,GAAA,EAAMvF,IAAP,WACE,cAACuF,GAAA,EAAMe,WAAP,0BACA,cAACf,GAAA,EAAMe,WAAP,6BACA,cAACf,GAAA,EAAMe,WAAP,4BACA,cAACf,GAAA,EAAMe,WAAP,uCACA,cAACf,GAAA,EAAMe,WAAP,yBACA,cAACf,GAAA,EAAMe,WAAP,yBACA,cAACf,GAAA,EAAMe,WAAP,4BACA,cAACf,GAAA,EAAMe,WAAP,yBACA,cAACf,GAAA,EAAMe,WAAP,8BACA,cAACf,GAAA,EAAMe,WAAP,yBACA,cAACf,GAAA,EAAMe,WAAP,uCACA,cAACf,GAAA,EAAMe,WAAP,iCACA,cAACf,GAAA,EAAMe,WAAP,yBACA,cAACf,GAAA,EAAMe,WAAP,gCAGJ,cAACf,GAAA,EAAMgB,KAAP,CAAYvK,UAAU,cAAtB,SAAqC2E,W,wCCrLhC6F,GAAc,CACzBnV,OAKF,WACE,OAAOzB,EAAa0B,IAAI,WALxBmV,QAQF,SAAiBxV,GACf,OAAOrB,EAAa0B,IAAb,iBAA2BL,KARlCyV,WAWF,SAAoBzV,EAAIT,GAEtB,OAAOZ,EAAasB,IAAb,iBAA2BD,GAAMT,K,uBChB7BmW,GAAiB,CAC5BtV,OAKF,WACE,OAAOzB,EAAa0B,IAAI,cALxBsV,WAQF,SAAoB3V,GAClB,OAAOrB,EAAa0B,IAAb,oBAA8BL,KARrC4V,cAWF,SAAuB5V,EAAIT,GAEzB,OAAOZ,EAAasB,IAAb,oBAA8BD,GAAMT,KCbtC,IAAMsW,GAAW,SAAC3R,GAEvB,IAAQlE,EAAakE,EAAblE,GAAIlB,EAASoF,EAATpF,KACZ,EAAsC0M,mBAAS,GAA/C,mBAAOsK,EAAP,KAAoBC,EAApB,KACA,EAAgCvK,mBAAS,MAAzC,mBAAOwK,EAAP,KAAiBC,EAAjB,KACA,EAA0CzK,mBAAS,QAAnD,mBAAO0K,EAAP,KAAsBC,EAAtB,KACA,EAA0B3K,mBAASwK,GAAnC,mBAAOzR,EAAP,KAAc2F,EAAd,KAEAiC,qBAAU,WAAM,4CACd,sBAAAnC,EAAA,6DACEmM,EAAiB,WADnB,KAEEF,EAFF,SAEoBP,GAAeC,WAAW3V,GAF9C,kCAGEmW,EAAiB,aAHnB,4CADc,uBAAC,WAAD,wBAOdC,KACC,CAACpW,IAGJ,IAiCI0P,EAzBE2G,EAAe,SAACC,GACpB,IAAM7V,EAAQ6V,EAAIC,OAAO9V,MACzByJ,EAAS,2BACJ3F,GADG,mBAEL+R,EAAIC,OAAO7L,KAAOjK,MAkYvB,OA3WKuV,EAEwB,UAAlBE,EACTxG,EAAU,wCACiB,cAAlBwG,GAAiCF,IAE1CtG,EACE,eAAC8G,GAAA,EAAD,WACE,cAACA,GAAA,EAAUC,MAAX,CACE7B,OAAwB,IAAhBkB,EACR7J,MAAO,EACP8I,QA9CY,SAAC1E,EAAGqG,GACtB,IAAQzK,EAAUyK,EAAVzK,MAIR8J,EAH0BD,IACa7J,GAAS,EAAIA,IAwChD,SAKE,cAACuI,GAAA,EAAD,+CAEF,cAACgC,GAAA,EAAUzJ,QAAX,CAAmB6H,OAAwB,IAAhBkB,EAA3B,SACE,cAACa,GAAA,EAAD,CAAM9I,QAAM,EAAC+I,UAAQ,EAAC1L,OAAK,EAA3B,SACE,eAAC2L,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,UACE,cAACF,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGkB,oBAAsB,GAChDhM,OAAK,EACLlL,GAAG,0CACH0K,KAAK,qBACLyM,MAAM,uBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGqB,sBAAwB,GAClDnM,OAAK,EACLlL,GAAG,4CACH0K,KAAK,uBACLyM,MAAM,yBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGsB,qBAAuB,GACjDpM,OAAK,EACLlL,GAAG,2CACH0K,KAAK,sBACLyM,MAAM,wBACNC,SAAUf,EACV/M,KAAK,YAGT,eAACuN,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,UACE,cAACF,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGuB,oBAAsB,GAChDrM,OAAK,EACLlL,GAAG,yCACH0K,KAAK,qBACLyM,MAAM,sBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGwB,sBAAwB,GAClDtM,OAAK,EACLlL,GAAG,2CACH0K,KAAK,uBACLyM,MAAM,wBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGyB,qBAAuB,GACjDvM,OAAK,EACLlL,GAAG,0CACH0K,KAAK,sBACLyM,MAAM,uBACNC,SAAUf,EACV/M,KAAK,YAGT,eAACuN,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,UACE,cAACF,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAG0B,oBAAsB,GAChDxM,OAAK,EACLlL,GAAG,0CACH0K,KAAK,qBACLyM,MAAM,kCACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAG2B,sBAAwB,GAClDzM,OAAK,EACLlL,GAAG,4CACH0K,KAAK,uBACLyM,MAAM,oCACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAG4B,qBAAuB,GACjD1M,OAAK,EACLlL,GAAG,0CACH0K,KAAK,sBACLyM,MAAM,mCACNC,SAAUf,EACV/M,KAAK,YAGT,eAACuN,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,UACE,cAACF,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAG6B,cAAgB,GAC1C3M,OAAK,EACLlL,GAAG,oCACH0K,KAAK,eACLyM,MAAM,iBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAG8B,cAAgB,GAC1C5M,OAAK,EACLlL,GAAG,oCACH0K,KAAK,eACLyM,MAAM,iBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAG+B,cAAgB,GAC1C7M,OAAK,EACLlL,GAAG,oCACH0K,KAAK,eACLyM,MAAM,iBACNC,SAAUf,EACV/M,KAAK,YAGT,eAACuN,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,UACE,cAACF,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGgC,cAAgB,GAC1C9M,OAAK,EACLlL,GAAG,oCACH0K,KAAK,eACLyM,MAAM,iBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGiC,cAAgB,GAC1C/M,OAAK,EACLlL,GAAG,oCACH0K,KAAK,eACLyM,MAAM,iBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGkC,cAAgB,GAC1ChN,OAAK,EACLlL,GAAG,oCACH0K,KAAK,eACLyM,MAAM,iBACNC,SAAUf,EACV/M,KAAK,YAGT,eAACuN,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,UACE,cAACF,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGmC,cAAgB,GAC1CjN,OAAK,EACLlL,GAAG,oCACH0K,KAAK,eACLyM,MAAM,iBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGoC,cAAgB,GAC1ClN,OAAK,EACLlL,GAAG,oCACH0K,KAAK,eACLyM,MAAM,iBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGqC,cAAgB,GAC1CnN,OAAK,EACLlL,GAAG,oCACH0K,KAAK,eACLyM,MAAM,iBACNC,SAAUf,EACV/M,KAAK,YAGT,eAACuN,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,UACE,cAACF,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGsC,eAAiB,GAC3CpN,OAAK,EACLlL,GAAG,qCACH0K,KAAK,gBACLyM,MAAM,kBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAK0B,MAAN,IACA,cAAC1B,GAAA,EAAK0B,MAAN,OAEF,eAAC1B,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,UACE,cAACF,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGwC,aAAe,GACzCtN,OAAK,EACLlL,GAAG,mCACH0K,KAAK,cACLyM,MAAM,gBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGyC,aAAe,GACzCvN,OAAK,EACLlL,GAAG,mCACH0K,KAAK,cACLyM,MAAM,gBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAG0C,aAAe,GACzCxN,OAAK,EACLlL,GAAG,mCACH0K,KAAK,cACLyM,MAAM,gBACNC,SAAUf,EACV/M,KAAK,YAGT,eAACuN,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,UACE,cAACF,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAG2C,aAAe,GACzCzN,OAAK,EACLlL,GAAG,mCACH0K,KAAK,cACLyM,MAAM,gBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAG4C,aAAe,GACzC1N,OAAK,EACLlL,GAAG,mCACH0K,KAAK,cACLyM,MAAM,gBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAG6C,aAAe,GACzC3N,OAAK,EACLlL,GAAG,mCACH0K,KAAK,cACLyM,MAAM,gBACNC,SAAUf,EACV/M,KAAK,YAGT,eAACuN,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,UACE,cAACF,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAG8C,aAAe,GACzC5N,OAAK,EACLlL,GAAG,mCACH0K,KAAK,cACLyM,MAAM,gBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAG+C,aAAe,GACzC7N,OAAK,EACLlL,GAAG,mCACH0K,KAAK,cACLyM,MAAM,gBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGgD,aAAe,GACzC9N,OAAK,EACLlL,GAAG,mCACH0K,KAAK,cACLyM,MAAM,gBACNC,SAAUf,EACV/M,KAAK,YAGT,eAACuN,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,UACE,cAACF,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGiD,cAAgB,GAC1C/N,OAAK,EACLlL,GAAG,oCACH0K,KAAK,eACLyM,MAAM,iBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAK0B,MAAN,IACA,cAAC1B,GAAA,EAAK0B,MAAN,OAEF,eAAC1B,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,UACE,cAACF,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGkD,MAAQ,GAClChO,OAAK,EACLlL,GAAG,2BACH0K,KAAK,OACLyM,MAAM,mBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGmD,MAAQ,GAClCjO,OAAK,EACLlL,GAAG,2BACH0K,KAAK,OACLyM,MAAM,mBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGoD,MAAQ,GAClClO,OAAK,EACLlL,GAAG,2BACH0K,KAAK,OACLyM,MAAM,mBACNC,SAAUf,EACV/M,KAAK,YAGT,eAACuN,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,UACE,cAACF,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGqD,MAAQ,GAClCnO,OAAK,EACLlL,GAAG,2BACH0K,KAAK,OACLyM,MAAM,mBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAKG,MAAN,CACEC,aAAcjB,EAAS,GAAGsD,MAAQ,GAClCpO,OAAK,EACLlL,GAAG,2BACH0K,KAAK,OACLyM,MAAM,mBACNC,SAAUf,EACV/M,KAAK,SAEP,cAACuN,GAAA,EAAK0B,MAAN,OAEF,cAAC/D,GAAA,EAAD,CAAQO,QAtXC,WAKnB,IAAMwE,EAAUhV,EAChBgV,EAAQvZ,GAAKA,EAEbuZ,EAAQlG,UAAYvU,EAEpB4W,GAAeE,cAAc5V,EAAIuZ,IA4WvB,wCAlWV7J,EAAU,qBAAK3E,UAAU,UAAf,yBA0WL,8BAAM2E,KCpaF8J,GAAiB,CAC5BpZ,OAOF,WACE,OAAOzB,EAAa0B,IAAI,cAPxBoZ,wBAUF,SAAiC7G,GAC/B,OAAOjU,EAAa0B,IAAb,oBAA8BuS,KAVrC8G,WAkBF,SAAoB1Z,GAClB,OAAOrB,EAAa0B,IAAb,oBAA8BL,KAlBrC2Z,cAYF,SAAuBpa,GAErB,OADAR,QAAQC,IAAI,gBAAiBO,GACtBZ,EAAaC,KAAK,YAAaW,IAbtCqa,cAoBF,SAAuB5Z,EAAIT,GACzB,OAAOZ,EAAasB,IAAb,oBAA8BD,GAAMT,KCtBtC,IAAMsa,GAAW,SAAC3V,GACvB,IAcI4V,EAwEApK,EAtFI1P,EAAOkE,EAAPlE,GACR,EAAgCwL,mBAAS,MAAzC,mBAAOuO,EAAP,KAAiBC,EAAjB,KACA,EAA0CxO,mBAAS,QAAnD,mBAAOyO,EAAP,KAAsBC,EAAtB,KAcA,GAZA/N,qBAAU,WAAM,4CACd,sBAAAnC,EAAA,kEACEgQ,EADF,SACoBR,GAAeC,wBAAwBzZ,GAD3D,kCAGEka,EAAiB,aAHnB,4CADc,uBAAC,WAAD,wBAOdC,KACC,CAACna,EAAIia,IAIJF,EAAU,CACZ,IAAIK,EACAC,EAAqB,GAEzBN,EAAShQ,SAAQ,SAACuQ,EAASxP,GAEzBuP,EAAmBvP,GAAO,UAAGA,EAAM,EAAT,MAAiBwP,EAAQC,aAAe,UAGpEH,EAAgBC,EAAmBG,KAAK,MAExC,IAAIC,EAAgB,GAEpBV,EAAShQ,SAAQ,SAACuQ,EAASxP,GACzB,IAAI4P,EAAUJ,EAAQI,QAClBjG,KAAO6F,EAAQI,SAAShG,OAAO,cAC/B,KACAiG,EAAwBL,EAAQK,sBAChClG,KAAO6F,EAAQK,uBAAuBjG,OAAO,cAC7C,KAEJ+F,EAAc3P,GACZ2J,KAAO6F,EAAQM,aAAalG,OAAO,uBACnC,YACA4F,EAAQO,UAFRpG,uBAKA6F,EAAQQ,gBALRrG,uBAQA6F,EAAQS,cARRtG,oBAWA6F,EAAQU,aAXRvG,iBAcA6F,EAAQW,UAdRxG,eAiBAiG,EAjBAjG,kBAoBA6F,EAAQY,UApBRzG,kBAuBA6F,EAAQa,WAvBR1G,oCA0BAkG,EA1BAlG,uCA6BA6F,EAAQc,wBA7BR3G,yBAgCA6F,EAAQe,kBAhCR5G,+BAmCAA,KAAO6F,EAAQtH,mBAAmB0B,OAAO,oBAnCzCD,iBAsCA6F,EAAQgB,UAtCR7G,sBAyCA2F,EAzCA3F,qDA6CJqF,EAAiBW,EAAcD,KAAK,MAyCtC,MArCsB,cAAlBP,IACFvK,EACE,qCACE,cAACiH,GAAA,EAAK7B,OAAN,CAAa/J,UAAU,yBAAvB,SACE,cAAC4L,GAAA,EAAK5J,QAAN,iCAEF,cAAC4J,GAAA,EAAK5J,QAAN,UACE,cAAC8J,GAAA,EAAD,UACE,cAACA,GAAA,EAAKC,MAAN,CAAYC,OAAO,QAAnB,SACE,cAACF,GAAA,EAAK0E,SAAN,CACEvb,GAAG,qCACHwb,KAAK,KACLC,UAAQ,EACRxE,aAAc6C,cAwBrB,8BAAMpK,K,8BCjIFgM,GAAiB,CAC5Btb,OAKF,WACE,OAAOzB,EAAa0B,IAAI,cALxBsb,WAQF,SAAoB3b,GAClB,OAAOrB,EAAa0B,IAAb,oBAA8BL,KARrC4b,cAWF,SAAuB5b,EAAIT,GAEzB,OAAOZ,EAAasB,IAAb,oBAA8BD,GAAMT,KCbtC,IAAMsc,GAAY,SAAC3X,GACxB,IAaIwL,EAbIoM,EAAuB5X,EAAvB4X,aAAchd,EAASoF,EAATpF,KACtB,EAA0B0M,mBAAS,MAAnC,mBAAOuQ,EAAP,KAAcC,EAAd,KACA,EAAoCxQ,mBAAS,QAA7C,mBAAOyQ,EAAP,KAAmBC,EAAnB,KAEA/P,qBAAU,WAAM,4CACd,sBAAAnC,EAAA,kEACEgS,EADF,SACiBzd,EAAY6B,SAD7B,kCAEE8b,EAAc,aAFhB,4CADc,uBAAC,WAAD,wBAMdC,KACC,CAACF,IAGJ,IAAIG,EAAU,GAEd,GAAKL,GAEE,GAAmB,cAAfE,EAA4B,CACrCF,EAAMlR,KAAI,SAAC/L,GAAD,OACRsd,EAAQrb,KAAK,CACXyJ,IAAK1L,EAAKkB,GACV4C,KAAM9D,EAAKud,UAAY,IAAMvd,EAAKwd,SAClC7b,MAAO3B,EAAKL,WAGhB,IAAM8d,EAAWzd,EAAKud,UAAY,IAAMvd,EAAKwd,SAC7C5M,EACE,cAACmH,GAAA,EAAK2F,OAAN,CACEtR,OAAK,EACLlL,GAAG,8BACHmX,MAAM,aACNzM,KAAK,oBACL0M,SAAU0E,EACVM,QAASA,EACTK,YAAaF,EACbG,UAAQ,UAnBZhN,EAAU,qBAAK3E,UAAU,SAAf,wBA0BZ,OAAO,mCAAG2E,KC5BCiN,GAAiB,SAACzY,GAE7ByE,IAAMwD,WAAU,WACd1C,OAAOC,SAAS,EAAG,KAClB,IAGH,IAAM5K,EAAOP,EAAYkE,UACnB2B,EAAOtF,EAAKsF,KAGhB6N,EAOE/N,EAPF+N,cACAU,EAMEzO,EANFyO,UACA7F,EAKE5I,EALF4I,WACAO,EAIEnJ,EAJFmJ,kBACAvB,EAGE5H,EAHF4H,cACA9L,EAEEkE,EAFFlE,GACA4c,EACE1Y,EADF0Y,SAGIC,EAAoB,CACxB,CACErS,IAAK,WACL5H,KAAM,gCACNnC,MAAO,iCAET,CACE+J,IAAK,OACL5H,KAAM,4CACNnC,MAAO,6CAET,CACE+J,IAAK,UACL5H,KAAM,uBACNnC,MAAO,wBAET,CAAE+J,IAAK,MAAO5H,KAAM,oBAAqBnC,MAAO,qBAChD,CACE+J,IAAK,UACL5H,KAAM,4BACNnC,MAAO,8BAULqc,EAAyB,CAC7B,CAAEtS,IAAK,IAAK5H,KAAM,QAASnC,MAAO,SAClC,CAAE+J,IAAK,IAAK5H,KAAM,OAAQnC,MAAO,QACjC,CAAE+J,IAAK,IAAK5H,KAAM,QAASnC,MAAO,UAa9B4V,EAAe,SAACC,GACpB,IAAM5L,EAAO4L,EAAIC,OAAO7L,KAGlBjK,EAAQ6V,EAAIC,OAAO9V,MAEzByJ,GAAS,SAAC6S,GAAD,MAAgB,CACvBC,OAAO,2BACFD,EAAUC,QADT,IAEJ5T,SAAS,2BACJ2T,EAAUC,OAAO5T,UADd,mBAELsB,EAFK,2BAGDqS,EAAUC,OAAO5T,SAASsB,IAHzB,IAIJjK,MAAOA,aAOXwc,EAAc,SAACC,EAAKxS,GAExBR,GAAS,SAAC6S,GAAD,MAAgB,CACvBC,OAAO,2BACFD,EAAUC,QADT,IAEJ5T,SAAS,2BACJ2T,EAAUC,OAAO5T,UADd,mBAELsB,EAFK,2BAGDqS,EAAUC,OAAO5T,SAASsB,IAHzB,IAIJ1H,MAAOka,aAOXC,EAAgB,SAACC,EAAD,GAA4B,EAAlB1S,KAAmB,IAAbjK,EAAY,EAAZA,MAC9Bia,EAAUja,EAEV4c,EAAW5I,KAAOhU,GACrB6c,SAAS,EAAG,QACZC,IAAI,CAAEC,KAAM,EAAGC,OAAQ,IACvB/I,OAAO,oBAEVxK,GAAS,SAAC6S,GAAD,MAAgB,CACvBC,OAAO,2BACFD,EAAUC,QADT,IAEJ5T,SAAS,2BACJ2T,EAAUC,OAAO5T,UADd,IAENsR,QAAQ,2BACHqC,EAAUC,OAAO5T,SAAjB,SADE,IAEL3I,MAAOia,YAMfxQ,GAAS,SAAC6S,GAAD,MAAgB,CACvBC,OAAO,2BACFD,EAAUC,QADT,IAEJ5T,SAAS,2BACJ2T,EAAUC,OAAO5T,UADd,IAEN4J,kBAAkB,2BACb+J,EAAUC,OAAO5T,SAAjB,mBADY,IAEf3I,MAAO4c,aAOXK,EAAa,SAACN,EAAD,GAA6B,IAAnB1S,EAAkB,EAAlBA,KAAMjK,EAAY,EAAZA,MACjCyJ,GAAS,SAAC6S,GAAD,MAAgB,CACvBC,OAAO,2BACFD,EAAUC,QADT,IAEJ5T,SAAS,2BACJ2T,EAAUC,OAAO5T,UADd,mBAELsB,EAFK,2BAGDqS,EAAUC,OAAO5T,SAASsB,IAHzB,IAIJjK,MAAOA,aAOXqb,EAAe,SAACxF,EAAKzT,GACzB,IAAQ6H,EAAgB7H,EAAhB6H,KAAMjK,EAAUoC,EAAVpC,MAEdyJ,GAAS,SAAC6S,GAAD,MAAgB,CACvBC,OAAO,2BACFD,EAAUC,QADT,IAEJ5T,SAAS,2BACJ2T,EAAUC,OAAO5T,UADd,mBAELsB,EAFK,2BAGDqS,EAAUC,OAAO5T,SAASsB,IAHzB,IAIJjK,MAAOA,aAOXkd,EAAqB,WACVpZ,EAAMyY,OAAO7T,IAErBY,SAAQ,SAAC6T,GACd1T,GAAS,SAAC6S,GAAD,MAAgB,CACvBC,OAAO,2BACFD,EAAUC,QADT,IAEJ5T,SAAS,2BACJ2T,EAAUC,OAAO5T,UADd,mBAELwU,EAFK,2BAGDb,EAAUC,OAAO5T,SAASwU,IAHzB,IAIJ5a,MAAO,mBAoCb6a,EAAc,WAClB,IAAIC,GAAO,EAEX/e,QAAQC,IAAI,kBAAmBuF,EAAMyY,OAAO5T,UAGvC7E,EAAMyY,OAAO5T,SAAb,gBAAyC3I,QAC5Cwc,EAAY,mCAAoC,mBAChDa,GAAO,GAI4C,SAAnDvZ,EAAMyY,OAAO5T,SAAb,gBAAyC3I,OACc,KAAvD8D,EAAMyY,OAAO5T,SAAb,aAAsC3I,MAAMoI,SAE5CoU,EAAY,0CAA2C,gBACvDa,GAAO,GA6FT,MAvFqD,UAAnDvZ,EAAMyY,OAAO5T,SAAb,gBAAyC3I,OAH5B,iDAILyQ,KAAK3M,EAAMyY,OAAO5T,SAAb,UAAmC3I,SAEhDwc,EAAY,uCAAwC,aACpDa,GAAO,GAI4C,KAAjDvZ,EAAMyY,OAAO5T,SAAb,cAAuC3I,QACzCwc,EAAY,wCAAyC,iBACrDa,GAAO,GAKoC,KAA3CvZ,EAAMyY,OAAO5T,SAAb,QAAiC3I,OACY,KAA7C8D,EAAMyY,OAAO5T,SAAb,UAAmC3I,QAEnCwc,EAAY,2BAA4B,aACxCa,GAAO,GAIsC,KAA7CvZ,EAAMyY,OAAO5T,SAAb,UAAmC3I,OACQ,KAA3C8D,EAAMyY,OAAO5T,SAAb,QAAiC3I,QAEjCwc,EAAY,wBAAyB,WACrCa,GAAO,GAIyC,KAA9CvZ,EAAMyY,OAAO5T,SAAb,WAAoC3I,QACtCwc,EAAY,6BAA8B,cAC1Ca,GAAO,GAKkD,KAAzDvZ,EAAMyY,OAAO5T,SAAb,sBAA+C3I,OACY,KAA3D8D,EAAMyY,OAAO5T,SAAb,wBAAiD3I,QAEjDwc,EAAY,2BAA4B,2BACxCa,GAAO,GAIoD,KAA3DvZ,EAAMyY,OAAO5T,SAAb,wBAAiD3I,OACQ,KAAzD8D,EAAMyY,OAAO5T,SAAb,sBAA+C3I,QAE/Cwc,EAAY,wBAAyB,yBACrCa,GAAO,GAKE,UAAT1Z,GACAG,EAAMyY,OAAO5T,SAAb,aAAsC3I,MAAMoI,OAAS,KAErDoU,EAAY,qCAAsC,gBAClDa,GAAO,GAIE,UAAT1Z,GACAG,EAAMyY,OAAO5T,SAAb,aAAsC3I,MAAMoI,OAAS,KAErDoU,EAAY,qCAAsC,gBAClDa,GAAO,GAGI,QAAT1Z,GAAkBG,EAAMyY,OAAO5T,SAAb,SAAkC3I,MAAMoI,OAAS,KACrEoU,EAAY,qCAAsC,YAClDa,GAAO,GAIgD,KAArDvZ,EAAMyY,OAAO5T,SAAb,kBAA2C3I,QAC7Cwc,EAAY,wBAAyB,qBACrCa,GAAO,GAILvZ,EAAMyY,OAAO5T,SAAb,UAAmC3I,MAAMoI,OAAS,KACpDoU,EAAY,qCAAsC,aAClDa,GAAO,GAGFA,GAGT,EAA0BnV,IAAM6C,SAAS,CACvCwR,OAAQ,CACN7T,IAAK,CACH,gBACA,oBACA,0BACA,wBACA,YACA,eACA,cACA,YACA,oBACA,eACA,eACA,aACA,YACA,UACA,cACA,aACA,mBAEFC,SAAU,CACR2R,cAAe,CACbgD,QAAS/G,KACThU,MAAO,KACPkI,OAAO,EACP8S,SAAS,EACT7G,MAAO,iBACPC,SAAUf,EACV4H,MAAO,GACP3U,KAAM,OACN7I,MAAO,IAET4M,kBAAmB,CACjB0Q,QAASvB,KACTxZ,MAAO,KACPkI,OAAO,EACP8S,SAAS,EACT7G,MAAO,qBACPC,SAAU0E,EACVM,QAAS,GACT6B,MAAO,GACP3U,KAAM,OACN7I,MAAO3B,GAETsc,wBAAyB,CACvB2C,QAAS/G,KACThU,MAAO,KACPkI,OAAO,EACP8S,SAAS,EACT7G,MAAO,4BACPC,SAAUf,EACV4H,MAAO,GACP3U,KAAM,OACN7I,MAAO,IAETka,sBAAuB,CACrBuD,+BACAlb,MAAO,KACPkI,OAAO,EACP8S,SAAS,EACT7G,MAAO,0BACPC,SAAUsG,EACVO,MAAO,GACP3U,KAAM,OACN7I,MAAO,IAETwa,UAAW,CACT8C,QAAS/G,KACThU,MAAO,KACPkI,OAAO,EACP8S,SAAS,EACT7G,MAAO,aACPC,SAAUf,EACV4H,MAAO,GACP3U,KAAM,QACN7I,MAAO,IAET0d,aAAc,CACZJ,QAASxC,KACTvY,MAAO,KACPgb,SAAS,EACT7G,MAAO,iBACPC,SAAUf,EACV4H,MAAO,GACP3U,KAAM,OACN7I,MAAO,IAET2d,YAAa,CACXL,QAASxC,KACTvY,MAAO,KACPgb,SAAS,EACT7G,MAAO,gBACPC,SAAUf,EACV4H,MAAO,GACP3U,KAAM,OACN7I,MAAO,IAET6a,UAAW,CACTyC,QAASxC,KACTvY,MAAO,KACPgb,SAAS,EACT7G,MAAO,aACPC,SAAUf,EACV4H,MAAO,GACP3U,KAAM,OACN7I,MAAO,IAETuS,kBAAmB,CACjBkL,+BACAlb,MAAO,KACPkI,OAAO,EACP8S,SAAS,EACT7G,MAAO,2BACPC,SAAUsG,EACVO,MAAO,GACP3U,KAAM,OACN7I,MAAO,IAETua,aAAc,CACZ+C,QAAS/G,KACThU,MAAO,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","file":"static/js/main.36028e8c.chunk.js","sourcesContent":["import { BehaviorSubject } from 'rxjs';\n\nimport { fetchWrapper, history } from '../../helpers';\n\nconst userSubject = new BehaviorSubject(null);\n\nexport const userService = {\n  login,\n  logout,\n  refreshToken,\n  register,\n  verifyEmail,\n  forgotPassword,\n  validateResetToken,\n  resetPassword,\n  setNewPassword,\n  deactivateUser,\n  reactivateUser,\n  resendInvitation,\n  getAll,\n  getById,\n  create,\n  update,\n  delete: _delete,\n  user: userSubject.asObservable(),\n  get userValue() {\n    return userSubject.value;\n  },\n};\n\nfunction login(email, password) {\n  return fetchWrapper\n    .post(`/users/authenticate`, { email, password })\n    .then((user) => {\n      console.log(user);\n      if (user.status === 'Error') {\n        return user;\n      }\n      // publish user to subscribers and start timer to refresh token\n      userSubject.next(user);\n      startRefreshTokenTimer();\n      return user;\n    });\n}\n\nfunction logout() {\n  // revoke token, stop refresh timer, publish null to user subscribers and redirect to login page\n  fetchWrapper.post(`/users/revoke-token`, {});\n  stopRefreshTokenTimer();\n  userSubject.next(null);\n  history.push('/login');\n}\n\nfunction refreshToken() {\n  return fetchWrapper.post(`/users/refresh-token`, {}).then((user) => {\n    // publish user to subscribers and start timer to refresh token\n    userSubject.next(user);\n    startRefreshTokenTimer();\n    return user;\n  });\n}\n\nfunction register(params) {\n  return fetchWrapper.post(`/users/register`, params);\n}\n\nfunction verifyEmail(token) {\n  return fetchWrapper.post(`/users/verify-email`, { token });\n}\n\nfunction forgotPassword(email) {\n  return fetchWrapper.post(`/users/forgot-password`, { email });\n}\n\nfunction validateResetToken(token) {\n  return fetchWrapper.post(`/users/validate-reset-token`, { token });\n}\n\nfunction resetPassword({ token, password, confirmPassword }) {\n  return fetchWrapper.post(`/users/reset-password`, {\n    token,\n    password,\n    confirmPassword,\n  });\n}\n\nfunction setNewPassword({ token, password, confirmPassword }) {\n  return fetchWrapper.post(`/users/set-password`, {\n    token,\n    password,\n    confirmPassword,\n  });\n}\n\nfunction deactivateUser(id) {\n  return fetchWrapper.put(`/users/deactivate/${id}`);\n}\n\nfunction reactivateUser(id) {\n  return fetchWrapper.put(`/users/reactivate/${id}`);\n}\n\nfunction resendInvitation(id) {\n  return fetchWrapper.post(`/users/resend-invitation/${id}`);\n}\n\nfunction getAll() {\n  return fetchWrapper.get('/users');\n}\n\nfunction getById(id) {\n  return fetchWrapper.get(`/users/${id}`);\n}\n\nfunction create(params) {\n  return fetchWrapper.post('/users', params);\n}\n\nfunction update(id, params) {\n  return fetchWrapper.put(`/users/${id}`, params).then((user) => {\n    // update stored user if the logged in user updated their own record\n    if (user.id === userSubject.value.id) {\n      // publish updated user to subscribers\n      user = { ...userSubject.value, ...user };\n      userSubject.next(user);\n    }\n    return user;\n  });\n}\n\n// prefixed with underscore because 'delete' is a reserved word in javascript\nfunction _delete(id) {\n  return fetchWrapper.delete(`/users/${id}`).then((x) => {\n    // auto logout if the logged in user deleted their own record\n    if (id === userSubject.value.id) {\n      logout();\n    }\n    return x;\n  });\n}\n\n// helper functions\n\nlet refreshTokenTimeout;\n\nfunction startRefreshTokenTimer() {\n  // parse json object from base64 encoded jwt token\n  const jwtToken = JSON.parse(atob(userSubject.value.jwtToken.split('.')[1]));\n\n  // set a timeout to refresh the token a minute before it expires\n  const expires = new Date(jwtToken.exp * 1000);\n  const timeout = expires.getTime() - Date.now() - 60 * 1000;\n  refreshTokenTimeout = setTimeout(refreshToken, timeout);\n}\n\nfunction stopRefreshTokenTimer() {\n  clearTimeout(refreshTokenTimeout);\n}\n","let AppSettings = null;\nswitch (process.env.REACT_APP_STAGE) {\n  case 'development':\n    AppSettings = { serverEndpoint: 'http://localhost:4000/api' };\n    break;\n  case 'production':\n    AppSettings = { serverEndpoint: 'https://thesystem.co.za/integration' };\n    break;\n  case 'sit':\n    AppSettings = {\n      serverEndpoint: 'https://sit.thesystem.co.za/sitintegration',\n    };\n    break;\n  case 'uat':\n    AppSettings = {\n      serverEndpoint: 'https://uat.thesystem.co.za/uatintegration',\n    };\n    break;\n  default:\n    AppSettings = { serverEndpoint: 'http://localhost:8080/api' };\n    break;\n}\n\nexport default AppSettings;\n//serverEndpoint: process.env.NODE_ENV === 'development' ? 'http://localhost:8080/api' : 'https://thesystem.co.za/integration'//'cp50.domains.co.za:8081/api'\n","import AppSettings from './appSettings';\nimport { userService } from '../features/users';\n\nexport const fetchWrapper = {\n  get,\n  getDocument,\n  post,\n  put,\n  delete: _delete,\n};\n\nfunction get(url) {\n  const requestOptions = {\n    method: 'GET',\n    headers: authHeader(url),\n  };\n  return fetch(`${AppSettings.serverEndpoint}${url}`, requestOptions).then(\n    handleResponse\n  );\n}\n\nfunction getDocument(url, location) {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json, application/x-www-form-urlencoded',\n      'Content-Type': 'application/json',\n      ...authHeader(url),\n    },\n    credentials: 'include',\n    body: JSON.stringify(location),\n  };\n\n  return fetch(`${AppSettings.serverEndpoint}${url}`, requestOptions).then(\n    handleResponseForDocuments\n  );\n}\n\nfunction post(url, body) {\n  const requestOptions = {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json', ...authHeader(url) },\n    credentials: 'include',\n    body: JSON.stringify(body),\n  };\n  return fetch(`${AppSettings.serverEndpoint}${url}`, requestOptions).then(\n    handleResponse\n  );\n}\n\nfunction put(url, body) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json', ...authHeader(url) },\n    body: JSON.stringify(body),\n  };\n  return fetch(`${AppSettings.serverEndpoint}${url}`, requestOptions).then(\n    handleResponse\n  );\n}\n\n// prefixed with underscored because delete is a reserved word in javascript\nfunction _delete(url) {\n  const requestOptions = {\n    method: 'DELETE',\n    headers: authHeader(url),\n  };\n  return fetch(`${AppSettings.serverEndpoint}${url}`, requestOptions).then(\n    handleResponse\n  );\n}\n\n// helper functions\n\nfunction authHeader(url) {\n  // return auth header with jwt if user is logged in and request is to the api url\n  const user = userService.userValue;\n  const isLoggedIn = user && user.jwtToken;\n  if (isLoggedIn) {\n    //console.log('jwtToken: ', user.jwtToken);\n    return { Authorization: `Bearer ${user.jwtToken}` };\n  } else {\n    return {};\n  }\n}\n\nfunction handleResponse(response) {\n  return response.text().then((text) => {\n    const data = text && JSON.parse(text);\n\n    if (!response.ok) {\n      if ([401, 403].includes(response.status) && userService.userValue) {\n        // auto logout if 401 Unauthorized or 403 Forbidden response returned from api\n        userService.logout();\n      }\n\n      const error = (data && data.message) || response.statusText;\n      return Promise.reject(error);\n    }\n\n    return data;\n  });\n}\n\nfunction handleResponseForDocuments(response) {\n  //console.log('handleResponseForDocuments response: ', response);\n  //return response;\n  return response.text().then((text) => {\n    const data = text; // && JSON.parse(text);\n\n    if (!response.ok) {\n      if ([401, 403].includes(response.status) && userService.userValue) {\n        // auto logout if 401 Unauthorized or 403 Forbidden response returned from api\n        userService.logout();\n      }\n\n      const error = (data && data.message) || response.statusText;\n      return Promise.reject(error);\n    }\n    //console.log('data: ', data);\n    return data;\n  });\n}\n","import { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();\n","export const Role = {\n  Admin: 'Admin',\n  Agent: 'Agent',\n  Kam: 'Kam',\n  Super: 'Super',\n  User: 'User',\n};\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { userService } from '../features/users/user.service';\n\nfunction PrivateRoute({ component: Component, roles, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        const user = userService.userValue;\n        if (!user) {\n          // not logged in so redirect to login page with the return url\n          return (\n            <Redirect\n              to={{ pathname: '/login', state: { from: props.location } }}\n            />\n          );\n        }\n\n        // check if route is restricted by role\n        if (roles && roles.indexOf(user.role) === -1) {\n          // role not authorized so redirect to home page\n          return <Redirect to={{ pathname: '/' }} />;\n        }\n\n        // authorized so return component\n        return <Component {...props} />;\n      }}\n    />\n  );\n}\n\nexport { PrivateRoute };\n","import React from 'react';\nimport {\n  VictoryAxis,\n  VictoryBar,\n  VictoryChart,\n  VictoryContainer,\n  VictoryLabel,\n  VictoryTooltip,\n} from 'victory';\n\nclass CustomBar extends React.Component {\n  getStylesDashboard() {\n    const BLUE_COLOR = '#003d6a';\n    const PURPLE_COLOR = '#2062ae';\n\n    return {\n      parent: {\n        background: '#ffffff',\n        border: '1px solid #000000',\n        boxSizing: 'border-box',\n        display: 'inline',\n        height: '275',\n        margin: '15px 3px',\n        fontFamily: \"'Fira Sans', sans-serif\",\n      },\n      title: {\n        textAnchor: 'start',\n        verticalAnchor: 'end',\n        fill: '#333740',\n        fontFamily: 'inherit',\n        fontSize: '18px',\n        fontWeight: 'bold',\n      },\n      labelNumber: {\n        textAnchor: 'middle',\n        fill: '#ffffff',\n        fontFamily: 'inherit',\n        fontSize: '14px',\n      },\n\n      // INDEPENDENT AXIS\n      axisX: {\n        axis: { stroke: 'black', strokeWidth: 1 },\n        domainPadding: { x: 20, y: 5 },\n        tickLabels: {\n          fill: '#333740',\n          fontFamily: 'inherit',\n          fontSize: 10,\n        },\n      },\n\n      // DATA SET\n      axisOne: {\n        grid: {\n          stroke: ({ tick }) => (tick === -10 ? 'transparent' : '#a8abac'),\n          strokeWidth: 2,\n        },\n        axis: { stroke: BLUE_COLOR, strokeWidth: 0 },\n        ticks: { strokeWidth: 0 },\n        tickLabels: {\n          fill: BLUE_COLOR,\n          fontFamily: 'inherit',\n          fontSize: 10,\n          padding: 3,\n        },\n      },\n      labelOne: {\n        fill: BLUE_COLOR,\n        fontFamily: 'inherit',\n        fontSize: 12,\n        fontStyle: 'italic',\n      },\n      barOne: {\n        data: { fill: PURPLE_COLOR },\n      },\n\n      // Tooltip\n      axisOneCustomLabel: {\n        fill: BLUE_COLOR,\n        fontFamily: 'inherit',\n        fontWeight: 300,\n        fontSize: 21,\n      },\n    };\n  }\n\n  getStylesMain() {\n    const BLUE_COLOR = '#003d6a';\n    const PURPLE_COLOR = '#2062ae';\n\n    return {\n      parent: {\n        background: '#ffffff',\n        border: '1px solid #000000',\n        boxSizing: 'border-box',\n        display: 'inline',\n        height: '80vh',\n        margin: '15px 3px',\n        fontFamily: \"'Fira Sans', sans-serif\",\n      },\n      title: {\n        textAnchor: 'start',\n        verticalAnchor: 'end',\n        fill: '#333740',\n        fontFamily: 'inherit',\n        fontSize: '18px',\n        fontWeight: 'bold',\n      },\n      labelNumber: {\n        textAnchor: 'middle',\n        fill: '#ffffff',\n        fontFamily: 'inherit',\n        fontSize: '14px',\n      },\n\n      // INDEPENDENT AXIS\n      axisX: {\n        axis: { stroke: 'black', strokeWidth: 1 },\n        domainPadding: { x: 20, y: 5 },\n        tickLabels: {\n          fill: '#333740',\n          fontFamily: 'inherit',\n          fontSize: 10,\n        },\n      },\n\n      // DATA SET\n      axisOne: {\n        grid: {\n          stroke: ({ tick }) => (tick === -10 ? 'transparent' : '#a8abac'),\n          strokeWidth: 2,\n        },\n        axis: { stroke: BLUE_COLOR, strokeWidth: 0 },\n        ticks: { strokeWidth: 0 },\n        tickLabels: {\n          fill: BLUE_COLOR,\n          fontFamily: 'inherit',\n          fontSize: 10,\n          padding: 3,\n        },\n      },\n      labelOne: {\n        fill: BLUE_COLOR,\n        fontFamily: 'inherit',\n        fontSize: 12,\n        fontStyle: 'italic',\n      },\n      barOne: {\n        data: { fill: PURPLE_COLOR },\n      },\n\n      // Tooltip\n      axisOneCustomLabel: {\n        fill: BLUE_COLOR,\n        fontFamily: 'inherit',\n        fontWeight: 300,\n        fontSize: 21,\n      },\n    };\n  }\n\n  getStylesSidebar() {\n    const BLUE_COLOR = '#003d6a';\n    const PURPLE_COLOR = '#2062ae';\n\n    return {\n      parent: {\n        background: '#ffffff',\n        border: '1px solid #000000',\n        boxSizing: 'border-box',\n        display: 'inline',\n        height: '200',\n        margin: '15px 3px',\n        fontFamily: \"'Fira Sans', sans-serif\",\n      },\n      title: {\n        textAnchor: 'start',\n        verticalAnchor: 'end',\n        fill: '#333740',\n        fontFamily: 'inherit',\n        fontSize: '18px',\n        fontWeight: 'bold',\n      },\n      labelNumber: {\n        textAnchor: 'middle',\n        fill: '#ffffff',\n        fontFamily: 'inherit',\n        fontSize: '14px',\n      },\n\n      // INDEPENDENT AXIS\n      axisX: {\n        axis: { stroke: 'black', strokeWidth: 1 },\n        domainPadding: { x: 20, y: 5 },\n        tickLabels: {\n          fill: '#333740',\n          fontFamily: 'inherit',\n          fontSize: 10,\n        },\n      },\n\n      // DATA SET\n      axisOne: {\n        grid: {\n          stroke: ({ tick }) => (tick === -10 ? 'transparent' : '#a8abac'),\n          strokeWidth: 2,\n        },\n        axis: { stroke: BLUE_COLOR, strokeWidth: 0 },\n        ticks: { strokeWidth: 0 },\n        tickLabels: {\n          fill: BLUE_COLOR,\n          fontFamily: 'inherit',\n          fontSize: 10,\n          padding: 3,\n        },\n      },\n      labelOne: {\n        fill: BLUE_COLOR,\n        fontFamily: 'inherit',\n        fontSize: 12,\n        fontStyle: 'italic',\n      },\n      barOne: {\n        data: { fill: PURPLE_COLOR },\n      },\n\n      // Tooltip\n      axisOneCustomLabel: {\n        fill: BLUE_COLOR,\n        fontFamily: 'inherit',\n        fontWeight: 300,\n        fontSize: 21,\n      },\n    };\n  }\n\n  getDataSetOne() {\n    return this.props.data;\n  }\n\n  whichStyle() {\n    const { styleType } = this.props;\n\n    switch (styleType) {\n      case 'dash':\n        return this.getStylesDashboard();\n      case 'main':\n        return this.getStylesMain();\n      case 'sidebar':\n        return this.getStylesSidebar();\n      default:\n        return this.getStylesMain();\n    }\n  }\n\n  render() {\n    const { chartNumber, description, title } = this.props;\n    const styles = this.whichStyle();\n    const dataSetOne = this.getDataSetOne();\n\n    return (\n      <svg style={styles.parent} viewBox=\"0 0 450 350\">\n        {/* Create stylistic elements */}\n        <rect x=\"0\" y=\"0\" width=\"10\" height=\"30\" fill=\"#ee303d\" />\n        <rect x=\"420\" y=\"10\" width=\"20\" height=\"20\" fill=\"#517790\" />\n\n        {/* Define labels */}\n        <VictoryLabel x={25} y={24} style={styles.title} text={title} />\n        <VictoryLabel\n          x={430}\n          y={20}\n          style={styles.labelNumber}\n          text={chartNumber + 1}\n        />\n        <VictoryLabel\n          x={25}\n          y={55}\n          style={styles.labelOne}\n          text={description}\n        />\n\n        <g transform={'translate(0, 40)'}>\n          <VictoryChart\n            animate={{\n              duration: 2000,\n              easing: 'backOut',\n              onLoad: { duration: 1000 },\n            }}\n            containerComponent={<VictoryContainer responsive={false} />}\n            domainPadding={{ x: 20, y: 5 }}\n            standalone={false}\n          >\n            {/* Independent axis */}\n            <VictoryAxis standalone={false} style={styles.axisX} />\n\n            {/* Dependent axis */}\n            <VictoryAxis\n              dependentAxis\n              standalone={false}\n              style={styles.axisOne}\n              tickFormat={(t) => `R ${Math.round(t) / 1000} k`}\n            />\n\n            {/* Adding the dataset */}\n            <VictoryBar\n              labelComponent={\n                <VictoryTooltip\n                  dy={0}\n                  centerOffset={{ x: 25 }}\n                  renderInPortal={false} // Have to make false for custom chart\n                  style={styles.axisOneCustomLabel}\n                />\n              }\n              labels={({ datum }) => [`R ${Math.round(datum.value / 1000)} k`]}\n              data={dataSetOne}\n              standalone={false}\n              style={styles.barOne}\n              x=\"name\"\n              y=\"value\"\n            />\n          </VictoryChart>\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default CustomBar;\n","import React from 'react';\nimport {\n  VictoryAxis,\n  VictoryChart,\n  VictoryContainer,\n  VictoryLabel,\n  VictoryLine,\n  VictoryTooltip,\n} from 'victory';\n\nclass CustomBar extends React.Component {\n  getStylesMain() {\n    const BLUE_COLOR = '#00a3de';\n    const PURPLE_COLOR = '#422590';\n\n    return {\n      parent: {\n        background: '#0F5A99',\n        boxSizing: 'border-box',\n        display: 'inline',\n        height: '350',\n        padding: 0,\n        fontFamily: \"'Fira Sans', sans-serif\",\n      },\n      title: {\n        textAnchor: 'start',\n        verticalAnchor: 'end',\n        fill: '#000000',\n        fontFamily: 'inherit',\n        fontSize: '18px',\n        fontWeight: 'bold',\n      },\n      labelNumber: {\n        textAnchor: 'middle',\n        fill: '#ffffff',\n        fontFamily: 'inherit',\n        fontSize: '14px',\n      },\n\n      // INDEPENDENT AXIS\n      axisX: {\n        axis: { stroke: 'black', strokeWidth: 1 },\n        domainPadding: { x: 20, y: 5 },\n        tickLabels: {\n          fill: 'black',\n          fontFamily: 'inherit',\n          fontSize: 10,\n        },\n      },\n\n      // DATA SET\n      axisOne: {\n        grid: {\n          stroke: ({ tick }) => (tick === -10 ? 'transparent' : '#ffffff'),\n          strokeWidth: 2,\n        },\n        axis: { stroke: BLUE_COLOR, strokeWidth: 0 },\n        ticks: { strokeWidth: 0 },\n        tickLabels: {\n          fill: BLUE_COLOR,\n          fontFamily: 'inherit',\n          fontSize: 10,\n          padding: 3,\n        },\n      },\n      labelOne: {\n        fill: BLUE_COLOR,\n        fontFamily: 'inherit',\n        fontSize: 12,\n        fontStyle: 'italic',\n      },\n      barLine: {\n        data: { stroke: PURPLE_COLOR, strokeWidth: ({ data }) => data.length },\n        labels: {\n          fontSize: 15,\n          fill: ({ datum }) => (datum.x === 3 ? '#000000' : '#c43a31'),\n        },\n      },\n\n      // Tooltip\n      axisOneCustomLabel: {\n        fill: BLUE_COLOR,\n        fontFamily: 'inherit',\n        fontWeight: 300,\n        fontSize: 21,\n      },\n    };\n  }\n\n  getStylesDashboard() {\n    const BLUE_COLOR = '#00a3de';\n    const PURPLE_COLOR = '#422590';\n\n    return {\n      parent: {\n        background: '#0F5A99',\n        boxSizing: 'border-box',\n        display: 'inline',\n        height: '200',\n        padding: 0,\n        fontFamily: \"'Fira Sans', sans-serif\",\n      },\n      title: {\n        textAnchor: 'start',\n        verticalAnchor: 'end',\n        fill: '#000000',\n        fontFamily: 'inherit',\n        fontSize: '20px',\n        fontWeight: 'bold',\n      },\n      labelNumber: {\n        textAnchor: 'middle',\n        fill: '#ffffff',\n        fontFamily: 'inherit',\n        fontSize: '14px',\n      },\n\n      // INDEPENDENT AXIS\n      axisX: {\n        axis: { stroke: 'black', strokeWidth: 1 },\n        domainPadding: { x: 20, y: 5 },\n        tickLabels: {\n          fill: 'black',\n          fontFamily: 'inherit',\n          fontSize: 10,\n        },\n      },\n\n      // DATA SET\n      axisOne: {\n        grid: {\n          stroke: ({ tick }) => (tick === -10 ? 'transparent' : '#ffffff'),\n          strokeWidth: 2,\n        },\n        axis: { stroke: BLUE_COLOR, strokeWidth: 0 },\n        ticks: { strokeWidth: 0 },\n        tickLabels: {\n          fill: BLUE_COLOR,\n          fontFamily: 'inherit',\n          fontSize: 10,\n          padding: 3,\n        },\n      },\n      labelOne: {\n        fill: BLUE_COLOR,\n        fontFamily: 'inherit',\n        fontSize: 18,\n        fontStyle: 'italic',\n      },\n      barLine: {\n        data: { fill: PURPLE_COLOR },\n      },\n\n      // Tooltip\n      axisOneCustomLabel: {\n        fill: BLUE_COLOR,\n        fontFamily: 'inherit',\n        fontWeight: 300,\n        fontSize: 21,\n      },\n    };\n  }\n\n  getDataSetOne() {\n    return this.props.data;\n  }\n\n  render() {\n    const { chartNumber, description, styleType, title } = this.props;\n    const styles =\n      styleType === 'dash' ? this.getStylesDashboard() : this.getStylesMain();\n    const dataSetOne = this.getDataSetOne();\n    //const tickValues = this.getTickValues();\n\n    return (\n      <svg style={styles.parent} viewBox=\"0 0 450 350\">\n        {/* Create stylistic elements */}\n        <rect x=\"0\" y=\"0\" width=\"10\" height=\"30\" fill=\"#f01616\" />\n        <rect x=\"420\" y=\"10\" width=\"20\" height=\"20\" fill=\"#458ca8\" />\n\n        {/* Define labels */}\n        <VictoryLabel x={25} y={24} style={styles.title} text={title} />\n        <VictoryLabel\n          x={430}\n          y={20}\n          style={styles.labelNumber}\n          text={chartNumber + 1}\n        />\n        <VictoryLabel\n          x={25}\n          y={55}\n          style={styles.labelOne}\n          text={description}\n        />\n\n        <g transform={'translate(0, 40)'}>\n          <VictoryChart\n            animate={{\n              duration: 2000,\n              easing: 'backOut',\n              onLoad: { duration: 1000 },\n            }}\n            containerComponent={<VictoryContainer responsive={false} />}\n            domainPadding={{ x: 20, y: 5 }}\n            standalone={false}\n          >\n            {/* Independent axis */}\n            <VictoryAxis standalone={false} style={styles.axisX} />\n\n            {/* Dependent axis */}\n            <VictoryAxis\n              dependentAxis\n              standalone={false}\n              style={styles.axisOne}\n              tickFormat={(t) => `${Math.round(t)} %`}\n            />\n\n            {/* Adding the dataset */}\n            <VictoryLine\n              labelComponent={\n                <VictoryTooltip\n                  dy={0}\n                  centerOffset={{ x: 25 }}\n                  renderInPortal={false} // Have to make false for custom chart\n                  style={styles.axisOneCustomLabel}\n                />\n              }\n              labels={({ datum }) => [`${Math.round(datum.value)} %`]}\n              data={dataSetOne}\n              standalone={false}\n              style={styles.barLine}\n              x=\"name\"\n              y=\"value\"\n            />\n          </VictoryChart>\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default CustomBar;\n","import { fetchWrapper } from '../../helpers';\n\nexport const reportService = {\n  getReport,\n};\n\nfunction getReport(report) {\n  return fetchWrapper.get(`/reports/${report}`);\n}\n","import React from 'react';\nimport { Container } from 'semantic-ui-react';\n\nimport CustomBar from './CustomBar';\nimport CustomLine from './CustomLine';\nimport { reportService } from './report.service';\n\nclass Reports extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      reports: {\n        ids: ['aging', 'agentPTP', 'datePTP'],\n        //ids: ['aging'],\n        entities: {\n          aging: {\n            data: null,\n            description: 'Amount owed per period',\n            title: 'Aging',\n            type: 'bar',\n          },\n          agentPTP: {\n            data: null,\n            description: 'PTP sum per agent',\n            title: 'PTP by Agent',\n            type: 'bar',\n          },\n          datePTP: {\n            data: null,\n            description: 'PTP sum per date',\n            title: 'PTP by Date',\n            type: 'bar',\n          },\n        },\n      },\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    this.loadData();\n    this.interval = setInterval(() => this.loadData(), 30 * 60 * 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  loadData() {\n    const reportList = this.state.reports.ids;\n\n    reportList.forEach(async (report) => {\n      const reportObject = this.state.reports.entities[report];\n      reportObject.data = null;\n      this.setState({ ...this.state, reportObject });\n\n      const reportData = await reportService.getReport(report);\n      //console.log('reportData: ', reportData);\n\n      reportObject.data = this.prepData(reportData);\n      //console.log('reportObject: ', reportObject);\n      this.setState({ ...this.state, reportObject });\n    });\n  }\n\n  prepData(data) {\n    let tempArray = [];\n\n    if (data.length === 1) {\n      for (const [key, value] of Object.entries(data[0])) {\n        let tempObj = {};\n        tempObj.name = key;\n        tempObj.value = value;\n        tempArray.push(tempObj);\n      }\n    } else {\n      for (let i = 0; i < data.length; i++) {\n        const obj = Object.entries(data[i]);\n        let tempObj = {};\n        for (const [key, value] of Object.entries(obj)) {\n          if (key === '0') {\n            tempObj.name = value[1];\n          }\n          if (key === '1') {\n            tempObj.value = value[1];\n          }\n        }\n        tempArray.push(tempObj);\n      }\n    }\n\n    return tempArray;\n  }\n\n  customChartRender() {\n    const reports = this.state.reports;\n    const { styleType } = this.props;\n\n    const reportsDisplay = reports.ids.map((report, idx) => {\n      if (reports.entities[report].type === 'bar') {\n        return (\n          <span key={idx}>\n            {reports.entities[report].data && (\n              <CustomBar\n                chartNumber={idx}\n                data={reports.entities[report].data}\n                description={reports.entities[report].description}\n                styleType={styleType}\n                title={reports.entities[report].title}\n              />\n            )}\n            {!reports.entities[report].data && (\n              <div key={idx}>\n                <div className=\"ui active inverted dimmer\">\n                  <div className=\"ui text loader\">Loading</div>\n                </div>\n                <p></p>\n              </div>\n            )}\n          </span>\n        );\n      } else if (reports.entities[report].type === 'line') {\n        return (\n          <span key={idx}>\n            {reports.entities[report].data && (\n              <CustomLine\n                chartNumber={idx}\n                data={reports.entities[report].data}\n                description={reports.entities[report].description}\n                styleType={styleType}\n                title={reports.entities[report].title}\n              />\n            )}\n            {!reports.entities[report].data && (\n              <div key={idx}>\n                <div className=\"ui active inverted dimmer\">\n                  <div className=\"ui text loader\">Loading</div>\n                </div>\n                <p></p>\n              </div>\n            )}\n          </span>\n        );\n      } else {\n        return <div key={idx}> No report type found</div>;\n      }\n    });\n\n    return reportsDisplay;\n  }\n\n  render() {\n    return <Container fluid>{this.customChartRender()}</Container>;\n  }\n}\n\nexport default Reports;\n","import { fetchWrapper } from '../../helpers';\n\nexport const queueService = {\n  getAll,\n};\n\nfunction getAll() {\n  return fetchWrapper.get('/queues');\n}\n","import React, { useEffect, useState } from 'react';\nimport { Grid, Label, List, Segment } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\n\nimport { queueService } from './queue.service';\nimport { userService } from '../users/user.service';\n\nexport const Queues = () => {\n  const user = userService.userValue;\n  const [queues, setCollections] = useState(null);\n\n  useEffect(() => {\n    queueService.getAll().then((x) => setCollections(x));\n  }, []);\n\n  function PrepareQueues(queues) {\n    const statusList = GetStatus(queues);\n    const listWithCount = StatusCount(queues, statusList);\n\n    // Must remember to convert to Links list/#types-link\n    const item = listWithCount.map((item, idx) => (\n      <List.Item\n        key={idx}\n        as={Link}\n        to={{\n          pathname: '/collections',\n          state: {\n            caseStatus: item.item,\n          },\n        }}\n      >\n        <List.Content floated=\"left\" verticalAlign=\"middle\">\n          {item.item}\n        </List.Content>\n        <List.Content floated=\"right\" verticalAlign=\"middle\">\n          <Label circular>{item.count}</Label>\n        </List.Content>\n      </List.Item>\n    ));\n\n    return item;\n  }\n\n  function PrepareUserQueues(queues, currentAssignment) {\n    //currentAssignment = 'darryllrobinson@icloud.com';\n    //console.log('currentAssignment: ', currentAssignment);\n    const statusList = GetStatus(queues);\n    const listWithCount = UserStatusCount(\n      queues,\n      statusList,\n      currentAssignment.email\n    );\n\n    const item = listWithCount.map((item, idx) => (\n      <List.Item key={idx} as={Link} to=\"/collections\">\n        <List.Content floated=\"left\" verticalAlign=\"middle\">\n          {item.item}\n        </List.Content>\n        <List.Content floated=\"right\" verticalAlign=\"middle\">\n          <Label circular>{item.count}</Label>\n        </List.Content>\n      </List.Item>\n    ));\n\n    return item;\n  }\n\n  function StatusCount(queues, statusList) {\n    let items = [];\n\n    statusList.forEach((status) => {\n      let count = 0;\n      queues.forEach((record) => {\n        if (record.currentStatus === status) ++count;\n      });\n\n      items.push({ item: status, count: count });\n    });\n    return items;\n  }\n\n  function UserStatusCount(queues, statusList, currentAssignment) {\n    let items = [];\n\n    statusList.forEach((status) => {\n      let count = 0;\n      queues.forEach((record) => {\n        if (\n          record.currentStatus === status &&\n          record.currentAssignment === currentAssignment\n        )\n          ++count;\n      });\n\n      items.push({ item: status, count: count });\n    });\n    return items;\n  }\n\n  function GetStatus(queues) {\n    let allStatusList = [];\n    queues.forEach((queue) => {\n      allStatusList.push(queue.currentStatus);\n    });\n\n    const statusList = allStatusList.filter(OnlyUnique);\n\n    return statusList;\n  }\n\n  function OnlyUnique(value, index, self) {\n    return self.indexOf(value) === index;\n  }\n\n  let mainQueues;\n  let userQueues;\n\n  if (!queues) {\n    mainQueues = <div>Loading</div>;\n    userQueues = <div>Loading</div>;\n  } else if (queues.length === 0) {\n    mainQueues = <div>None found</div>;\n    userQueues = <div>None found</div>;\n  } else {\n    mainQueues = PrepareQueues(queues);\n    userQueues = PrepareUserQueues(queues, user);\n  }\n\n  return (\n    <Grid container>\n      <Grid.Column textAlign=\"left\">\n        <Segment raised>\n          <List animated divided link selection>\n            <Label as=\"a\" className=\"queue label\" ribbon>\n              Department Queues\n            </Label>\n            {mainQueues}\n            <br />\n            <Label as=\"a\" className=\"queue label\" ribbon>\n              User Queues\n            </Label>\n            {userQueues}\n          </List>\n        </Segment>\n      </Grid.Column>\n    </Grid>\n  );\n};\n","import React from 'react';\nimport {\n  VictoryArea,\n  VictoryAxis,\n  VictoryChart,\n  VictoryContainer,\n  VictoryLabel,\n  VictoryLegend,\n} from 'victory';\n\nexport const TopChart = () => {\n  const owed = [\n    { x: 'Jan 21', y: 100000 },\n    { x: 'Feb 21', y: 112244 },\n    { x: 'Mar 21', y: 232211 },\n    { x: 'Apr 21', y: 175000 },\n    { x: 'May 21', y: 213133 },\n  ];\n\n  const ptp = [\n    { x: 'Jan 21', y: 100000 * 0.75 },\n    { x: 'Feb 21', y: 112244 * 0.75 },\n    { x: 'Mar 21', y: 232211 * 0.75 },\n    { x: 'Apr 21', y: 175000 * 0.75 },\n    { x: 'May 21', y: 213133 * 0.75 },\n  ];\n\n  const collected = [\n    { x: 'Jan 21', y: 100000 * 0.63 },\n    { x: 'Feb 21', y: 112244 * 0.63 },\n    { x: 'Mar 21', y: 232211 * 0.63 },\n    { x: 'Apr 21', y: 175000 * 0.63 },\n    { x: 'May 21', y: 213133 * 0.63 },\n  ];\n\n  const styles = {\n    parent: {\n      boxSizing: 'border-box',\n      display: 'inline',\n      //background: 'linear-gradient(to right, #072025, #253D42, #072025)',\n      height: '250',\n      padding: 0,\n      fontFamily: \"'Fira Sans', sans-serif\",\n    },\n\n    title: {\n      textAnchor: 'start',\n      verticalAnchor: 'end',\n      fill: '#333740',\n      fontFamily: 'inherit',\n      fontSize: '50px',\n      fontWeight: 'bold',\n    },\n\n    chartNumber: {\n      textAnchor: 'middle',\n      fill: '#ffffff',\n      fontFamily: 'inherit',\n      fontSize: '14px',\n    },\n\n    description: {\n      fill: '#787C82',\n      fontFamily: 'inherit',\n      fontSize: 25,\n      fontStyle: 'italic',\n    },\n\n    axisX: {\n      ticks: { stroke: '#787C82', size: 5 },\n      tickLabels: { fill: '#333740', fontSize: 25, padding: 5 },\n    },\n\n    axixY: {\n      grid: {\n        stroke: '#787C82',\n        strokeWidth: 1,\n      },\n      ticks: { stroke: '#787C82', size: 5 },\n      tickLabels: { fill: '#333740', fontSize: 25, padding: 5 },\n    },\n  };\n\n  return (\n    <svg style={styles.parent} viewBox=\"-45 0 2120 480\">\n      <VictoryLabel\n        x={55}\n        y={45}\n        style={styles.title}\n        text=\"Owed, PTP and Collections\"\n      />\n      <VictoryLabel x={430} y={20} style={styles.chartNumber} text=\"1\" />\n      <VictoryLabel\n        x={55}\n        y={65}\n        style={styles.description}\n        text=\"Previous six months\"\n      />\n\n      <g transform={'translate(0, 40)'}>\n        <VictoryChart\n          animate={{\n            duration: 2000,\n            easing: 'backOut',\n            onLoad: { duration: 1000 },\n          }}\n          containerComponent={<VictoryContainer responsive={false} />}\n          height={455}\n          standalone={false}\n          width={1990}\n        >\n          <VictoryArea\n            animate={{ duration: 2000, onLoad: { duration: 1000 } }}\n            data={owed}\n            style={{ data: { fill: '#00B6F0', fillOpacity: 1 } }}\n          />\n          <VictoryArea\n            animate={{ duration: 2000, onLoad: { duration: 1000 } }}\n            data={ptp}\n            style={{ data: { fill: '#0062AE', fillOpacity: 1 } }}\n          />\n          <VictoryArea\n            animate={{ duration: 2000, onLoad: { duration: 1000 } }}\n            data={collected}\n            style={{ data: { fill: '#003D6A', fillOpacity: 1 } }}\n          />\n          <VictoryAxis\n            dependentAxis\n            standalone={false}\n            style={styles.axixY}\n            tickFormat={(t) => `R ${Math.round(t) / 1000} k`}\n          />\n          <VictoryAxis standalone={false} style={styles.axisX} />\n\n          <VictoryLegend\n            x={1500}\n            y={300}\n            background=\"#cdc2b4\"\n            centerTitle\n            orientation=\"horizontal\"\n            gutter={30}\n            standalone={false}\n            style={{ border: { fill: '#787c82', stroke: 'white' } }}\n            data={[\n              {\n                name: 'Owed',\n                symbol: { fill: '#00B6F0', fillOpacity: 1 },\n                labels: { fill: 'white', fontSize: 25 },\n              },\n              {\n                name: 'PTP',\n                symbol: { fill: '#0062AE', fillOpacity: 1 },\n                labels: { fill: 'white', fontSize: 25 },\n              },\n              {\n                name: 'Collected',\n                symbol: { fill: '#003D6A', fillOpacity: 1 },\n                labels: { fill: 'white', fontSize: 25 },\n              },\n            ]}\n          />\n        </VictoryChart>\n      </g>\n    </svg>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/mie_logo.51cbe18c.png\";","import React from 'react';\nimport { Container, Grid } from 'semantic-ui-react';\n\nimport DashboardReports from '../reports/DashboardReports';\nimport { Queues } from '../queues/Queues';\nimport { TopChart } from '../reports/TopChart';\n\nimport mieLogo from '../../assets/img/mie_logo.png';\n\nexport const Dashboard = () => {\n  // Scroll to top\n  React.useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  return (\n    <Container fluid>\n      <Grid celled=\"internally\" stackable textAlign=\"center\" columns={2}>\n        <Grid.Row>\n          <Grid.Column className=\"logo\" width={4}>\n            <img src={mieLogo} alt=\"logo\" />\n          </Grid.Column>\n          <Grid.Column className=\"topChart\" width={12}>\n            <TopChart />\n          </Grid.Column>\n        </Grid.Row>\n        <Grid.Row>\n          <Grid.Column className=\"queues\" width={4}>\n            <Queues />\n          </Grid.Column>\n          <Grid.Column className=\"workzone\" width={12}>\n            <DashboardReports styleType=\"dash\" />\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Container>\n  );\n};\n","import { fetchWrapper } from '../../helpers';\n\nexport const collectionService = {\n  getAll,\n  getCollection,\n};\n\nfunction getAll() {\n  return fetchWrapper.get('/collections');\n  //const coll = await fetchWrapper.get('/collections');\n  //console.log(coll);\n  //return coll;\n}\n\nasync function getCollection(id) {\n  /*const coll = await fetchWrapper.get(`/collections/${id}`);\n  console.log(coll);\n  return coll;*/\n  return fetchWrapper.get(`/collections/${id}`);\n}\n","import PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { Search, Grid, Label } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\n\nimport { collectionService } from '../collections/collection.service';\nimport { userService } from '../users/user.service';\n\nconst categoryLayoutRenderer = ({ categoryContent, resultsContent }) => (\n  <div>\n    <h3 className=\"name\">{categoryContent}</h3>\n    <div className=\"results\">{resultsContent}</div>\n  </div>\n);\n\ncategoryLayoutRenderer.propTypes = {\n  categoryContent: PropTypes.node,\n  resultsContent: PropTypes.node,\n};\n\nconst categoryRenderer = ({ name }) => (\n  <Label className=\"categoryRenderer\" as=\"span\" content={name} />\n);\n\ncategoryRenderer.propTypes = {\n  name: PropTypes.string,\n};\n\nconst resultRenderer = ({ customername, casenumber }) => (\n  <Label\n    as={Link}\n    to={`/collection/${casenumber}`}\n    className=\"resultRenderer\"\n    content={customername}\n  />\n);\n\nresultRenderer.propTypes = {\n  title: PropTypes.string,\n  customername: PropTypes.string,\n};\n\nconst initialState = {\n  isLoading: false,\n  value: '',\n  results: [],\n  source: null,\n  records: null,\n};\n\nexport default class SearchComponent extends Component {\n  state = initialState;\n\n  async componentDidMount() {\n    //console.log('SearchComponent props: ', this.props);\n    if (this.props.records) {\n      //console.log('Got records from props: ', this.props.records);\n      // Once records have been set in state, call the next function\n      this.setState({ records: this.props.records }, () => {\n        this.setSource();\n      });\n    } else {\n      //console.log('I need to load records: ', this.props);\n      this.loadRecords();\n    }\n  }\n\n  async loadRecords() {\n    this.setState(\n      {\n        records: await collectionService.getAll(),\n      },\n      () => {\n        this.setSource();\n      }\n    );\n  }\n\n  setSource() {\n    this.setState({\n      source: {\n        global: { name: 'global', results: this.getGlobalResults() },\n        agent: { name: 'agent', results: this.getAgentResults() },\n      },\n    });\n  }\n\n  getGlobalResults() {\n    const { records } = this.state;\n    //console.log('getGlobalResults: ', records);\n    if (records) return records.map((x) => this.recordsFields(x));\n  }\n\n  getAgentResults() {\n    const { records } = this.state;\n    const user = userService.userValue;\n    let agentRecords = [];\n\n    if (records) {\n      //console.log('records: ', records);\n      records.forEach((record) => {\n        if (record.currentAssignment === user.email) agentRecords.push(record);\n      });\n      return agentRecords.map((x) => this.recordsFields(x));\n    }\n  }\n\n  recordsFields(record) {\n    const {\n      customerRefNo,\n      customerName,\n      regIdNumber,\n      amountDue,\n      accountNumber,\n      creditLimit,\n      currentBalance,\n      debtorAge,\n      totalBalance,\n      caseNotes,\n      caseNumber,\n      currentAssignment,\n      currentStatus,\n      nextVisitDateTime,\n      resolution,\n      updatedAt,\n      updatedBy,\n    } = record;\n\n    return {\n      title: customerRefNo,\n      customername: customerName,\n      regidnumber: regIdNumber,\n      amountdue: amountDue,\n      accountnumber: accountNumber,\n      creditlimit: creditLimit,\n      currentbalance: currentBalance,\n      debtorage: debtorAge,\n      totalbalance: totalBalance,\n      casenotes: caseNotes,\n      casenumber: caseNumber,\n      currentassignment: currentAssignment,\n      currentstatus: currentStatus,\n      nextvisitdatetime: nextVisitDateTime,\n      resolution,\n      updatedat: updatedAt,\n      updatedby: updatedBy,\n    };\n  }\n\n  handleResultSelect = (e, { result }) =>\n    this.setState({ value: result.customername });\n\n  handleSearchChange = (e, { value }) => {\n    //const searchTerms = ['customerRefNo', 'customerName', 'regIdNumber'];\n\n    this.setState({ isLoading: true, value });\n\n    setTimeout(async () => {\n      if (this.state.value.length < 1) {\n        this.setState({\n          isLoading: false,\n          value: '',\n          results: [],\n          source: null,\n        });\n        this.loadRecords();\n        this.setSource();\n      }\n\n      //console.log('value: ', this.state.value);\n      let searchTerms = [];\n      this.state.records.forEach((record) => {\n        searchTerms.push({\n          title: record.customerRefNo,\n          customername: record.customerName,\n        });\n      });\n      //console.log('searchTerms: ', searchTerms);\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i');\n      const isMatch = (result) => re.test(result.customername);\n\n      const filteredResults = _.reduce(\n        this.state.source,\n        (memo, data, name) => {\n          const results = _.filter(data.results, isMatch);\n          if (results.length) memo[name] = { name, results }; // eslint-disable-line no-param-reassign\n\n          //console.log('memo: ', memo);\n          return memo;\n        },\n        {}\n      );\n      //console.log('filteredResults: ', filteredResults);\n\n      this.setState({\n        isLoading: false,\n        results: filteredResults,\n      });\n    }, 300);\n  };\n\n  render() {\n    const { isLoading, value, results } = this.state;\n\n    return (\n      <Grid>\n        <Grid.Column width={8}>\n          <Search\n            category\n            categoryLayoutRenderer={categoryLayoutRenderer}\n            categoryRenderer={categoryRenderer}\n            loading={isLoading}\n            onResultSelect={this.handleResultSelect}\n            onSearchChange={_.debounce(this.handleSearchChange, 500, {\n              leading: true,\n            })}\n            resultRenderer={resultRenderer}\n            results={results}\n            value={value}\n          />\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n","import React, { useCallback, useEffect, useState } from 'react';\nimport {\n  Button,\n  Container,\n  Dimmer,\n  Header,\n  Loader,\n  Table,\n} from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\n\nimport { collectionService } from './collection.service';\n//import { alertService } from '../alerts/alert.service';\nimport SearchComponent from '../search/Search';\n\nexport const Collections = (props) => {\n  //console.log('Collections props', props);\n  // Scroll to top\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  const [collections, setCollections] = useState(null);\n  const [recordStatus, setRecordStatus] = useState('Open');\n  const [collectionStatus, setCollectionStatus] = useState('idle');\n  const caseStatus =\n    props.location.state !== undefined\n      ? props.location.state.caseStatus\n      : 'Open';\n\n  const loadRecords = useCallback(async (caseStatus) => {\n    const records = await collectionService.getAll();\n    /*console.log('records:', records);\n    const message = records[0].message;\n    console.log('message:', message);\n    if (records[0].status === 'error') {\n      alertService.error('Error', message);\n    }*/\n    setCollections(records);\n    setRecordStatus(caseStatus);\n    setCollectionStatus('succeeded');\n  }, []);\n\n  useEffect(() => {\n    if (collectionStatus === 'idle') {\n      setRecordStatus(caseStatus);\n      // populate collections\n      loadRecords(caseStatus);\n    }\n  }, [caseStatus, collectionStatus, loadRecords]);\n\n  let content;\n\n  if (!collections) {\n    content = (\n      <Table.Row>\n        <Table.Cell>\n          <Dimmer active>\n            <Loader>Loading...</Loader>\n          </Dimmer>\n        </Table.Cell>\n      </Table.Row>\n    );\n  } else {\n    content = collections.map((collections) => {\n      //console.log('got some collections: ', collections.customerName);\n      if (collections.currentStatus === recordStatus) {\n        const hlink = `/collection/${collections.caseNumber}`;\n        return (\n          <Table.Row className=\"collections row\" key={collections.caseNumber}>\n            <Table.Cell>\n              <Button as={Link} to={hlink} style={{ padding: '10px' }}>\n                Open\n              </Button>\n            </Table.Cell>\n            <Table.Cell>{collections.accountNumber}</Table.Cell>\n            <Table.Cell>{collections.customerName}</Table.Cell>\n            <Table.Cell>{collections.regIdNumber}</Table.Cell>\n            <Table.Cell textAlign=\"right\">{collections.debtorAge}</Table.Cell>\n            <Table.Cell>{collections.caseNotes}</Table.Cell>\n            <Table.Cell textAlign=\"right\">\n              R {collections.totalBalance}\n            </Table.Cell>\n            <Table.Cell textAlign=\"right\">R {collections.amountDue}</Table.Cell>\n            <Table.Cell textAlign=\"right\">\n              R {collections.currentBalance}\n            </Table.Cell>\n            <Table.Cell>{collections.resolution}</Table.Cell>\n            <Table.Cell>\n              {collections.nextVisitDateTime\n                ? moment(collections.nextVisitDateTime).format(\n                    'YYYY-MM-DD HH:mm'\n                  )\n                : ''}\n            </Table.Cell>\n            <Table.Cell>{collections.currentAssignment}</Table.Cell>\n            <Table.Cell>{collections.updatedBy}</Table.Cell>\n            <Table.Cell>\n              {moment(collections.updatedAt).format('YYYY-MM-DD HH:mm')}\n            </Table.Cell>\n          </Table.Row>\n        );\n      } else {\n        return null;\n      }\n    });\n  }\n\n  const renderHeader = () => {\n    //console.log('recordStatus: ', recordStatus);\n    switch (recordStatus) {\n      case 'Closed':\n        return (\n          <>\n            <Header className=\"collections\" as=\"h2\" floated=\"left\">\n              Collections: {recordStatus}{' '}\n              <Button onClick={() => loadRecords('Open')}>Load Open</Button>\n            </Header>\n            <Header className=\"collections\" floated=\"right\">\n              <SearchComponent records={collections} />\n            </Header>\n          </>\n        );\n      case 'Open':\n        return (\n          <>\n            <Header className=\"collections\" as=\"h2\" floated=\"left\">\n              Collections: {recordStatus}{' '}\n              <Button onClick={() => loadRecords('Closed')}>Load Closed</Button>\n            </Header>\n            <Header className=\"collections\" floated=\"right\">\n              <SearchComponent records={collections} />\n            </Header>\n          </>\n        );\n      default:\n        return (\n          <>\n            <Header className=\"collections\" as=\"h2\" floated=\"left\">\n              Collections: {recordStatus} Status not found{' '}\n              <Button onClick={() => loadRecords('Closed')}>Load Closed</Button>\n              <Button onClick={() => loadRecords('Open')}>Load Open</Button>\n            </Header>\n            <Header className=\"collections\" floated=\"right\">\n              <SearchComponent records={collections} />\n            </Header>\n          </>\n        );\n    }\n  };\n\n  return (\n    <Container className=\"collections\" fluid>\n      {renderHeader()}\n\n      <Table\n        className=\"collections\"\n        celled\n        compact\n        fixed\n        selectable\n        size=\"small\"\n        unstackable\n      >\n        <Table.Header className=\"collections\">\n          <Table.Row>\n            <Table.HeaderCell>Case Number</Table.HeaderCell>\n            <Table.HeaderCell>Account Number</Table.HeaderCell>\n            <Table.HeaderCell>Customer Name</Table.HeaderCell>\n            <Table.HeaderCell>Registration / ID Number</Table.HeaderCell>\n            <Table.HeaderCell>Debtor Age</Table.HeaderCell>\n            <Table.HeaderCell>Case Notes</Table.HeaderCell>\n            <Table.HeaderCell>Total Balance</Table.HeaderCell>\n            <Table.HeaderCell>Amount Due</Table.HeaderCell>\n            <Table.HeaderCell>Current Balance</Table.HeaderCell>\n            <Table.HeaderCell>Resolution</Table.HeaderCell>\n            <Table.HeaderCell>Next Visit Date and Time</Table.HeaderCell>\n            <Table.HeaderCell>Current Assignment</Table.HeaderCell>\n            <Table.HeaderCell>Updated By</Table.HeaderCell>\n            <Table.HeaderCell>Updated Date</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body className=\"collections\">{content}</Table.Body>\n      </Table>\n    </Container>\n  );\n};\n","import { fetchWrapper } from '../../helpers';\n\nexport const caseService = {\n  getAll,\n  getCase,\n  updateCase,\n};\n\nfunction getAll() {\n  return fetchWrapper.get('/cases');\n}\n\nfunction getCase(id) {\n  return fetchWrapper.get(`/cases/${id}`);\n}\n\nfunction updateCase(id, params) {\n  //console.log('updateCase id: ', id, params);\n  return fetchWrapper.put(`/cases/${id}`, params);\n}\n","import { fetchWrapper } from '../../helpers';\n\nexport const contactService = {\n  getAll,\n  getContact,\n  updateContact,\n};\n\nfunction getAll() {\n  return fetchWrapper.get('/contacts');\n}\n\nfunction getContact(id) {\n  return fetchWrapper.get(`/contacts/${id}`);\n}\n\nfunction updateContact(id, params) {\n  //console.log('updateContact id: ' + id);\n  return fetchWrapper.put(`/contacts/${id}`, params);\n}\n","import React, { useEffect, useState } from 'react';\nimport { Accordion, Button, Card, Form } from 'semantic-ui-react';\n\nimport { contactService } from './contact.service';\n\nexport const Contacts = (props) => {\n  //console.log('Contacts props: ', props);\n  const { id, user } = props;\n  const [activeIndex, setActiveIndex] = useState(1);\n  const [contacts, setContacts] = useState(null);\n  const [contactStatus, setContactStatus] = useState('idle');\n  const [state, setState] = useState(contacts);\n\n  useEffect(() => {\n    async function fetchContact() {\n      setContactStatus('loading');\n      setContacts(await contactService.getContact(id));\n      setContactStatus('succeeded');\n    }\n\n    fetchContact();\n  }, [id]);\n\n  // Handlers\n  const handleClick = (e, titleProps) => {\n    const { index } = titleProps;\n    const handleActiveIndex = activeIndex;\n    const newIndex = handleActiveIndex === index ? -1 : index;\n\n    setActiveIndex(newIndex);\n  };\n\n  const handleChange = (evt) => {\n    const value = evt.target.value;\n    setState({\n      ...state,\n      [evt.target.name]: value,\n    });\n  };\n\n  const saveContacts = () => {\n    //console.log('Current state: ', state);\n\n    // Run through all fields to update state before they are overwritten in error\n    //contacts;\n    const contact = state;\n    contact.id = id;\n    //contact.updatedDate = moment(new Date()).format('YYYY-MM-DD');\n    contact.updatedBy = user;\n    //console.log('dispatching: ', contact);\n    contactService.updateContact(id, contact);\n\n    // Display successful update\n    //PopUp();\n    //console.log('Updated contacts');\n  };\n\n  let content;\n\n  if (!contacts) {\n    content = <div className=\"loading\">No contacts</div>;\n  } else if (contactStatus === 'error') {\n    content = <div>error</div>;\n  } else if (contactStatus === 'succeeded' && contacts) {\n    //console.log('contacts: ', contacts);\n    content = (\n      <Accordion>\n        <Accordion.Title\n          active={activeIndex === 0}\n          index={0}\n          onClick={handleClick}\n        >\n          <Button>Click for more contact details</Button>\n        </Accordion.Title>\n        <Accordion.Content active={activeIndex === 0}>\n          <Card raised centered fluid>\n            <Form>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  defaultValue={contacts[0].primaryContactName || ''}\n                  fluid\n                  id=\"form-input-control-primary-contact-name\"\n                  name=\"primaryContactName\"\n                  label=\"Primary Contact Name\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].primaryContactNumber || ''}\n                  fluid\n                  id=\"form-input-control-primary-contact-number\"\n                  name=\"primaryContactNumber\"\n                  label=\"Primary Contact Number\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].primaryContactEmail || ''}\n                  fluid\n                  id=\"form-input-control-primary-contact-email\"\n                  name=\"primaryContactEmail\"\n                  label=\"Primary Contact Email\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  defaultValue={contacts[0].representativeName || ''}\n                  fluid\n                  id=\"form-input-control-representative-name\"\n                  name=\"representativeName\"\n                  label=\"Representative Name\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].representativeNumber || ''}\n                  fluid\n                  id=\"form-input-control-representative-number\"\n                  name=\"representativeNumber\"\n                  label=\"Representative Number\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].representativeEmail || ''}\n                  fluid\n                  id=\"form-input-control-representative-email\"\n                  name=\"representativeEmail\"\n                  label=\"Representative Email\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  defaultValue={contacts[0].alternativeRepName || ''}\n                  fluid\n                  id=\"form-input-control-alternative-rep-name\"\n                  name=\"alternativeRepName\"\n                  label=\"Alternative Representative Name\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].alternativeRepNumber || ''}\n                  fluid\n                  id=\"form-input-control-alternative-rep-number\"\n                  name=\"alternativeRepNumber\"\n                  label=\"Alternative Representative Number\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].alternativeRepEmail || ''}\n                  fluid\n                  id=\"form-input-control-representative-email\"\n                  name=\"alternativeRepEmail\"\n                  label=\"Alternative Representative Email\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  defaultValue={contacts[0].otherNumber1 || ''}\n                  fluid\n                  id=\"form-input-control-other-number-1\"\n                  name=\"otherNumber1\"\n                  label=\"Other Number 1\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].otherNumber2 || ''}\n                  fluid\n                  id=\"form-input-control-other-number-2\"\n                  name=\"otherNumber2\"\n                  label=\"Other Number 2\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].otherNumber3 || ''}\n                  fluid\n                  id=\"form-input-control-other-number-3\"\n                  name=\"otherNumber3\"\n                  label=\"Other Number 3\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  defaultValue={contacts[0].otherNumber4 || ''}\n                  fluid\n                  id=\"form-input-control-other-number-4\"\n                  name=\"otherNumber4\"\n                  label=\"Other Number 4\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].otherNumber5 || ''}\n                  fluid\n                  id=\"form-input-control-other-number-5\"\n                  name=\"otherNumber5\"\n                  label=\"Other Number 5\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].otherNumber6 || ''}\n                  fluid\n                  id=\"form-input-control-other-number-6\"\n                  name=\"otherNumber6\"\n                  label=\"Other Number 6\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  defaultValue={contacts[0].otherNumber7 || ''}\n                  fluid\n                  id=\"form-input-control-other-number-7\"\n                  name=\"otherNumber7\"\n                  label=\"Other Number 7\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].otherNumber8 || ''}\n                  fluid\n                  id=\"form-input-control-other-number-8\"\n                  name=\"otherNumber8\"\n                  label=\"Other Number 8\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].otherNumber9 || ''}\n                  fluid\n                  id=\"form-input-control-other-number-9\"\n                  name=\"otherNumber9\"\n                  label=\"Other Number 9\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  defaultValue={contacts[0].otherNumber10 || ''}\n                  fluid\n                  id=\"form-input-control-other-number-10\"\n                  name=\"otherNumber10\"\n                  label=\"Other Number 10\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Field />\n                <Form.Field />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  defaultValue={contacts[0].otherEmail1 || ''}\n                  fluid\n                  id=\"form-input-control-other-email-1\"\n                  name=\"otherEmail1\"\n                  label=\"Other Email 1\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].otherEmail2 || ''}\n                  fluid\n                  id=\"form-input-control-other-email-2\"\n                  name=\"otherEmail2\"\n                  label=\"Other Email 2\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].otherEmail3 || ''}\n                  fluid\n                  id=\"form-input-control-other-email-3\"\n                  name=\"otherEmail3\"\n                  label=\"Other Email 3\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  defaultValue={contacts[0].otherEmail4 || ''}\n                  fluid\n                  id=\"form-input-control-other-email-4\"\n                  name=\"otherEmail4\"\n                  label=\"Other Email 4\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].otherEmail5 || ''}\n                  fluid\n                  id=\"form-input-control-other-email-5\"\n                  name=\"otherEmail5\"\n                  label=\"Other Email 5\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].otherEmail6 || ''}\n                  fluid\n                  id=\"form-input-control-other-email-6\"\n                  name=\"otherEmail6\"\n                  label=\"Other Email 6\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  defaultValue={contacts[0].otherEmail7 || ''}\n                  fluid\n                  id=\"form-input-control-other-email-7\"\n                  name=\"otherEmail7\"\n                  label=\"Other Email 7\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].otherEmail8 || ''}\n                  fluid\n                  id=\"form-input-control-other-email-8\"\n                  name=\"otherEmail8\"\n                  label=\"Other Email 8\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].otherEmail9 || ''}\n                  fluid\n                  id=\"form-input-control-other-email-9\"\n                  name=\"otherEmail9\"\n                  label=\"Other Email 9\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  defaultValue={contacts[0].otherEmail10 || ''}\n                  fluid\n                  id=\"form-input-control-other-email-10\"\n                  name=\"otherEmail10\"\n                  label=\"Other Email 10\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Field />\n                <Form.Field />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  defaultValue={contacts[0].dnc1 || ''}\n                  fluid\n                  id=\"form-input-control-dnc-1\"\n                  name=\"dnc1\"\n                  label=\"Do not contact 1\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].dnc2 || ''}\n                  fluid\n                  id=\"form-input-control-dnc-2\"\n                  name=\"dnc2\"\n                  label=\"Do not contact 2\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].dnc3 || ''}\n                  fluid\n                  id=\"form-input-control-dnc-3\"\n                  name=\"dnc3\"\n                  label=\"Do not contact 3\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  defaultValue={contacts[0].dnc4 || ''}\n                  fluid\n                  id=\"form-input-control-dnc-4\"\n                  name=\"dnc4\"\n                  label=\"Do not contact 4\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Input\n                  defaultValue={contacts[0].dnc5 || ''}\n                  fluid\n                  id=\"form-input-control-dnc-5\"\n                  name=\"dnc5\"\n                  label=\"Do not contact 5\"\n                  onChange={handleChange}\n                  type=\"text\"\n                />\n                <Form.Field />\n              </Form.Group>\n              <Button onClick={saveContacts}>Update Contacts</Button>\n            </Form>\n          </Card>\n        </Accordion.Content>\n      </Accordion>\n    );\n  }\n\n  return <div>{content}</div>;\n};\n","import { fetchWrapper } from '../../helpers';\n\nexport const outcomeService = {\n  getAll,\n  getOutcomesByCaseNumber,\n  getOutcome,\n  createOutcome,\n  updateOutcome,\n};\n\nfunction getAll() {\n  return fetchWrapper.get('/outcomes');\n}\n\nfunction getOutcomesByCaseNumber(caseNumber) {\n  return fetchWrapper.get(`/outcomes/${caseNumber}`);\n}\n\nfunction createOutcome(params) {\n  console.log('createOutcome', params);\n  return fetchWrapper.post('/outcomes', params);\n}\n\nfunction getOutcome(id) {\n  return fetchWrapper.get(`/outcomes/${id}`);\n}\n\nfunction updateOutcome(id, params) {\n  return fetchWrapper.put(`/outcomes/${id}`, params);\n}\n","import React, { useEffect, useState } from 'react';\nimport { Card, Form } from 'semantic-ui-react';\nimport moment from 'moment';\n\nimport { outcomeService } from './outcome.service';\n\nexport const Outcomes = (props) => {\n  const { id } = props;\n  const [outcomes, setOutcomes] = useState(null);\n  const [outcomeStatus, setOutcomeStatus] = useState('idle');\n\n  useEffect(() => {\n    async function fetchOutcomes() {\n      setOutcomes(await outcomeService.getOutcomesByCaseNumber(id));\n      //console.log('outcomes', outcomes);\n      setOutcomeStatus('succeeded');\n    }\n\n    fetchOutcomes();\n  }, [id, outcomeStatus]);\n\n  let outcomesBundle;\n\n  if (outcomes) {\n    let outcomesNotes;\n    let outcomesNotesArray = [];\n    //console.log('this.state.outcomeRecords: ', this.state.outcomeRecords);\n    outcomes.forEach((outcome, idx) => {\n      //console.log('outcomeRecord.outcomeNotes: ', outcomeRecord.outcomeNotes);\n      outcomesNotesArray[idx] = `${idx + 1}: ` + outcome.outcomeNotes + '\\n\\r';\n    });\n    //console.log('outcomesNotes before: ', outcomesNotes);\n    outcomesNotes = outcomesNotesArray.join('\\n');\n\n    let outcomesArray = [];\n\n    outcomes.forEach((outcome, idx) => {\n      let ptpDate = outcome.ptpDate\n        ? moment(outcome.ptpDate).format('YYYY-MM-DD')\n        : '--';\n      let debitResubmissionDate = outcome.debitResubmissionDate\n        ? moment(outcome.debitResubmissionDate).format('YYYY-MM-DD')\n        : '--';\n\n      outcomesArray[idx] =\n        moment(outcome.createdDate).format('YYYY-MM-DD HH:mm:ss') +\n        ' by user ' +\n        outcome.createdBy +\n        '\\n' +\n        'Transaction type: ' +\n        outcome.transactionType +\n        '\\n' +\n        'Contacted person: ' +\n        outcome.contactPerson +\n        '\\n' +\n        'Number called: ' +\n        outcome.numberCalled +\n        '\\n' +\n        'Email used: ' +\n        outcome.emailUsed +\n        '\\n' +\n        'PTP date: ' +\n        ptpDate +\n        '\\n' +\n        'PTP amount: R' +\n        outcome.ptpAmount +\n        '\\n' +\n        'Pend reason: ' +\n        outcome.pendReason +\n        '\\n' +\n        'Debit order resubmission date: ' +\n        debitResubmissionDate +\n        '\\n' +\n        'Debit order resubmission amount: R' +\n        outcome.debitResubmissionAmount +\n        '\\n' +\n        'Outcome resolution: ' +\n        outcome.outcomeResolution +\n        '\\n' +\n        'Next visit date and time: ' +\n        moment(outcome.nextVisitDateTime).format('YYYY-MM-DD HH:mm') +\n        '\\n' +\n        'Next steps: ' +\n        outcome.nextSteps +\n        '\\n' +\n        'Outcome notes: \\n' +\n        outcomesNotes +\n        '\\n' +\n        '-----------------------------------------\\n\\r';\n    });\n    outcomesBundle = outcomesArray.join('\\n');\n  }\n\n  let content;\n  if (outcomeStatus === 'succeeded') {\n    content = (\n      <>\n        <Card.Header className=\"collection-card-header\">\n          <Card.Content>Outcomes History</Card.Content>\n        </Card.Header>\n        <Card.Content>\n          <Form>\n            <Form.Group widths=\"equal\">\n              <Form.TextArea\n                id=\"form-input-control-outcomesHistory\"\n                rows=\"10\"\n                readOnly\n                defaultValue={outcomesBundle}\n              />\n            </Form.Group>\n          </Form>\n        </Card.Content>\n      </>\n    );\n  } /*else if (outcomesStatus === 'error') {\n    content = (\n      <>\n        <Card.Header className=\"collection-card-header\">\n          <Card.Content>Outcomes History</Card.Content>\n        </Card.Header>\n        <Card.Content>\n          <Form>\n            <Form.Group widths=\"equal\">\n              <Form.TextArea>{error}</Form.TextArea>\n            </Form.Group>\n          </Form>\n        </Card.Content>\n      </>\n    );\n  }*/\n\n  return <div>{content}</div>;\n};\n","import { fetchWrapper } from '../../helpers';\n\nexport const accountService = {\n  getAll,\n  getAccount,\n  updateAccount,\n};\n\nfunction getAll() {\n  return fetchWrapper.get('/accounts');\n}\n\nfunction getAccount(id) {\n  return fetchWrapper.get(`/accounts/${id}`);\n}\n\nfunction updateAccount(id, params) {\n  //console.log('updateAccount', id, params);\n  return fetchWrapper.put(`/accounts/${id}`, params);\n}\n","import React, { useEffect, useState } from 'react';\nimport { Form } from 'semantic-ui-react';\n\nimport { userService } from './user.service';\n\nexport const UsersList = (props) => {\n  const { handleSelect, user } = props;\n  const [users, setUsers] = useState(null);\n  const [userStatus, setUserStatus] = useState('idle');\n\n  useEffect(() => {\n    async function fetchUsers() {\n      setUsers(await userService.getAll());\n      setUserStatus('succeeded');\n    }\n\n    fetchUsers();\n  }, [userStatus]);\n\n  let content;\n  let options = [];\n\n  if (!users) {\n    content = <div className=\"loader\">Loading...</div>;\n  } else if (userStatus === 'succeeded') {\n    users.map((user) =>\n      options.push({\n        key: user.id,\n        text: user.firstName + ' ' + user.lastName,\n        value: user.email,\n      })\n    );\n    const username = user.firstName + ' ' + user.lastName;\n    content = (\n      <Form.Select\n        fluid\n        id=\"form-input-control-userlist\"\n        label=\"Assignment\"\n        name=\"currentAssignment\"\n        onChange={handleSelect}\n        options={options}\n        placeholder={username}\n        required\n      />\n    );\n  } /*else if (userStatus === 'error') {\n    content = <div>{error}</div>;\n  }*/\n\n  return <>{content}</>;\n};\n","import React from 'react';\nimport {\n  Button,\n  Card,\n  Container,\n  Form,\n  Input,\n  Select,\n  TextArea,\n} from 'semantic-ui-react';\nimport { DateTimeInput } from 'semantic-ui-calendar-react';\nimport moment from 'moment';\n\nimport { accountService } from '../accounts/account.service';\nimport { caseService } from '../cases/case.service';\nimport { outcomeService } from '../outcomes/outcome.service';\nimport { userService } from '../users/user.service';\nimport { history } from '../../helpers/history';\nimport { UsersList } from '../users/UsersList';\n//import { ProgressBar } from '../../utils/ProgressBar';\n\nexport const CollectionForm = (props) => {\n  // Scroll to top\n  React.useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  //console.log('CollectionForm props', props);\n\n  const user = userService.userValue;\n  const role = user.role;\n\n  const {\n    accountNumber,\n    caseNotes,\n    caseStatus,\n    currentAssignment,\n    currentStatus,\n    id,\n    kamNotes,\n  } = props;\n\n  const resolutionOptions = [\n    {\n      key: 'callback',\n      text: 'Customer requested a callback',\n      value: 'Customer requested a callback',\n    },\n    {\n      key: 'info',\n      text: 'Customer requested additional information',\n      value: 'Customer requested additional information',\n    },\n    {\n      key: 'payment',\n      text: 'Payment already made',\n      value: 'Payment already made',\n    },\n    { key: 'ptp', text: 'Customer made PTP', value: 'Customer made PTP' },\n    {\n      key: 'dispute',\n      text: 'Customer disputed account',\n      value: 'Customer disputed account',\n    },\n  ];\n\n  const pendReasonOptions = [\n    { key: '1', text: 'Pend Reason 1', value: '1' },\n    { key: '2', text: 'Pend Reason 2', value: '2' },\n    { key: '3', text: 'Pend Reason 3', value: '3' },\n  ];\n\n  const transactionTypeOptions = [\n    { key: 'a', text: 'Admin', value: 'Admin' },\n    { key: 'c', text: 'Call', value: 'Call' },\n    { key: 'e', text: 'Email', value: 'Email' },\n  ];\n\n  /*let userOptions = UsersList();\n  const userOptionsss = [\n    { key: 1, text: 'Me', value: '1' },\n    { key: 2, text: 'Not me', value: '2' },\n    { key: 3, text: 'Some other guy', value: '3' },\n  ];\n  console.log(userOptions);\n  console.log(userOptionsss);*/\n\n  // Handlers\n  const handleChange = (evt) => {\n    const name = evt.target.name; //.split('.')[0];\n    //console.log('evt.target.name', evt.target.name);\n    //console.log('name', name);\n    const value = evt.target.value;\n    //console.log('value', value);\n    setState((prevState) => ({\n      fields: {\n        ...prevState.fields,\n        entities: {\n          ...prevState.fields.entities,\n          [name]: {\n            ...prevState.fields.entities[name],\n            value: value,\n          },\n        },\n      },\n    }));\n  };\n\n  const setErrorMsg = (msg, name) => {\n    //console.log('msg', msg);\n    setState((prevState) => ({\n      fields: {\n        ...prevState.fields,\n        entities: {\n          ...prevState.fields.entities,\n          [name]: {\n            ...prevState.fields.entities[name],\n            error: msg,\n          },\n        },\n      },\n    }));\n  };\n\n  const handlePTPDate = (event, { name, value }) => {\n    const ptpDate = value;\n    //console.log('ptpDate value', value);\n    const followup = moment(value)\n      .subtract(1, 'days')\n      .set({ hour: 8, minute: 0 })\n      .format('YYYY-MM-DD HH:mm');\n\n    setState((prevState) => ({\n      fields: {\n        ...prevState.fields,\n        entities: {\n          ...prevState.fields.entities,\n          ptpDate: {\n            ...prevState.fields.entities['ptpDate'],\n            value: ptpDate,\n          },\n        },\n      },\n    }));\n\n    setState((prevState) => ({\n      fields: {\n        ...prevState.fields,\n        entities: {\n          ...prevState.fields.entities,\n          nextVisitDateTime: {\n            ...prevState.fields.entities['nextVisitDateTime'],\n            value: followup,\n          },\n        },\n      },\n    }));\n  };\n\n  const handleDate = (event, { name, value }) => {\n    setState((prevState) => ({\n      fields: {\n        ...prevState.fields,\n        entities: {\n          ...prevState.fields.entities,\n          [name]: {\n            ...prevState.fields.entities[name],\n            value: value,\n          },\n        },\n      },\n    }));\n  };\n\n  const handleSelect = (evt, data) => {\n    const { name, value } = data;\n    //console.log('name, value', name, value);\n    setState((prevState) => ({\n      fields: {\n        ...prevState.fields,\n        entities: {\n          ...prevState.fields.entities,\n          [name]: {\n            ...prevState.fields.entities[name],\n            value: value,\n          },\n        },\n      },\n    }));\n  };\n\n  const clearErrorMessages = () => {\n    const fields = state.fields.ids;\n\n    fields.forEach((field) => {\n      setState((prevState) => ({\n        fields: {\n          ...prevState.fields,\n          entities: {\n            ...prevState.fields.entities,\n            [field]: {\n              ...prevState.fields.entities[field],\n              error: null,\n            },\n          },\n        },\n      }));\n    });\n  };\n\n  const cancelUpdate = (e) => {\n    e.preventDefault();\n    clearErrorMessages();\n    const newStatus = currentStatus === 'Locked' ? 'Open' : currentStatus;\n    //console.log('newStatus', newStatus);\n    const update = { currentStatus: newStatus, lockedDateTime: null };\n\n    //const response = await caseService.updateCase(id, update);\n    caseService.updateCase(id, update);\n    //console.log('response', response);\n    history.push({\n      pathname: '/collections',\n      state: { caseStatus: caseStatus },\n    });\n  };\n\n  const handleClose = (e) => {\n    e.preventDefault();\n    clearErrorMessages();\n    if (checkFields()) updateDatabase('Closed');\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    clearErrorMessages();\n    if (checkFields()) updateDatabase('Open');\n  };\n\n  const checkFields = () => {\n    let cont = true;\n    // Check captured values for compliance\n    console.log('Current state: ', state.fields.entities);\n\n    // Transaction Type, Number Called and Email Used\n    if (!state.fields.entities['transactionType'].value) {\n      setErrorMsg('Please select a transaction type', 'transactionType');\n      cont = false;\n    }\n\n    if (\n      state.fields.entities['transactionType'].value === 'Call' &&\n      state.fields.entities['numberCalled'].value.length !== 10\n    ) {\n      setErrorMsg('Please provide an 10 digit phone number', 'numberCalled');\n      cont = false;\n    }\n\n    const filter = /^[\\w._-]+[+]?[\\w._-]+@[\\w.-]+\\.[a-zA-Z]{2,20}$/;\n\n    if (\n      state.fields.entities['transactionType'].value === 'Email' &&\n      !filter.test(state.fields.entities['emailUsed'].value)\n    ) {\n      setErrorMsg('Please provide a valid email address', 'emailUsed');\n      cont = false;\n    }\n\n    // Contact Person\n    if (state.fields.entities['contactPerson'].value === '') {\n      setErrorMsg('Please provide a valid contact person', 'contactPerson');\n      cont = false;\n    }\n\n    // PTP values\n    if (\n      state.fields.entities['ptpDate'].value !== '' &&\n      state.fields.entities['ptpAmount'].value === ''\n    ) {\n      setErrorMsg('Please provide an amount', 'ptpAmount');\n      cont = false;\n    }\n\n    if (\n      state.fields.entities['ptpAmount'].value !== '' &&\n      state.fields.entities['ptpDate'].value === ''\n    ) {\n      setErrorMsg('Please provide a date', 'ptpDate');\n      cont = false;\n    }\n\n    // Outcome Resolution\n    if (state.fields.entities['resolution'].value === '') {\n      setErrorMsg('Please select a resolution', 'resolution');\n      cont = false;\n    }\n\n    // Debit Resubmission values\n    if (\n      state.fields.entities['debitResubmissionDate'].value !== '' &&\n      state.fields.entities['debitResubmissionAmount'].value === ''\n    ) {\n      setErrorMsg('Please provide an amount', 'debitResubmissionAmount');\n      cont = false;\n    }\n\n    if (\n      state.fields.entities['debitResubmissionAmount'].value !== '' &&\n      state.fields.entities['debitResubmissionDate'].value === ''\n    ) {\n      setErrorMsg('Please provide a date', 'debitResubmissionDate');\n      cont = false;\n    }\n\n    // Outcome or KAM Notes\n    if (\n      role === 'Admin' &&\n      state.fields.entities['outcomeNotes'].value.length < 10\n    ) {\n      setErrorMsg('Please provide more detailed notes', 'outcomeNotes');\n      cont = false;\n    }\n\n    if (\n      role === 'Agent' &&\n      state.fields.entities['outcomeNotes'].value.length < 10\n    ) {\n      setErrorMsg('Please provide more detailed notes', 'outcomeNotes');\n      cont = false;\n    }\n\n    if (role === 'Kam' && state.fields.entities['kamNotes'].value.length < 10) {\n      setErrorMsg('Please provide more detailed notes', 'kamNotes');\n      cont = false;\n    }\n\n    // Next Visit Date and Time values\n    if (state.fields.entities['nextVisitDateTime'].value === '') {\n      setErrorMsg('Please provide a date', 'nextVisitDateTime');\n      cont = false;\n    }\n\n    // Next Steps\n    if (state.fields.entities['nextSteps'].value.length < 10) {\n      setErrorMsg('Please provide more detailed notes', 'nextSteps');\n      cont = false;\n    }\n\n    return cont;\n  };\n\n  const [state, setState] = React.useState({\n    fields: {\n      ids: [\n        'contactPerson',\n        'currentAssignment',\n        'debitResubmissionAmount',\n        'debitResubmissionDate',\n        'emailUsed',\n        'newCaseNotes',\n        'newKamNotes',\n        'nextSteps',\n        'nextVisitDateTime',\n        'numberCalled',\n        'outcomeNotes',\n        'pendReason',\n        'ptpAmount',\n        'ptpDate',\n        'regIdStatus',\n        'resolution',\n        'transactionType',\n      ],\n      entities: {\n        contactPerson: {\n          control: Input,\n          error: null,\n          fluid: true,\n          isError: false,\n          label: 'Contact Person',\n          onChange: handleChange,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        currentAssignment: {\n          control: Select,\n          error: null,\n          fluid: true,\n          isError: false,\n          label: 'Current Assignment',\n          onChange: handleSelect,\n          options: '',\n          rules: [],\n          type: 'text',\n          value: user,\n        },\n        debitResubmissionAmount: {\n          control: Input,\n          error: null,\n          fluid: true,\n          isError: false,\n          label: 'Debit Resubmission Amount',\n          onChange: handleChange,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        debitResubmissionDate: {\n          DateTimeInput,\n          error: null,\n          fluid: false,\n          isError: false,\n          label: 'Debit Resubmission Date',\n          onChange: handleDate,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        emailUsed: {\n          control: Input,\n          error: null,\n          fluid: true,\n          isError: false,\n          label: 'Email Used',\n          onChange: handleChange,\n          rules: [],\n          type: 'email',\n          value: '',\n        },\n        newCaseNotes: {\n          control: TextArea,\n          error: null,\n          isError: false,\n          label: 'New Case Notes',\n          onChange: handleChange,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        newKamNotes: {\n          control: TextArea,\n          error: null,\n          isError: false,\n          label: 'New KAM Notes',\n          onChange: handleChange,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        nextSteps: {\n          control: TextArea,\n          error: null,\n          isError: false,\n          label: 'Next Steps',\n          onChange: handleChange,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        nextVisitDateTime: {\n          DateTimeInput,\n          error: null,\n          fluid: false,\n          isError: false,\n          label: 'Next Visit Date and Time',\n          onChange: handleDate,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        numberCalled: {\n          control: Input,\n          error: null,\n          fluid: true,\n          isError: false,\n          label: 'Number Called',\n          onChange: handleChange,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        outcomeNotes: {\n          control: TextArea,\n          error: null,\n          isError: false,\n          label: 'Outcome Notes',\n          onChange: handleChange,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        pendReason: {\n          control: Select,\n          error: null,\n          fluid: false,\n          isError: false,\n          label: 'Pend Reason',\n          onChange: handleSelect,\n          options: pendReasonOptions,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        ptpAmount: {\n          control: Input,\n          error: null,\n          fluid: true,\n          isError: false,\n          label: 'PTP Amount',\n          onChange: handleChange,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        ptpDate: {\n          DateTimeInput,\n          error: null,\n          fluid: false,\n          isError: false,\n          label: 'PTP Date',\n          onChange: handlePTPDate,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        regIdStatus: {\n          control: Select,\n          error: null,\n          fluid: false,\n          isError: false,\n          label: 'Registration / ID Status',\n          onChange: handleSelect,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        resolution: {\n          control: Select,\n          error: null,\n          fluid: false,\n          isError: false,\n          label: 'Resolution',\n          onChange: handleSelect,\n          options: resolutionOptions,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n        transactionType: {\n          control: Select,\n          error: null,\n          fluid: false,\n          isError: false,\n          label: 'Transaction Type',\n          onChange: handleSelect,\n          options: transactionTypeOptions,\n          rules: [],\n          type: 'text',\n          value: '',\n        },\n      },\n    },\n  });\n\n  const updateDatabase = async (process) => {\n    let newCaseNote = null;\n    let newKamNote = null;\n    let newOutcomeNote = null;\n\n    if (state.fields.entities['newKamNotes'].value !== '') {\n      newKamNote =\n        `${moment(new Date()).format('YYYY-MM-DD HH:mm:ss')} by ${\n          user.email\n        }\\n${state.fields.entities['newKamNotes'].value}\\n\\r` + kamNotes;\n\n      if (state.fields.entities['newCaseNotes'].value === '')\n        state.fields.entities['newCaseNotes'].value = 'KAM notes updated';\n    }\n\n    if (state.fields.entities['newCaseNotes'].value !== '') {\n      newCaseNote =\n        `${moment(new Date()).format('YYYY-MM-DD HH:mm:ss')} by ${\n          user.email\n        }\\n${state.fields.entities['newCaseNotes'].value}\\n\\r` + caseNotes;\n    }\n\n    newOutcomeNote = `${moment(new Date()).format('YYYY-MM-DD HH:mm:ss')} by ${\n      user.email\n    }\\n${state.fields.entities['outcomeNotes'].value}\\n\\r`;\n\n    const closedDate = moment(new Date()).format('YYYY-MM-DD HH:mm:ss');\n    const closedBy = user.email;\n\n    let caseUpdate;\n    console.log('newKamNote: ', newKamNote);\n    // Working out which role for notes and what action has been submitted\n    if (process === 'Closed' && newKamNote && newCaseNote) {\n      console.log('1 ');\n      caseUpdate = {\n        currentAssignment: null,\n        currentStatus: process,\n        caseNotes: newCaseNote,\n        kamNotes: newKamNote,\n        nextVisitDateTime: null,\n        resolution: state.fields.entities['resolution'].value,\n        updatedBy: user.email,\n        //updatedDate: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\n      };\n    } else if (process === 'Closed' && newKamNote && !newCaseNote) {\n      console.log('2');\n      caseUpdate = {\n        currentAssignment: null,\n        currentStatus: process,\n        kamNotes: newKamNote,\n        nextVisitDateTime: null,\n        resolution: state.fields.entities['resolution'].value,\n        updatedBy: user.email,\n        //updatedDate: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\n      };\n    } else if (process === 'Closed' && !newKamNote && newCaseNote) {\n      console.log('3');\n      caseUpdate = {\n        currentAssignment: null,\n        currentStatus: process,\n        caseNotes: newCaseNote,\n        nextVisitDateTime: null,\n        resolution: state.fields.entities['resolution'].value,\n        updatedBy: user.email,\n        //updatedDate: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\n      };\n    } else if (process === 'Closed' && !newKamNote && !newCaseNote) {\n      console.log('4');\n      caseUpdate = {\n        currentAssignment: null,\n        currentStatus: process,\n        nextVisitDateTime: null,\n        resolution: state.fields.entities['resolution'].value,\n        updatedBy: user.email,\n        //updatedDate: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\n      };\n    } else if (\n      process !== 'Closed' &&\n      newKamNote !== '' &&\n      newCaseNote !== ''\n    ) {\n      caseUpdate = {\n        currentAssignment: currentAssignment,\n        currentStatus: process,\n        caseNotes: newCaseNote,\n        kamNotes: newKamNote,\n        nextVisitDateTime: state.fields.entities['nextVisitDateTime'].value,\n        resolution: state.fields.entities['resolution'].value,\n        updatedBy: user.email,\n        //updatedDate: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\n      };\n    } else if (\n      process !== 'Closed' &&\n      newKamNote !== '' &&\n      newCaseNote === ''\n    ) {\n      caseUpdate = {\n        currentAssignment: currentAssignment,\n        currentStatus: process,\n        kamNotes: newKamNote,\n        nextVisitDateTime: state.fields.entities['nextVisitDateTime'].value,\n        resolution: state.fields.entities['resolution'].value,\n        updatedBy: user.email,\n        //updatedDate: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\n      };\n    } else if (\n      process !== 'Closed' &&\n      newKamNote === '' &&\n      newCaseNote !== ''\n    ) {\n      caseUpdate = {\n        currentAssignment: currentAssignment,\n        currentStatus: process,\n        caseNotes: newCaseNote,\n        nextVisitDateTime: state.fields.entities['nextVisitDateTime'].value,\n        resolution: state.fields.entities['resolution'].value,\n        updatedBy: user.email,\n        //updatedDate: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\n      };\n    } else if (\n      process !== 'Closed' &&\n      newKamNote === '' &&\n      newCaseNote === ''\n    ) {\n      caseUpdate = {\n        currentAssignment: currentAssignment,\n        currentStatus: process,\n        nextVisitDateTime: state.fields.entities['nextVisitDateTime'].value,\n        resolution: state.fields.entities['resolution'].value,\n        updatedBy: user.email,\n        //updatedDate: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\n      };\n    }\n\n    let outcomeInsert;\n    let accountUpdate;\n\n    // Working out PTP and Debit Resubmission arrangement\n    if (\n      !state.fields.entities['ptpDate'].value &&\n      !state.fields.entities['debitResubmissionDate'].value\n    ) {\n      accountUpdate = {\n        //accountStatus: this.state.accountStatus,\n        updatedBy: user.email,\n        //updatedDate: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\n      };\n\n      outcomeInsert = {\n        createdBy: user.email,\n        outcomeStatus: 'Closed',\n        transactionType: state.fields.entities['transactionType'].value,\n        numberCalled: state.fields.entities['numberCalled'].value,\n        emailUsed: state.fields.entities['emailUsed'].value,\n        contactPerson: state.fields.entities['contactPerson'].value,\n        outcomeResolution: state.fields.entities['resolution'].value,\n        outcomeNotes: newOutcomeNote,\n        nextSteps: state.fields.entities['nextSteps'].value,\n        closedDate: closedDate,\n        closedBy: closedBy,\n        f_caseNumber: id,\n      };\n    } else if (\n      state.fields.entities['ptpDate'].value &&\n      !state.fields.entities['debitResubmissionDate'].value\n    ) {\n      accountUpdate = {\n        //accountStatus: this.state.accountStatus,\n        lastPTPDate: state.fields.entities['ptpDate'].value,\n        lastPTPAmount: state.fields.entities['ptpAmount'].value,\n        updatedBy: user.email,\n        //updatedDate: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\n      };\n\n      outcomeInsert = {\n        createdBy: user.email,\n        outcomeStatus: 'Closed',\n        transactionType: state.fields.entities['transactionType'].value,\n        numberCalled: state.fields.entities['numberCalled'].value,\n        emailUsed: state.fields.entities['emailUsed'].value,\n        contactPerson: state.fields.entities['contactPerson'].value,\n        outcomeResolution: state.fields.entities['resolution'].value,\n        outcomeNotes: newOutcomeNote,\n        ptpDate: state.fields.entities['ptpDate'].value,\n        ptpAmount: state.fields.entities['ptpAmount'].value,\n        nextSteps: state.fields.entities['nextSteps'].value,\n        closedDate: closedDate,\n        closedBy: closedBy,\n        f_caseNumber: id,\n      };\n    } else if (\n      !state.fields.entities['ptpDate'].value &&\n      state.fields.entities['debitResubmissionDate'].value\n    ) {\n      accountUpdate = {\n        //accountStatus: this.state.accountStatus,\n        updatedBy: user.email,\n        //updatedDate: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\n      };\n\n      outcomeInsert = {\n        createdBy: user.email,\n        outcomeStatus: 'Closed',\n        transactionType: state.fields.entities['transactionType'].value,\n        numberCalled: state.fields.entities['numberCalled'].value,\n        emailUsed: state.fields.entities['emailUsed'].value,\n        contactPerson: state.fields.entities['contactPerson'].value,\n        outcomeResolution: state.fields.entities['resolution'].value,\n        outcomeNotes: newOutcomeNote,\n        nextSteps: state.fields.entities['nextSteps'].value,\n        closedDate: closedDate,\n        closedBy: closedBy,\n        debitResubmissionAmount:\n          state.fields.entities['debitResubmissionAmount'].value,\n        debitResubmissionDate:\n          state.fields.entities['debitResubmissionDate'].value,\n        f_caseNumber: id,\n      };\n    } else if (\n      state.fields.entities['ptpDate'].value &&\n      state.fields.entities['debitResubmissionDate'].value\n    ) {\n      accountUpdate = {\n        //accountStatus: this.state.accountStatus,\n        lastPTPDate: state.fields.entities['ptpDate'].value,\n        lastPTPAmount: state.fields.entities['ptpAmount'].value,\n        updatedBy: user.email,\n        //updatedDate: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\n      };\n\n      outcomeInsert = {\n        createdBy: user.email,\n        outcomeStatus: 'Closed',\n        transactionType: state.fields.entities['transactionType'].value,\n        numberCalled: state.fields.entities['numberCalled'].value,\n        emailUsed: state.fields.entities['emailUsed'].value,\n        contactPerson: state.fields.entities['contactPerson'].value,\n        outcomeResolution: state.fields.entities['resolution'].value,\n        outcomeNotes: newOutcomeNote,\n        ptpDate: state.fields.entities['ptpDate'].value,\n        ptpAmount: state.fields.entities['ptpAmount'].value,\n        nextSteps: state.fields.entities['nextSteps'].value,\n        closedDate: closedDate,\n        closedBy: closedBy,\n        debitResubmissionAmount:\n          state.fields.entities['debitResubmissionAmount'].value,\n        debitResubmissionDate:\n          state.fields.entities['debitResubmissionDate'].value,\n        f_caseNumber: id,\n      };\n    }\n\n    //console.log('account about to be updated');\n    await accountService.updateAccount(accountNumber, accountUpdate);\n    //console.log('account updated');\n    console.log('case update: ', caseUpdate);\n    await caseService.updateCase(id, caseUpdate);\n    const outcomeStatus = await outcomeService.createOutcome(outcomeInsert);\n\n    if (outcomeStatus.status === 'Ok') {\n      history.push({\n        pathname: '/collections',\n        state: { caseStatus: outcomeStatus.outcomeStatus },\n      });\n    } else {\n      console.log(outcomeStatus);\n    }\n  };\n\n  // Setting dates earlier than today as disabled for all date pickers\n  const today = new Date();\n\n  return (\n    <Container>\n      <Card raised centered fluid>\n        <Form>\n          {role === 'Kam' && (\n            <Form.Group widths=\"equal\">\n              <Form.TextArea\n                error={state.fields.entities['newKamNotes'].error}\n                id=\"form-input-control-newKamNotes\"\n                name=\"newKamNotes\"\n                label=\"New KAM Note\"\n                onChange={handleChange}\n                type=\"text\"\n                value={state.fields.entities['newKamNotes'].value}\n              />\n            </Form.Group>\n          )}\n          <Form.Group widths=\"equal\">\n            <Form.TextArea\n              error={state.fields.entities['newCaseNotes'].error}\n              id=\"form-input-control-newCaseNotes\"\n              name=\"newCaseNotes\"\n              label=\"New Case Note\"\n              onChange={handleChange}\n              type=\"text\"\n              value={state.fields.entities['newCaseNotes'].value}\n            />\n          </Form.Group>\n          <Form.Group widths=\"equal\">\n            <Form.Field\n              control={Select}\n              error={state.fields.entities['transactionType'].error}\n              fluid\n              id=\"form-input-control-transaction-type-select\"\n              label=\"Transaction Type\"\n              name=\"transactionType\"\n              onChange={handleSelect}\n              options={transactionTypeOptions}\n              required\n              value={state.fields.entities['transactionType'].value}\n            />\n            <Form.Input\n              fluid\n              error={state.fields.entities['numberCalled'].error}\n              id=\"form-input-control-numberCalled\"\n              name=\"numberCalled\"\n              label=\"Number Called\"\n              onChange={handleChange}\n              type=\"text\"\n              value={state.fields.entities['numberCalled'].value}\n            />\n            <Form.Input\n              fluid\n              error={state.fields.entities['emailUsed'].error}\n              label=\"Email Used\"\n              id=\"form-input-control-emailUsed\"\n              name=\"emailUsed\"\n              onChange={handleChange}\n              type=\"email\"\n              value={state.fields.entities['emailUsed'].value}\n            />\n          </Form.Group>\n          <Form.Group widths=\"equal\">\n            <Form.Input\n              error={state.fields.entities['contactPerson'].error}\n              fluid\n              label=\"Contact Person\"\n              name=\"contactPerson\"\n              onChange={handleChange}\n              id=\"form-input-control-contactPerson\"\n              required\n              type=\"text\"\n              value={state.fields.entities['contactPerson'].value}\n            />\n            <Form.Select\n              error={state.fields.entities['resolution'].error}\n              fluid\n              id=\"form-input-control-resolution\"\n              label=\"Outcome Resolution\"\n              name=\"resolution\"\n              onChange={handleSelect}\n              options={resolutionOptions}\n              required\n            />\n          </Form.Group>\n          <Form.Group widths=\"equal\">\n            <Form.Input\n              error={state.fields.entities['ptpDate'].error}\n              input={\n                <DateTimeInput\n                  closable\n                  dateTimeFormat=\"YYYY-MM-DD HH:mm:ss\"\n                  minDate={today}\n                  name=\"ptpDate\"\n                  placeholder=\"PTP Date\"\n                  value={state.fields.entities['ptpDate'].value}\n                  iconPosition=\"left\"\n                  onChange={handlePTPDate}\n                />\n              }\n              label=\"PTP Date\"\n              name=\"ptpDate\"\n            />\n            <Form.Input\n              error={state.fields.entities['ptpAmount'].error}\n              fluid\n              label=\"PTP Amount\"\n              name=\"ptpAmount\"\n              onChange={handleChange}\n              id=\"form-input-control-ptpAmount\"\n              type=\"number\"\n              value={state.fields.entities['ptpAmount'].value}\n            />\n          </Form.Group>\n          <Form.Group widths=\"equal\">\n            <Form.Input\n              error={state.fields.entities['debitResubmissionDate'].error}\n              input={\n                <DateTimeInput\n                  closable\n                  dateTimeFormat=\"YYYY-MM-DD HH:mm:ss\"\n                  minDate={today}\n                  name=\"debitResubmissionDate\"\n                  placeholder=\"Debit Resubmission Date\"\n                  value={state.fields.entities['debitResubmissionDate'].value}\n                  iconPosition=\"left\"\n                  onChange={handleDate}\n                />\n              }\n              label=\"Debit Resubmission Date\"\n              name=\"debitResubmissionDate\"\n            />\n            <Form.Input\n              error={state.fields.entities['debitResubmissionAmount'].error}\n              fluid\n              label=\"Debit Resubmission Amount\"\n              name=\"debitResubmissionAmount\"\n              id=\"form-input-control-debitResubmissionAmount\"\n              onChange={handleChange}\n              type=\"number\"\n              value={state.fields.entities['debitResubmissionAmount'].value}\n            />\n          </Form.Group>\n          <Form.Group widths=\"equal\">\n            <Form.TextArea\n              error={state.fields.entities['outcomeNotes'].error}\n              label=\"Outcome Notes\"\n              name=\"outcomeNotes\"\n              id=\"form-input-control-outcomeNotes\"\n              onChange={handleChange}\n              value={state.fields.entities['outcomeNotes'].value}\n              required\n            />\n          </Form.Group>\n          <Form.Group widths=\"equal\">\n            <Form.Input\n              error={state.fields.entities['nextVisitDateTime'].error}\n              input={\n                <DateTimeInput\n                  closable\n                  dateTimeFormat=\"YYYY-MM-DD HH:mm:ss\"\n                  minDate={today}\n                  name=\"nextVisitDateTime\"\n                  placeholder=\"Next Visit Date and Time\"\n                  value={state.fields.entities['nextVisitDateTime'].value}\n                  iconPosition=\"left\"\n                  onChange={handleDate}\n                />\n              }\n              label=\"Next Visit Date and Time\"\n              required\n            />\n            <UsersList handleSelect={handleSelect} user={user} />\n          </Form.Group>\n          <Form.Group widths=\"equal\">\n            <Form.TextArea\n              error={state.fields.entities['nextSteps'].error}\n              label=\"Next Steps\"\n              name=\"nextSteps\"\n              id=\"form-input-control-nextSteps\"\n              onChange={handleChange}\n              value={state.fields.entities['nextSteps'].value}\n              required\n            />\n          </Form.Group>\n          <Form.Group widths=\"equal\"></Form.Group>\n          <Container fluid textAlign=\"center\">\n            <Button.Group size=\"large\">\n              <Button content=\"Submit\" onClick={handleSubmit} />\n              <Button.Or />\n              <Button content=\"Cancel\" onClick={cancelUpdate} />\n              <Button.Or />\n              <Button content=\"Close\" onClick={handleClose} />\n            </Button.Group>\n            {/*<Button content=\"Test\" onClick={handleTest} />*/}\n          </Container>\n        </Form>\n      </Card>\n    </Container>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport {\n  Card,\n  Container,\n  Dimmer,\n  Divider,\n  Form,\n  Input,\n  Loader,\n} from 'semantic-ui-react';\nimport moment from 'moment';\n\nimport { collectionService } from './collection.service';\nimport { caseService } from '../cases/case.service';\nimport { Contacts } from '../contacts/Contacts';\nimport { Outcomes } from '../outcomes/Outcomes';\nimport { userService } from '../users/user.service';\nimport { CollectionForm } from './CollectionForm';\n\nexport const Collection = (props) => {\n  //console.log('Collection props', props);\n  // Scroll to top\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  const { id } = props.match.params;\n  const user = userService.userValue;\n  const [collection, setCollection] = useState(null);\n  const [collectionStatus, setCollectionStatus] = useState('idle');\n\n  useEffect(() => {\n    const lockRecord = async () => {\n      // lock the record so no other agent accidentally opens it\n      const dateTime = moment(new Date()).format('YYYY-MM-DD HH:mm:ss');\n      const update = {\n        currentStatus: 'Locked',\n        lockedDateTime: dateTime,\n      };\n      await caseService.updateCase(id, update);\n    };\n\n    const loadRecord = async () => {\n      setCollectionStatus('loading');\n      setCollection(await collectionService.getCollection(id));\n      setCollectionStatus('succeeded');\n    };\n\n    if (collectionStatus === 'idle') {\n      loadRecord();\n      lockRecord();\n    }\n  }, [collectionStatus, id]);\n\n  let content;\n\n  if (collectionStatus === 'loading') {\n    content = (\n      <Container>\n        <Dimmer active>\n          <Loader>Loading...</Loader>\n        </Dimmer>\n      </Container>\n    );\n  } else if (collectionStatus === 'error') {\n    content = <Container>error</Container>;\n  } else if (collectionStatus === 'succeeded') {\n    //console.log('Collection loaded: ', collection);\n\n    // Preparing variables for rendering\n    const regIdNumberRender = () => {\n      if (collection.customerEntity === 'Enterprise') {\n        return (\n          <Form.Input\n            fluid\n            label=\"Registration Number\"\n            id=\"form-input-control-regIdNumber\"\n            readOnly\n            width=\"4\"\n            defaultValue={collection.regIdNumber}\n          />\n        );\n      } else if (collection.customerEntity === 'Consumer') {\n        return (\n          <Form.Input\n            fluid\n            label=\"ID Number\"\n            id=\"form-input-control-regIdNumber\"\n            readOnly\n            width=\"4\"\n            defaultValue={collection.regIdNumber}\n          />\n        );\n      } else {\n        return (\n          <Form.Input\n            fluid\n            label=\"ID Number\"\n            id=\"form-input-control-regIdNumber\"\n            readOnly\n            width=\"4\"\n            defaultValue=\"No entity found\"\n          />\n        );\n      }\n    };\n\n    // Checking last payment, PTP and nextVisitDateTime dates\n    // Set to empty string if null\n    collection.lastPaymentDate\n      ? (collection.lastPaymentDate = moment(collection.lastPaymentDate).format(\n          'YYYY-MM-DD'\n        ))\n      : (collection.lastPaymentDate = '');\n\n    collection.lastPTPDate\n      ? (collection.lastPTPDate = moment(collection.lastPTPDate).format(\n          'YYYY-MM-DD'\n        ))\n      : (collection.lastPTPDate = '');\n\n    collection.nextVisitDateTime\n      ? (collection.nextVisitDateTime = moment(\n          collection.nextVisitDateTime\n        ).format('YYYY-MM-DD HH:mm'))\n      : (collection.nextVisitDateTime = '');\n\n    /*const cipcStatusOptions = [\n      { key: 'i', text: 'In Business', value: 'In Business' },\n      { key: 'f', text: 'Final Deregistration', value: 'Final Deregistration' },\n    ];\n\n    const idvStatusOptions = [\n      { key: 'a', text: 'Alive', value: 'Alive' },\n      { key: 'd', text: 'Deceased', value: 'Deceased' },\n    ];*/\n\n    const cipcIdvStatus = () => {\n      if (collection.customerEntity === 'Enterprise') {\n        return (\n          <Form.Input\n            defaultValue={collection.regIdStatus}\n            id=\"form-input-control-regIdStatus\"\n            label=\"CIPC Status\"\n            name=\"regIdStatus\"\n            readOnly\n            width=\"4\"\n          />\n        );\n      } else if (collection.customerEntity === 'Consumer') {\n        return (\n          <Form.Input\n            defaultValue={collection.regIdStatus}\n            id=\"form-input-control-regIdStatus\"\n            label=\"IDV Status\"\n            name=\"regIdStatus\"\n            readOnly\n            width=\"4\"\n          />\n        );\n      }\n    };\n\n    /*const accountStatusList = [\n      { key: 'a', text: 'Active', value: 'Active' },\n      { key: 'c', text: 'Cancelled', value: 'Cancelled' },\n      { key: 'o', text: 'Open', value: 'Open' },\n      { key: 's', text: 'Suspended', value: 'Suspended' },\n    ];*/\n\n    const currencyFormatter = (currency) => {\n      //console.log('Currency: ', currency);\n      if (currency !== 0 && currency) {\n        return (\n          'R ' + currency.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 ')\n        );\n      } else {\n        return 'R 0.00';\n      }\n    };\n\n    content = (\n      <Container>\n        <Card raised centered fluid>\n          <Card.Header className=\"collection-card-header\">\n            <Card.Content>Case Number {collection.caseNumber}</Card.Content>\n          </Card.Header>\n          <Card.Content>\n            <Form>\n              <Form.Group widths=\"equal\">\n                <Form.TextArea\n                  label={`Account Number ${collection.accountNumber} - Notes`}\n                  id=\"form-input-control-accountNumber\"\n                  readOnly\n                  rows=\"3\"\n                  defaultValue={collection.accountNotes}\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.TextArea\n                  label=\"Case Notes\"\n                  id=\"form-input-control-caseNotes\"\n                  readOnly\n                  rows=\"3\"\n                  defaultValue={collection.caseNotes}\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.TextArea\n                  label=\"KAM Notes\"\n                  id=\"form-input-control-kamNotes\"\n                  readOnly\n                  rows=\"3\"\n                  defaultValue={collection.kamNotes}\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  fluid\n                  label=\"Customer Name\"\n                  id=\"form-input-control-customerName\"\n                  readOnly\n                  defaultValue={collection.customerName}\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                {regIdNumberRender()}\n                {cipcIdvStatus()}\n              </Form.Group>\n\n              <br />\n              <Divider horizontal>Account Information</Divider>\n              <br />\n\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  fluid\n                  label=\"Debtor Age\"\n                  id=\"form-input-control-debtorAge\"\n                  readOnly\n                  defaultValue={collection.debtorAge || ''}\n                />\n                <Form.Input\n                  fluid\n                  label=\"Credit Limit\"\n                  id=\"form-input-control-creditLimit\"\n                  readOnly\n                  defaultValue={currencyFormatter(collection.creditLimit) || ''}\n                />\n                <Form.Input\n                  fluid\n                  label=\"Total Balance\"\n                  id=\"form-input-control-totalBalance\"\n                  readOnly\n                  defaultValue={\n                    currencyFormatter(collection.totalBalance) || ''\n                  }\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  fluid\n                  label=\"Amount Due\"\n                  id=\"form-input-control-amountDue\"\n                  readOnly\n                  defaultValue={currencyFormatter(collection.amountDue) || ''}\n                />\n                <Form.Input\n                  fluid\n                  label=\"Current Balance\"\n                  id=\"form-input-control-currentBalance\"\n                  readOnly\n                  defaultValue={\n                    currencyFormatter(collection.currentBalance) || ''\n                  }\n                />\n                <Form.Input\n                  fluid\n                  id=\"form-input-control-account-status\"\n                  label=\"Account Status\"\n                  name=\"accountStatus\"\n                  readOnly\n                  value={collection.accountStatus || ''}\n                />\n              </Form.Group>\n\n              <br />\n              <Divider horizontal>Days on book</Divider>\n              <br />\n\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  fluid\n                  label=\"30 Days\"\n                  id=\"form-input-control-days30\"\n                  readOnly\n                  defaultValue={currencyFormatter(collection.days30) || ''}\n                />\n                <Form.Input\n                  fluid\n                  label=\"60 Days\"\n                  id=\"form-input-control-days60\"\n                  readOnly\n                  defaultValue={currencyFormatter(collection.days60) || ''}\n                />\n                <Form.Input\n                  fluid\n                  label=\"90 Days\"\n                  id=\"form-input-control-days90\"\n                  readOnly\n                  defaultValue={currencyFormatter(collection.days90) || ''}\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  fluid\n                  label=\"120 Days\"\n                  id=\"form-input-control-days120\"\n                  readOnly\n                  defaultValue={currencyFormatter(collection.days120) || ''}\n                />\n                <Form.Input\n                  fluid\n                  label=\"150 Days\"\n                  id=\"form-input-control-days150\"\n                  readOnly\n                  defaultValue={currencyFormatter(collection.days150) || ''}\n                />\n                <Form.Input\n                  fluid\n                  label=\"180 Days\"\n                  id=\"form-input-control-days180\"\n                  readOnly\n                  defaultValue={currencyFormatter(collection.days180) || ''}\n                />\n                <Form.Input\n                  fluid\n                  label=\"+180 Days\"\n                  id=\"form-input-control-days180Over\"\n                  readOnly\n                  defaultValue={currencyFormatter(collection.days180Over) || ''}\n                />\n              </Form.Group>\n\n              <br />\n              <Divider horizontal>Payment Information</Divider>\n              <br />\n\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  fluid\n                  label=\"Payment Due Date\"\n                  id=\"form-input-control-paymentDueDate\"\n                  readOnly\n                  defaultValue={collection.paymentDueDate}\n                />\n                <Form.Input\n                  fluid\n                  label=\"Debit Order Date\"\n                  id=\"form-input-control-debitOrderDate\"\n                  readOnly\n                  defaultValue={collection.debitOrderDate}\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  fluid\n                  label=\"Last Payment Date\"\n                  id=\"form-input-control-lastPaymentDate\"\n                  readOnly\n                  defaultValue={collection.lastPaymentDate}\n                />\n                <Form.Input\n                  fluid\n                  label=\"Last Payment Amount\"\n                  id=\"form-input-control-lastPaymentAmount\"\n                  readOnly\n                  defaultValue={currencyFormatter(collection.lastPaymentAmount)}\n                />\n              </Form.Group>\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  fluid\n                  label=\"Last PTP Date\"\n                  id=\"form-input-control-ptpDate\"\n                  readOnly\n                  defaultValue={collection.lastPTPDate}\n                />\n                <Form.Input\n                  fluid\n                  label=\"Last PTP Amount\"\n                  id=\"form-input-control-ptpAmount\"\n                  readOnly\n                  defaultValue={currencyFormatter(collection.lastPTPAmount)}\n                />\n              </Form.Group>\n\n              <br />\n              <Divider horizontal>Follow-up Information</Divider>\n              <br />\n\n              <Form.Group widths=\"equal\">\n                <Form.Input\n                  fluid\n                  //id=\"form-input-control-nextVisitDateTime\"\n                  label=\"Next Visit Date and Time\"\n                  readOnly\n                  defaultValue={collection.nextVisitDateTime}\n                />\n                <Form.Input\n                  fluid\n                  label=\"Representative Name\"\n                  id=\"form-input-control-representativeName\"\n                  readOnly\n                  defaultValue={collection.representativeName}\n                />\n                <Form.Field\n                  control={Input}\n                  id=\"form-input-control-representativeNumber\"\n                  label=\"Representative Number\"\n                  readOnly\n                  defaultValue={collection.representativeNumber}\n                >\n                  <a\n                    href={`tel:${collection.representativeNumber}`}\n                    style={{\n                      background: '#ECF0F1',\n                      border: '1px solid #CED4DA',\n                      borderRadius: '0.25rem',\n                      color: '#7B8A8B',\n                      display: 'block',\n                      fontSize: '0.9375rem',\n                      fontWeight: '400',\n                      height: '2.5rem',\n                      lineHeight: '1.5',\n                      margin: '0',\n                      padding: '0.375rem 0.75rem',\n                      textDecoration: 'underline',\n                      width: '100%',\n                    }}\n                  >\n                    {collection.representativeNumber}\n                  </a>\n                </Form.Field>\n              </Form.Group>\n              <Form.Group widths=\"equal\"></Form.Group>\n            </Form>\n            <Contacts id={collection.accountNumber} user={user.email} />\n          </Card.Content>\n        </Card>\n        {/* --------------------------------------------- Outcome History section ------------------------------------------------------- */}\n        <br />\n        <Card raised centered fluid>\n          <Outcomes id={id} />\n        </Card>\n        {/* --------------------------------------------- New activity section ------------------------------------------------------- */}\n        <br />\n        <CollectionForm\n          accountNumber={collection.accountNumber}\n          caseNotes={collection.caseNotes}\n          caseStatus={collection.currentStatus}\n          currentAssignment={collection.currentAssignment}\n          currentStatus={collection.currentStatus}\n          id={id}\n          kamNotes={collection.kamNotes}\n          outcomeNotes={''}\n        />\n      </Container>\n    );\n  }\n\n  return <Container>{content}</Container>;\n};\n","import { fetchWrapper } from '../../helpers';\n\nexport const customerService = {\n  getAll,\n  getAllInvoices,\n  getById,\n  create,\n  update,\n  delete: _delete,\n};\n\nfunction getAll() {\n  return fetchWrapper.get('/customers');\n}\n\nfunction getAllInvoices() {\n  return fetchWrapper.get('/customers/invoices');\n}\n\nfunction getById(id) {\n  return fetchWrapper.get(`/customers/${id}`);\n}\n\nfunction create(params) {\n  return fetchWrapper.post('/customers', params);\n}\n\nfunction update(id, params) {\n  return fetchWrapper.put(`/customers/${id}`, params).then((customer) => {\n    return customer;\n  });\n}\n\n// prefixed with underscore because 'delete' is a reserved word in javascript\nfunction _delete(id) {\n  return fetchWrapper.delete(`/customers/${id}`).then((x) => {\n    return x;\n  });\n}\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  Button,\n  Container,\n  Dimmer,\n  Icon,\n  Loader,\n  Message,\n  Table,\n} from 'semantic-ui-react';\nimport moment from 'moment';\n\nimport { customerService } from './customer.service';\n\nexport const CustomerManagement = () => {\n  const [invoices, setInvoices] = useState(null);\n  const [invoicesStatus, setInvoicesStatus] = useState('idle');\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n\n    async function fetchInvoices() {\n      setInvoicesStatus('loading');\n      setInvoices(await customerService.getAllInvoices());\n      setInvoicesStatus('succeeded');\n    }\n\n    //fetchCustomers();\n    fetchInvoices();\n  }, []);\n\n  // Currency converter function\n  const currencyFormatter = (currency) => {\n    //console.log('Currency: ', currency);\n    if (currency !== 0 && currency) {\n      return (\n        'R ' + currency.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 ')\n      );\n    } else {\n      return 'R 0.00';\n    }\n  };\n\n  let content;\n\n  if (invoicesStatus === 'loading') {\n    content = (\n      <Table.Row>\n        <Table.Cell>\n          <Dimmer active inverted>\n            <Loader inverted content=\"Loading\" />\n          </Dimmer>\n        </Table.Cell>\n      </Table.Row>\n    );\n  } else if (invoicesStatus === 'error') {\n    content = <Message>error</Message>;\n  } else if (invoicesStatus === 'succeeded') {\n    //console.log('invoices: ', invoices);\n    content = invoices.map(\n      ({ customerRefNo, customerName, hasViewed, viewed, totalBalance }) => {\n        let yay;\n        if (hasViewed) yay = true;\n        //if (invoice.customerRefNo === 'AEO101')\n        //console.log('invoice.hasViewed: ', invoice.hasViewed);\n        //console.log('content: ', content);\n        return (\n          <Table.Row key={customerRefNo} positive={yay}>\n            <Table.Cell collapsing>\n              <Button animated as={Link} to={`/customers/${customerRefNo}`}>\n                <Button.Content visible>\n                  <Icon name=\"cogs\" />\n                </Button.Content>\n                <Button.Content hidden>Edit</Button.Content>\n              </Button>\n            </Table.Cell>\n            <Table.Cell>{customerRefNo}</Table.Cell>\n            <Table.Cell>{customerName}</Table.Cell>\n            {hasViewed && (\n              <Table.Cell>\n                {moment(viewed).format('YYYY-MM-DD HH:mm:ss')}\n              </Table.Cell>\n            )}\n            {!hasViewed && <Table.Cell></Table.Cell>}\n            <Table.Cell textAlign=\"right\">\n              {currencyFormatter(totalBalance)}\n            </Table.Cell>\n          </Table.Row>\n        );\n      }\n    );\n  }\n\n  return (\n    <Container>\n      <Table compact celled definition sortable striped>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell />\n            <Table.HeaderCell>Customer Reference</Table.HeaderCell>\n            <Table.HeaderCell>Customer</Table.HeaderCell>\n            <Table.HeaderCell>Most Recent Invoice Viewed</Table.HeaderCell>\n            <Table.HeaderCell>Total Outstanding</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>{content}</Table.Body>\n\n        <Table.Footer fullWidth>\n          <Table.Row>\n            <Table.HeaderCell />\n            <Table.HeaderCell colSpan=\"4\">\n              <Button\n                as={Link}\n                to=\"/customers/create\"\n                floated=\"right\"\n                icon\n                labelPosition=\"left\"\n                primary\n                size=\"small\"\n              >\n                <Icon name=\"user\" /> Add Customer\n              </Button>\n              <Button size=\"small\">Approve</Button>\n              <Button disabled size=\"small\">\n                Approve All\n              </Button>\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n    </Container>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { Container, Dimmer, Form, Loader, Message } from 'semantic-ui-react';\n\nimport { accountService } from '../accounts/account.service';\n//import { alertService } from '../alerts/alert.service';\nimport { customerService } from './customer.service';\n\nexport const CustomerEditor = ({ match }) => {\n  const { id } = match.params;\n  const [account, setAccount] = useState(null);\n  const [accountStatus, setAccountStatus] = useState('idle');\n  const [customer, setCustomer] = useState(null);\n  const [customerStatus, setCustomerStatus] = useState('idle');\n\n  useEffect(() => {\n    async function fetchCustomer() {\n      setCustomerStatus('loading');\n      setCustomer(await customerService.getById(id));\n      setCustomerStatus('succeeded');\n    }\n    async function fetchAccount() {\n      setAccountStatus('loading');\n      setAccount(await accountService.getAccount(id));\n      setAccountStatus('succeeded');\n    }\n\n    fetchCustomer();\n    fetchAccount();\n  }, [id]);\n\n  let content;\n\n  if (accountStatus === 'loading' || customerStatus === 'loading') {\n    content = (\n      <Dimmer active inverted>\n        <Loader inverted content=\"Loading\" />\n      </Dimmer>\n    );\n  } else if (accountStatus === 'error' || customerStatus === 'error') {\n    content = <Message>error</Message>;\n  } else if (accountStatus === 'succeeded' || customerStatus === 'succeeded') {\n    const { customerRefNo, customerName } = customer;\n    const {\n      days30,\n      days60,\n      days90,\n      /*days120,\n      days150,\n      days180,\n      days180Over,\n      totalBalance,*/\n    } = account;\n    console.log('account: ', account);\n    console.log('customer: ', customer);\n    content = (\n      <>\n        <Form.Group>\n          <Form.Input defaultValue={customerRefNo} label=\"Customer Reference\" />\n          <Form.Input defaultValue={customerName} label=\"Customer Name\" />\n        </Form.Group>\n        <Form.Group>\n          <Form.Input defaultValue={days30} label=\"30 Days\" />\n          <Form.Input defaultValue={days60} label=\"60 Days\" />\n          <Form.Input defaultValue={days90} label=\"90 Days\" />\n        </Form.Group>\n      </>\n    );\n  }\n\n  return (\n    <Container>\n      <Form>{content}</Form>\n    </Container>\n  );\n};\n","import React, { Component } from 'react';\nimport { Grid, Header, Segment, Form, Button } from 'semantic-ui-react';\n\nclass CustomerDetails extends Component {\n  saveAndContinue = (e) => {\n    e.preventDefault();\n    this.props.nextStep();\n  };\n\n  render() {\n    const { values } = this.props;\n\n    return (\n      <Grid.Column>\n        <Header textAlign=\"center\">\n          <h1>Enter Customer Details</h1>\n        </Header>\n\n        <Form>\n          <Segment>\n            <Form.Group widths=\"equal\">\n              <Form.Field>\n                <label>Customer Reference Number</label>\n                <input\n                  placeholder=\"Customer Reference Number\"\n                  onChange={this.props.handleChange('customerRefNo')}\n                  defaultValue={values.customerRefNo}\n                />\n              </Form.Field>\n\n              <Form.Field>\n                <label>Customer Name</label>\n                <input\n                  placeholder=\"Customer Name\"\n                  onChange={this.props.handleChange('customerName')}\n                  defaultValue={values.customerName}\n                />\n              </Form.Field>\n\n              <Form.Field>\n                <label>Customer Entity</label>\n                <input\n                  placeholder=\"Customer Entity\"\n                  onChange={this.props.handleChange('customerEntity')}\n                  defaultValue={values.customerEntity}\n                />\n              </Form.Field>\n            </Form.Group>\n\n            <Form.Group widths=\"equal\">\n              <Form.Field>\n                <label>Registration Number</label>\n                <input\n                  placeholder=\"Registration Number\"\n                  onChange={this.props.handleChange('regIdNumber')}\n                  defaultValue={values.regIdNumber}\n                />\n              </Form.Field>\n\n              <Form.Field>\n                <label>Customer Type</label>\n                <input\n                  placeholder=\"Customer Type\"\n                  onChange={this.props.handleChange('customerType')}\n                  defaultValue={values.customerType}\n                />\n              </Form.Field>\n\n              <Form.Field>\n                <label>Product Type</label>\n                <input\n                  placeholder=\"Product Type\"\n                  onChange={this.props.handleChange('productType')}\n                  defaultValue={values.productType}\n                />\n              </Form.Field>\n            </Form.Group>\n\n            <Form.Group widths=\"equal\">\n              <Form.Field>\n                <label>Address Line 1</label>\n                <input\n                  placeholder=\"Address Line 1\"\n                  onChange={this.props.handleChange('address1')}\n                  defaultValue={values.address1}\n                />\n              </Form.Field>\n\n              <Form.Field>\n                <label>Address Line 2</label>\n                <input\n                  placeholder=\"Address Line 2\"\n                  onChange={this.props.handleChange('address2')}\n                  defaultValue={values.address2}\n                />\n              </Form.Field>\n\n              <Form.Field>\n                <label>Address Line 3</label>\n                <input\n                  placeholder=\"Address Line 3\"\n                  onChange={this.props.handleChange('address3')}\n                  defaultValue={values.address3}\n                />\n              </Form.Field>\n            </Form.Group>\n\n            <Form.Group widths=\"equal\">\n              <Form.Field>\n                <label>Address Line 4</label>\n                <input\n                  placeholder=\"Address Line 4\"\n                  onChange={this.props.handleChange('address4')}\n                  defaultValue={values.address4}\n                />\n              </Form.Field>\n\n              <Form.Field>\n                <label>Address Line 5</label>\n                <input\n                  placeholder=\"Address Line 5\"\n                  onChange={this.props.handleChange('address5')}\n                  defaultValue={values.address5}\n                />\n              </Form.Field>\n\n              <Form.Field>\n                <label>Client ID</label>\n                <input\n                  placeholder=\"Client ID\"\n                  onChange={this.props.handleChange('f_clientId')}\n                  defaultValue={values.f_clientId}\n                />\n              </Form.Field>\n            </Form.Group>\n          </Segment>\n\n          <Segment>\n            <Button onClick={this.saveAndContinue}>Save And Continue</Button>\n          </Segment>\n        </Form>\n      </Grid.Column>\n    );\n  }\n}\n\nexport default CustomerDetails;\n","import React, { Component } from 'react';\nimport { Grid, Header, Segment, Form, Button } from 'semantic-ui-react';\n\nclass AccountDetails extends Component {\n  saveAndContinue = (e) => {\n    e.preventDefault();\n    this.props.nextStep();\n  };\n\n  back = (e) => {\n    e.preventDefault();\n    this.props.prevStep();\n  };\n\n  render() {\n    const { values } = this.props;\n\n    return (\n      <Grid.Column style={{ maxWidth: 450 }}>\n        <Header textAlign=\"center\">\n          <h1>Enter Account Details</h1>\n        </Header>\n\n        <Form>\n          <Segment>\n            <Form.Field>\n              <label>Direct Debit Date</label>\n              <input\n                placeholder=\"Direct Debit Date\"\n                onChange={this.props.handleChange('directDebitDate')}\n                defaultValue={values.directDebitDate}\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label>Payment Term Days</label>\n              <input\n                placeholder=\"Payment Term Days\"\n                onChange={this.props.handleChange('paymentTermDays')}\n                defaultValue={values.paymentTermDays}\n              />\n            </Form.Field>\n          </Segment>\n\n          <Segment textAlign=\"center\">\n            <Button onClick={this.back}>Back</Button>\n\n            <Button onClick={this.saveAndContinue}>Save And Continue</Button>\n          </Segment>\n        </Form>\n      </Grid.Column>\n    );\n  }\n}\n\nexport default AccountDetails;\n","import React, { Component } from 'react';\nimport { Grid, Header, Segment, Form, Button } from 'semantic-ui-react';\n\nclass ContactDetails extends Component {\n  saveAndContinue = (e) => {\n    e.preventDefault();\n    this.props.nextStep();\n  };\n\n  back = (e) => {\n    e.preventDefault();\n    this.props.prevStep();\n  };\n\n  render() {\n    const { values } = this.props;\n\n    return (\n      <Grid.Column style={{ maxWidth: 450 }}>\n        <Header textAlign=\"center\">\n          <h1>Enter Contact Details</h1>\n        </Header>\n\n        <Form>\n          <Segment>\n            <Form.Field>\n              <label>Primary Contact Name</label>\n              <input\n                placeholder=\"Primary Contact Name\"\n                onChange={this.props.handleChange('primaryContactName')}\n                defaultValue={values.primaryContactName}\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label>Primary Contact Number</label>\n              <input\n                placeholder=\"Primary Contact Number\"\n                onChange={this.props.handleChange('primaryContactNumber')}\n                defaultValue={values.primaryContactNumber}\n              />\n            </Form.Field>\n          </Segment>\n\n          <Segment textAlign=\"center\">\n            <Button onClick={this.back}>Back</Button>\n\n            <Button onClick={this.saveAndContinue}>Save And Continue</Button>\n          </Segment>\n        </Form>\n      </Grid.Column>\n    );\n  }\n}\n\nexport default ContactDetails;\n","import React, { Component } from 'react';\nimport { Grid, Header, Segment, Button, List } from 'semantic-ui-react';\n\nclass Confirmation extends Component {\n  saveAndContinue = (e) => {\n    e.preventDefault();\n    this.props.nextStep();\n  };\n\n  back = (e) => {\n    e.preventDefault();\n    this.props.prevStep();\n  };\n\n  render() {\n    const {\n      values: {\n        customerRefNo,\n        customerName,\n        customerEntity,\n        regIdNumber,\n        customerType,\n        productType,\n        address1,\n        address2,\n        address3,\n        address4,\n        address5,\n        f_clientId,\n        accountNumber,\n        accountName,\n        openDate,\n        debtorAge,\n        paymentTermDays,\n        creditLimit,\n        totalBalance,\n        amountDue,\n        currentBalance,\n        days30,\n        days60,\n        days90,\n        days120,\n        days150,\n        days180,\n        days180Over,\n        paymentMethod,\n        paymentDueDate,\n        debitOrderDate,\n        accountNotes,\n        accountStatus,\n        primaryContactName,\n        primaryContactNumber,\n      },\n    } = this.props;\n\n    return (\n      <Grid.Column style={{ maxWidth: 450 }}>\n        <Header textAlign=\"center\">\n          <h1>Confirm Customer Details</h1>\n\n          <p>\n            Click Confirm if the following details have been correctly entered\n          </p>\n        </Header>\n\n        <Segment>\n          <List divided relaxed>\n            <List.Item>\n              <List.Icon name=\"users\" size=\"large\" />\n              <List.Content>\n                Customer Reference Number: {customerRefNo}\n              </List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"users\" size=\"large\" />\n              <List.Content>Customer Name: {customerName}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"caret up\" size=\"large\" />\n              <List.Content>Customer Entity: {customerEntity}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"building outline\" size=\"large\" />\n              <List.Content>Registration Number: {regIdNumber}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"caret up\" size=\"large\" />\n              <List.Content>Customer Type: {customerType}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"caret up\" size=\"large\" />\n              <List.Content>Product Type: {productType}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"caret up\" size=\"large\" />\n              <List.Content>Customer Entity: {customerEntity}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"building outline\" size=\"large\" />\n              <List.Content>Address Line 1: {address1}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"building outline\" size=\"large\" />\n              <List.Content>Address Line 2: {address2}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"building outline\" size=\"large\" />\n              <List.Content>Address Line 3: {address3}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"building outline\" size=\"large\" />\n              <List.Content>Address Line 4: {address4}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"building outline\" size=\"large\" />\n              <List.Content>Address Line 5: {address5}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"user\" size=\"large\" />\n              <List.Content>Client ID: {f_clientId}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"calendar\" size=\"large\" />\n              <List.Content>Direct Debit Date: {debitOrderDate}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"calendar\" size=\"large\" />\n              <List.Content>Payment Terms: {paymentTermDays}</List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"marker\" size=\"large\" />\n              <List.Content>\n                Primary Contact Name: {primaryContactName}\n              </List.Content>\n            </List.Item>\n\n            <List.Item>\n              <List.Icon name=\"marker\" size=\"large\" />\n              <List.Content>\n                Primary Contact Number: {primaryContactNumber}\n              </List.Content>\n            </List.Item>\n          </List>\n        </Segment>\n\n        <Segment textAlign=\"center\">\n          <Button onClick={this.back}>Back</Button>\n\n          <Button onClick={this.saveAndContinue}>Confirm</Button>\n        </Segment>\n      </Grid.Column>\n    );\n  }\n}\n\nexport default Confirmation;\n","import React, { Component } from 'react';\nimport { Grid, Header } from 'semantic-ui-react';\n\nclass Success extends Component {\n  render() {\n    return (\n      <Grid.Column style={{ maxWidth: 450 }}>\n        <Header textAlign=\"center\">\n          <h1>Details Successfully Saved</h1>\n        </Header>\n      </Grid.Column>\n    );\n  }\n}\n\nexport default Success;\n","import React, { Component } from 'react';\nimport { Container, Message, Step } from 'semantic-ui-react';\n\nimport CustomerDetails from './CustomerDetails';\nimport AccountDetails from './AccountDetails';\nimport ContactDetails from './ContactDetails';\nimport Confirmation from './Confirmation';\nimport Success from './Success';\n\nclass CustomerCreator extends Component {\n  state = {\n    step: 1,\n    customerRefNo: '',\n    customerName: '',\n    customerEntity: '',\n    regIdNumber: '',\n    customerType: '',\n    productType: '',\n    address1: '',\n    address2: '',\n    address3: '',\n    address4: '',\n    address5: '',\n    f_clientId: '',\n    directDebitDate: '',\n    paymentTermDays: '',\n    primaryContactName: '',\n    primaryContactNumber: '',\n  };\n\n  nextStep = () => {\n    const { step } = this.state;\n    this.setState({\n      step: step + 1,\n    });\n  };\n\n  prevStep = () => {\n    const { step } = this.state;\n    this.setState({\n      step: step - 1,\n    });\n  };\n\n  handleChange = (input) => (event) => {\n    this.setState({ [input]: event.target.value });\n  };\n\n  render() {\n    const { step } = this.state;\n    const {\n      customerRefNo,\n      customerName,\n      customerEntity,\n      regIdNumber,\n      customerType,\n      productType,\n      address1,\n      address2,\n      address3,\n      address4,\n      address5,\n      f_clientId,\n      directDebitDate,\n      paymentTermDays,\n      primaryContactName,\n      primaryContactNumber,\n    } = this.state;\n\n    const values = {\n      customerRefNo,\n      customerName,\n      customerEntity,\n      regIdNumber,\n      customerType,\n      productType,\n      address1,\n      address2,\n      address3,\n      address4,\n      address5,\n      f_clientId,\n      directDebitDate,\n      paymentTermDays,\n      primaryContactName,\n      primaryContactNumber,\n    };\n\n    let content;\n\n    switch (step) {\n      case 1:\n        content = (\n          <CustomerDetails\n            nextStep={this.nextStep}\n            handleChange={this.handleChange}\n            values={values}\n          />\n        );\n        break;\n      case 2:\n        content = (\n          <AccountDetails\n            nextStep={this.nextStep}\n            prevStep={this.prevStep}\n            handleChange={this.handleChange}\n            values={values}\n          />\n        );\n        break;\n      case 3:\n        content = (\n          <ContactDetails\n            nextStep={this.nextStep}\n            prevStep={this.prevStep}\n            handleChange={this.handleChange}\n            values={values}\n          />\n        );\n        break;\n      case 4:\n        content = (\n          <Confirmation\n            nextStep={this.nextStep}\n            prevStep={this.prevStep}\n            values={values}\n          />\n        );\n        break;\n      case 5:\n        content = <Success />;\n        break;\n      default:\n        content = <Message>Something went wrong</Message>;\n    }\n\n    return (\n      <Container>\n        <Step.Group fluid ordered>\n          <Step active={step === 1} completed={step > 1}>\n            <Step.Content>\n              <Step.Title>Customer Details</Step.Title>\n              <Step.Description>\n                Customer name, entity type, etc.\n              </Step.Description>\n            </Step.Content>\n          </Step>\n\n          <Step active={step === 2} completed={step > 2}>\n            <Step.Content>\n              <Step.Title>Account Details</Step.Title>\n              <Step.Description>\n                Payment terms, direct debit date, etc.\n              </Step.Description>\n            </Step.Content>\n          </Step>\n\n          <Step active={step === 3} completed={step > 3}>\n            <Step.Content>\n              <Step.Title>Contact Information</Step.Title>\n              <Step.Description>Primary contact information</Step.Description>\n            </Step.Content>\n          </Step>\n\n          <Step active={step === 4} completed={step > 4}>\n            <Step.Content>\n              <Step.Title>Confirmation</Step.Title>\n              <Step.Description>\n                Confirmation of information entered\n              </Step.Description>\n            </Step.Content>\n          </Step>\n        </Step.Group>\n        {content}\n      </Container>\n    );\n  }\n}\n\nexport default CustomerCreator;\n","import React, { useEffect, useState } from 'react';\nimport { Container } from 'semantic-ui-react';\n\nexport const ClientCreator = () => {\n  return <Container>Client Creator</Container>;\n};\n","import React, { useEffect, useState } from 'react';\nimport { Container } from 'semantic-ui-react';\n\nexport const ClientEditor = () => {\n  return <Container>Client Editor</Container>;\n};\n","import { fetchWrapper } from '../../helpers';\n\nexport const clientService = {\n  getAll,\n  getById,\n  create,\n  update,\n  delete: _delete,\n};\n\nfunction getAll() {\n  return fetchWrapper.get('/clients');\n}\n\nfunction getById(id) {\n  return fetchWrapper.get(`/clients/${id}`);\n}\n\nfunction create(params) {\n  return fetchWrapper.post('/clients', params);\n}\n\nfunction update(id, params) {\n  return fetchWrapper.put(`/clients/${id}`, params).then((client) => {\n    return client;\n  });\n}\n\n// prefixed with underscore because 'delete' is a reserved word in javascript\nfunction _delete(id) {\n  return fetchWrapper.delete(`/clients/${id}`).then((x) => {\n    return x;\n  });\n}\n","import React, { useEffect, useState } from 'react';\nimport { Container } from 'semantic-ui-react';\n\nimport { ClientCreator } from './ClientCreator';\nimport { ClientEditor } from './ClientEditor';\nimport { clientService } from './client.service';\n\nexport const ClientManagement = () => {\n  const [clients, setClients] = useState(null);\n  const [clientsStatus, setClientsStatus] = useState('idle');\n\n  // Scroll to top\n  useEffect(() => {\n    window.scrollTo(0, 0);\n\n    async function fetchClients() {\n      setClientsStatus('loading');\n      setClients(await clientService.getAll());\n      setClientsStatus('succeeded');\n    }\n\n    fetchClients();\n  }, []);\n\n  return <Container>Clients</Container>;\n};\n","import XLSX from 'xlsx';\n/* generate an array of column objects */\nexport const make_cols = (refstr) => {\n  let o = [],\n    C = XLSX.utils.decode_range(refstr).e.c + 1;\n  for (var i = 0; i < C; ++i) o[i] = { name: XLSX.utils.encode_col(i), key: i };\n  return o;\n};\n","export const SheetJSFT = [\n  'xlsx',\n  'xlsb',\n  'xlsm',\n  'xls',\n  'xml',\n  'csv',\n  'txt',\n  'ods',\n  'fods',\n  'uos',\n  'sylk',\n  'dif',\n  'dbf',\n  'prn',\n  'qpw',\n  '123',\n  'wb*',\n  'wq*',\n  'html',\n  'htm',\n]\n  .map(function (x) {\n    return '.' + x;\n  })\n  .join(',');\n","import { Subject } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nconst alertSubject = new Subject();\nconst defaultId = 'default-alert';\n\nexport const alertService = {\n  onAlert,\n  success,\n  error,\n  info,\n  warn,\n  alert,\n  clear,\n};\n\nexport const AlertType = {\n  Success: 'Success',\n  Error: 'Error',\n  Info: 'Info',\n  Warning: 'Warning',\n};\n\n// enable subscribing to alerts observable\nfunction onAlert(id = defaultId) {\n  return alertSubject.asObservable().pipe(filter((x) => x && x.id === id));\n}\n\n// convenience methods\nfunction success(header, message, options) {\n  alert({ ...options, type: AlertType.Success, header, message });\n}\n\nfunction error(header, message, options) {\n  alert({ ...options, type: AlertType.Error, header, message });\n}\n\nfunction info(header, message, options) {\n  alert({ ...options, type: AlertType.Info, header, message });\n}\n\nfunction warn(header, message, options) {\n  alert({ ...options, type: AlertType.Warning, header, message });\n}\n\n// core alert method\nfunction alert(alert) {\n  alert.id = alert.id || defaultId;\n  alert.autoClose = alert.autoClose === undefined ? true : alert.autoClose;\n  alertSubject.next(alert);\n}\n\n// clear alerts\nfunction clear(id = defaultId) {\n  alertSubject.next({ id });\n}\n","import { fetchWrapper } from '../../helpers';\n\nexport const uploadService = {\n  bulkCreate,\n  create,\n};\n\nfunction create(table, params) {\n  return fetchWrapper.post(`/${table}`, params);\n}\n\nfunction bulkCreate(table, params) {\n  return fetchWrapper.post(`/${table}/bulk`, params);\n}\n","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4Qm+aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+IDxkYzpjcmVhdG9yPiA8cmRmOlNlcT4gPHJkZjpsaT5WZWN0b3JTdG9jay5jb20vMjI2OTE1MDU8L3JkZjpsaT4gPC9yZGY6U2VxPiA8L2RjOmNyZWF0b3I+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/eHBhY2tldCBlbmQ9InciPz7/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAD6AO4DAREAAhEBAxEB/8QAHQABAAICAwEBAAAAAAAAAAAAAAgJBgcB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\"","import React, { Component } from 'react';\nimport XLSX from 'xlsx';\nimport { make_cols } from './MakeColumns';\nimport { SheetJSFT } from './types';\n\nimport { Button, Container, Grid, Message, Progress } from 'semantic-ui-react';\nimport moment from 'moment';\n\nimport { alertService } from '../alerts/alert.service';\nimport { uploadService } from './upload.service';\nimport image from '../../assets/img/green-tick.jpeg';\n\n//const workspaces = ['customers', 'accounts', 'contacts', 'cases', 'outcomes'];\n\nclass Upload extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: {},\n      data: [],\n      cols: [],\n      prgress: 0,\n      workspaces: {\n        ids: ['customers', 'accounts', 'contacts', 'cases', 'outcomes'],\n        entities: {\n          customers: {\n            errors: [],\n            loading: false,\n            numberRecords: 0,\n            checked: false,\n            progress: 0,\n          },\n          accounts: {\n            errors: [],\n            loading: false,\n            numberRecords: 0,\n            checked: false,\n            progress: 0,\n          },\n          contacts: {\n            errors: [],\n            loading: false,\n            numberRecords: 0,\n            checked: false,\n            progress: 0,\n          },\n          cases: {\n            errors: [],\n            loading: false,\n            numberRecords: 0,\n            checked: false,\n            progress: 0,\n          },\n          outcomes: {\n            errors: [],\n            loading: false,\n            numberRecords: 0,\n            checked: false,\n            progress: 0,\n          },\n        },\n      },\n    };\n\n    this.handleFile = this.handleFile.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  fileInputRef = React.createRef();\n\n  handleChange(e) {\n    const files = e.target.files;\n    if (files && files[0]) this.setState({ file: files[0] });\n  }\n\n  handleFile(e) {\n    /* Boilerplate to set up FileReader */\n    const workspace = e.target.name;\n    const reader = new FileReader();\n    const rABS = !!reader.readAsBinaryString;\n\n    reader.onload = (e) => {\n      // Parse data\n      const bstr = e.target.result;\n      const wb = XLSX.read(bstr, {\n        type: rABS ? 'binary' : 'array',\n        bookVBA: true,\n      });\n\n      // Get first worksheet\n      const wsname = wb.SheetNames[0];\n      const ws = wb.Sheets[wsname];\n\n      // Convert array of arrays\n      const data = XLSX.utils.sheet_to_json(ws);\n\n      let workspaceObject = this.state.workspaces.entities[workspace];\n      workspaceObject.numberRecords = data.length;\n\n      this.setState(\n        {\n          data: data,\n          cols: make_cols(ws['!ref']),\n          ...this.state,\n          workspaceObject,\n        },\n        async () => {\n          try {\n            if (this.checkData(workspace, data)) {\n              workspaceObject.checked = true;\n              this.setState({ ...this.state, workspaceObject });\n              this.uploadData(workspace, data);\n            }\n          } catch (e) {\n            console.log('Uploading Collection update file problem (e): ', e);\n            this.errorReporting.sendMessage({\n              error: `handleFile error: ${e}`,\n              fileName: 'ExcelReader.js',\n              dateTime: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\n              user: sessionStorage.getItem('cwsUser'),\n              state: JSON.stringify(this.state),\n            });\n          }\n        }\n      );\n    };\n\n    if (rABS) {\n      reader.readAsBinaryString(this.state.file);\n    } else {\n      reader.readAsArrayBuffer(this.state.file);\n    }\n  }\n\n  checkData(workspace, records) {\n    let workspaceObject = this.state.workspaces.entities[workspace];\n    let errors = [];\n\n    switch (workspace) {\n      case 'customers':\n        records.forEach((record, idx) => {\n          if (record.CustomerNumber === undefined)\n            errors.push(`Record id: ${idx + 1} CustomerNumber is missing`);\n          if (record.Customer === undefined)\n            errors.push(`Record id: ${idx + 1} Customer is missing`);\n        });\n        break;\n      case 'accounts':\n        records.forEach((record, idx) => {\n          if (record.AccountNumber === undefined)\n            errors.push(`Record id: ${idx + 1} AccountNumber is missing`);\n          if (record.AccountStatus === undefined)\n            errors.push(`Record id: ${idx + 1} AccountStatus is missing`);\n          if (record.CustomerRefNo === undefined)\n            errors.push(`Record id: ${idx + 1} CustomerRefNo is missing`);\n          //if (record.DateCreated === undefined) errors.push(`Record id: ${idx + 1} DateCreated is missing`);\n          if (!moment(record.DateCreated).isValid())\n            errors.push(\n              `Record id: ${idx + 1} DateCreated is incorrectly formatted`\n            );\n        });\n        break;\n      case 'contacts':\n        records.forEach((record, idx) => {\n          if (record.AccountNumber === undefined)\n            errors.push(`Record id: ${idx + 1} AccountNumber is missing`);\n        });\n        break;\n      case 'cases':\n        records.forEach((record, idx) => {\n          if (record.AccountNumber === undefined)\n            errors.push(`Record id: ${idx + 1} AccountNumber is missing`);\n          if (record.CurrentAssignment === undefined)\n            errors.push(`Record id: ${idx + 1} CurrentAssignment is missing`);\n          if (record.CurrentStatus === undefined)\n            errors.push(`Record id: ${idx + 1} CurrentStatus is missing`);\n        });\n        break;\n      case 'outcomes':\n        records.forEach((record, idx) => {\n          if (record.CaseNumber === undefined)\n            errors.push(`Record id: ${idx + 1} CaseNumber is missing`);\n        });\n        break;\n      default:\n        errors.push(`No workspace identified for ${workspace}`);\n    }\n\n    workspaceObject.errors = errors;\n    this.setState({ ...this.state, workspaceObject });\n    if (errors.length > 0) return false;\n    return true;\n  }\n\n  chunkData(data) {\n    //console.log('chunkData', data);\n    const maxRowsThatCanBeInserted = 400;\n    const chunks =\n      data.length % maxRowsThatCanBeInserted === 0\n        ? Math.floor(data.length / maxRowsThatCanBeInserted)\n        : Math.floor(data.length / maxRowsThatCanBeInserted) + 1;\n    let chunkedData = [];\n    for (let i = 0; i < chunks; i++) {\n      let first = i * maxRowsThatCanBeInserted;\n      let second = first + maxRowsThatCanBeInserted;\n      let records = data.slice(first, second);\n      chunkedData.push(records);\n    }\n    this.setState({ chunkedData: chunkedData });\n    //console.log('chunkedData:', chunkedData);\n    return chunkedData;\n  }\n\n  async uploadData(workspace, data) {\n    let workspaceObject = this.state.workspaces.entities[workspace];\n    //console.log('workspaceObject: ', workspaceObject);\n    workspaceObject.loading = true;\n    workspaceObject.progress = 0;\n    this.setState({ ...this.state, workspaceObject });\n    let totalRecords = 0;\n    let preppedData;\n    let chunkedData;\n\n    switch (workspace) {\n      case 'customers':\n        preppedData = this.prepCustomerRecords(data);\n        break;\n      case 'accounts':\n        preppedData = this.prepAccountRecords(data);\n        break;\n      case 'contacts':\n        preppedData = this.prepContactRecords(data);\n        break;\n      case 'cases':\n        preppedData = this.prepCaseRecords(data);\n        break;\n      case 'outcomes':\n        preppedData = this.prepOutcomeRecords(data);\n        break;\n      default:\n        break;\n    }\n\n    chunkedData = this.chunkData(preppedData);\n\n    // Single post function makes more sense\n    for (let i = 0; i < chunkedData.length; i++) {\n      const response = await this.postToDb(chunkedData[i], workspace).then(\n        this.setState({\n          progress: Math.round(((i + 1) / chunkedData.length) * 100),\n        })\n      );\n      //console.log('response: ', response);\n      alertService.success(\n        'Success',\n        `${response} rows were successfully uploaded to ${workspace}`\n      );\n      if (response.errno !== undefined) {\n        let error = [];\n        error = this.state.customerErrors;\n        error.push(response.data);\n        this.setState({ customerErrors: error });\n      }\n\n      totalRecords = totalRecords + response.affectedRows;\n    }\n\n    workspaceObject.loading = false;\n    workspaceObject.progress = 100;\n    //this.setState({ ...this.state, workspaceObject });\n    return totalRecords;\n  }\n\n  prepCustomerRecords(records) {\n    let customers = [];\n\n    records.forEach((record) => {\n      let customer = [];\n      if (record.CustomerEntity === 'Enterprise') {\n        customer = {\n          operatorShortCode: record.OperatorShortCode,\n          customerRefNo: record.CustomerNumber,\n          customerName: record.Customer,\n          customerEntity: record.CustomerEntity,\n          regIdNumber: record.CompanyRegNo,\n          customerType: record.Customer_Type,\n          productType: record.ProductType,\n          createdBy: 'System',\n          regIdStatus: record.CIPCStatus,\n          f_clientId: 1,\n        };\n      } else if (record.CustomerEntity === 'Consumer') {\n        customer = {\n          operatorShortCode: record.OperatorShortCode,\n          customerRefNo: record.CustomerNumber,\n          customerName: record.Customer,\n          customerEntity: record.CustomerEntity,\n          regIdNumber: record.ConsumerIDNumber,\n          customerType: record.Customer_Type,\n          productType: record.ProductType,\n          createdBy: 'System',\n          regIdStatus: record.IDVStatus,\n          f_clientId: 1,\n        };\n      }\n      customers.push(customer);\n    });\n\n    return customers;\n  }\n\n  prepAccountRecords(records) {\n    let accounts = [];\n\n    records.forEach((record) => {\n      const paymentDueDate = record.paymentDueDate\n        ? moment(this.ExcelDateToJSDate(record.paymentDueDate)).format(\n            'YYYY-MM-DD'\n          )\n        : null;\n\n      const debitOrderDate = record.debitOrderDate\n        ? moment(this.ExcelDateToJSDate(record.debitOrderDate)).format(\n            'YYYY-MM-DD'\n          )\n        : null;\n\n      const lastPaymentDate = record.lastPaymentDate\n        ? moment(this.ExcelDateToJSDate(record.lastPaymentDate)).format(\n            'YYYY-MM-DD'\n          )\n        : null;\n\n      const lastPTPDate = record.lastPTPDate\n        ? moment(this.ExcelDateToJSDate(record.lastPTPDate)).format(\n            'YYYY-MM-DD'\n          )\n        : null;\n\n      const openDate = record.DateCreated\n        ? moment(this.ExcelDateToJSDate(record.DateCreated)).format(\n            'YYYY-MM-DD'\n          )\n        : null;\n\n      let account = {\n        accountNumber: record.AccountNumber,\n        accountName: record.AccountName,\n        createdBy: 'System',\n        openDate: openDate,\n        debtorAge: record.DebtorAge,\n        creditLimit: record.CreditLimit,\n        currentBalance: record.CurrentBalance,\n        days30: record.days30,\n        days60: record.days60,\n        days90: record.days90,\n        days120: record.days120,\n        days150: record.days150,\n        days180: record.days180,\n        days180Over: record.days180Over,\n        f_customerRefNo: record.AccountNumber,\n        lastPTPDate: lastPTPDate,\n        paymentDueDate: paymentDueDate,\n        debitOrderDate: debitOrderDate,\n        lastPaymentDate: lastPaymentDate,\n        paymentMethod: record.PaymentMethod,\n        paymentTermDays: record.PaymentTerms,\n        totalBalance: record.TotalBalance,\n      };\n      accounts.push(account);\n    });\n    return accounts;\n  }\n\n  prepCaseRecords(records) {\n    let cases = [];\n\n    records.forEach((record) => {\n      const createdAt = record.DateCreated\n        ? moment(this.ExcelDateToJSDate(record.DateCreated)).format(\n            'YYYY-MM-DD HH:mm:ss'\n          )\n        : null;\n\n      const nextVisitDateTime = record.nextVisitDateTime\n        ? moment(this.ExcelDateToJSDate(record.nextVisitDateTime)).format(\n            'YYYY-MM-DD HH:mm:ss'\n          )\n        : null;\n\n      const updatedDate = record.DateLastUpdated\n        ? moment(this.ExcelDateToJSDate(record.DateLastUpdated)).format(\n            'YYYY-MM-DD HH:mm:ss'\n          )\n        : null;\n\n      const reopenedDate = record.DateReopened\n        ? moment(this.ExcelDateToJSDate(record.DateReopened)).format(\n            'YYYY-MM-DD HH:mm:ss'\n          )\n        : null;\n\n      let caseUpdate = {\n        caseNumber: record.CaseNumber,\n        f_accountNumber: record.AccountNumber,\n        createdAt: createdAt,\n        createdBy: record.CreatedBy,\n        currentAssignment: record.CurrentAssignment,\n        nextVisitDateTime: nextVisitDateTime,\n        updatedDate: updatedDate,\n        updatedBy: record.LastUpdatedBy,\n        reopenedDate: reopenedDate,\n        reopenedBy: record.ReopenedBy,\n        caseReason: record.CaseReason,\n        currentStatus: record.CurrentStatus,\n        caseNotes: record.CaseNotes,\n      };\n      cases.push(caseUpdate);\n    });\n    return cases;\n  }\n\n  prepOutcomeRecords(records) {\n    let outcomes = [];\n\n    records.forEach((record) => {\n      const createdAt = record.DateCreated ? record.DateCreated : null;\n\n      const ptpDate = record.PTPDate\n        ? moment(this.ExcelDateToJSDate(record.PTPDate)).format(\n            'YYYY-MM-DD HH:mm:ss'\n          )\n        : null;\n\n      const debitResubmissionDate = record.DebtOrderDate\n        ? moment(this.ExcelDateToJSDate(record.DebtOrderDate)).format(\n            'YYYY-MM-DD HH:mm:ss'\n          )\n        : null;\n\n      let outcome = {\n        f_caseNumber: record.CaseNumber,\n        createdAt: createdAt,\n        createdBy: record.CreatedBy,\n        outcomeStatus: record.Status,\n        transactionType: record.TransactionType,\n        numberCalled: record.PhoneNumberCalled,\n        EmailAddressUsed: record.emailUsed,\n        contactPerson: record.ContactPerson,\n        outcomeResolution: record.Resolution,\n        nextSteps: record.NextSteps,\n        ptpDate: ptpDate,\n        ptpAmount: record.PTPAmount,\n        debitResubmissionDate: debitResubmissionDate,\n        debitResubmissionAmount: record.DebitOrderAmount,\n        outcomeNotes: record.OutcomeNotes,\n      };\n      outcomes.push(outcome);\n    });\n\n    return outcomes;\n  }\n\n  prepContactRecords(records) {\n    let contacts = [];\n\n    records.forEach((record) => {\n      let contact = {\n        f_accountNumber: record.AccountNumber,\n        primaryContactName: record.PrimaryContactName,\n        primaryContactNumber: record.PrimaryContactNumber,\n        primaryContactEmail: record.PrimaryEmailAddress,\n        representativeName: record.RepresentativeName,\n        representativeNumber: record.RepresentativeContactNumber,\n        representativeEmail: record.RepresentativeEmailAddress,\n        alternativeRepName: record.AltRepName,\n        alternativeRepNumber: record.AltRepContact,\n        alternativeRepEmail: record.AltRepEmail,\n        otherNumber1: record.OtherContact1,\n        otherNumber2: record.OtherContact2,\n        otherNumber3: record.OtherContact3,\n        otherNumber4: record.OtherContact4,\n        otherNumber5: record.OtherContact5,\n        otherEmail1: record.OtherEmail1,\n        otherEmail2: record.OtherEmail2,\n        otherEmail3: record.OtherEmail3,\n        otherEmail4: record.OtherEmail4,\n        otherEmail5: record.OtherEmail5,\n        dnc1: record.DNC1,\n        dnc2: record.DNC2,\n        dnc3: record.DNC3,\n        dnc4: record.DNC4,\n        dnc5: record.DNC5,\n      };\n      contacts.push(contact);\n    });\n    return contacts;\n  }\n\n  ExcelDateToJSDate(date) {\n    return new Date(Math.round((date - 25569) * 86400 * 1000));\n  }\n\n  async postToDb(records, workspace) {\n    //const newRecord = workspace.slice(0, -1);\n    return uploadService.bulkCreate(workspace, records);\n  }\n\n  render() {\n    const { progress, workspaces } = this.state;\n\n    const workspaceDisplay = workspaces.ids.map((workspace, idx) => (\n      <Grid key={idx}>\n        <Grid.Row>\n          <Grid.Column width={8}>\n            <Message>Import new {workspace}</Message>\n            <Button\n              content=\"Choose File\"\n              labelPosition=\"left\"\n              icon=\"file\"\n              onClick={() => this.fileInputRef.current.click()}\n            />\n            <input\n              accept={SheetJSFT}\n              hidden\n              id=\"file\"\n              onChange={this.handleChange}\n              ref={this.fileInputRef}\n              type=\"file\"\n            />\n            <Button onClick={this.handleFile} name={workspace} type=\"submit\">\n              Upload\n            </Button>\n            {workspaces.entities[workspace].loading && (\n              <Progress color=\"teal\" file={workspace} percent={progress} />\n            )}\n            {workspaces.entities[workspace].progress === 100 && (\n              <img src={image} alt=\"Green tick\" width=\"55\" height=\"45\" />\n            )}\n          </Grid.Column>\n        </Grid.Row>\n        <br />\n        <br />\n      </Grid>\n    ));\n\n    return <Container>{workspaceDisplay}</Container>;\n  }\n}\n\nexport default Upload;\n","import React from 'react';\n\nimport CustomBar from './CustomBar';\n//import MysqlLayer from '../../services/MysqlLayer';\n//const mysqlLayer = new MysqlLayer();\n\nexport const Report = (props) => {\n  //console.log('Report props: ', props);\n  const { data, description, report, styleType, title } = props;\n\n  const renderChart = () => {\n    if (!report) {\n      return <div>Please select a report</div>;\n    } else if (!data) {\n      <div className=\"ui active inverted dimmer\">\n        <div className=\"ui text loader\">Loading</div>\n      </div>;\n    } else {\n      return (\n        <div>\n          <CustomBar\n            chartNumber={null}\n            data={data}\n            description={description}\n            styleType={styleType}\n            title={title}\n          />\n        </div>\n      );\n    }\n  };\n\n  return <div>{renderChart()}</div>;\n};\n","import React from 'react';\nimport {\n  Button,\n  Checkbox,\n  Container,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Sidebar,\n} from 'semantic-ui-react';\n\nimport { Report } from './Report';\nimport CustomBar from './CustomBar';\nimport CustomLine from './CustomLine';\nimport { reportService } from './report.service';\n\nclass Reports extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      reports: {\n        ids: ['aging', 'agentPTP', 'datePTP'],\n        entities: {\n          aging: {\n            data: null,\n            description: 'Amount owed per period',\n            title: 'Aging',\n            type: 'bar',\n          },\n          agentPTP: {\n            data: null,\n            description: 'PTP sum per agent',\n            title: 'PTP by Agent',\n            type: 'bar',\n          },\n          datePTP: {\n            data: null,\n            description: 'PTP sum per date',\n            title: 'PTP by Date',\n            type: 'bar',\n          },\n        },\n      },\n      selected: null,\n      visible: true,\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    this.loadData();\n    this.interval = setInterval(() => this.loadData(), 30 * 60 * 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  loadData() {\n    const reportList = this.state.reports.ids;\n\n    reportList.forEach(async (report) => {\n      const reportObject = this.state.reports.entities[report];\n      reportObject.data = null;\n      this.setState({ ...this.state, reportObject });\n\n      const reportData = await reportService.getReport(report);\n\n      reportObject.data = this.prepData(reportData);\n      //console.log('reportObject: ', reportObject);\n      this.setState({ ...this.state, reportObject });\n    });\n  }\n\n  prepData(data) {\n    let tempArray = [];\n\n    if (data.length === 1) {\n      for (const [key, value] of Object.entries(data[0])) {\n        let tempObj = {};\n        tempObj.name = key;\n        tempObj.value = value;\n        tempArray.push(tempObj);\n      }\n    } else {\n      for (let i = 0; i < data.length; i++) {\n        const obj = Object.entries(data[i]);\n        let tempObj = {};\n        for (const [key, value] of Object.entries(obj)) {\n          if (key === '0') {\n            tempObj.name = value[1];\n          }\n          if (key === '1') {\n            tempObj.value = value[1];\n          }\n        }\n        tempArray.push(tempObj);\n      }\n    }\n\n    return tempArray;\n  }\n\n  customChartRender() {\n    const reports = this.state.reports;\n    //const { styleType } = this.props;\n\n    const reportsDisplay = reports.ids.map((report, idx) => {\n      if (reports.entities[report].type === 'bar') {\n        return (\n          <div\n            key={idx}\n            style={{\n              paddingBottom: '15px',\n            }}\n          >\n            <Button\n              onClick={() => {\n                this.setState({ selected: report, visible: false });\n              }}\n              style={{\n                backgroundColor: 'white',\n                border: '1px solid black',\n                paddingBottom: '15px',\n              }}\n            >\n              <Grid.Column width={4} style={{ padding: 0 }}>\n                {reports.entities[report].data && (\n                  <CustomBar\n                    chartNumber={idx}\n                    data={reports.entities[report].data}\n                    description={reports.entities[report].description}\n                    styleType=\"sidebar\"\n                    title={reports.entities[report].title}\n                  />\n                )}\n                {!reports.entities[report].data && (\n                  <div key={idx}>\n                    <Grid.Column width={4} style={{ padding: 0 }}>\n                      <div className=\"ui active inverted dimmer\">\n                        <div className=\"ui text loader\">Loading</div>\n                      </div>\n                      <p></p>\n                    </Grid.Column>\n                  </div>\n                )}\n              </Grid.Column>\n            </Button>\n          </div>\n        );\n      } else if (reports.entities[report].type === 'line') {\n        return (\n          <div key={idx}>\n            <Grid.Column width={4} style={{ padding: 0 }}>\n              {reports.entities[report].data && (\n                <CustomLine\n                  chartNumber={idx}\n                  data={reports.entities[report].data}\n                  description={reports.entities[report].description}\n                  styleType=\"sidebar\"\n                  title={reports.entities[report].title}\n                />\n              )}\n              {!reports.entities[report].data && (\n                <div key={idx}>\n                  <Grid.Column width={4} style={{ padding: 0 }}>\n                    <div className=\"ui active inverted dimmer\">\n                      <div className=\"ui text loader\">Loading</div>\n                    </div>\n                    <p></p>\n                  </Grid.Column>\n                </div>\n              )}\n            </Grid.Column>\n          </div>\n        );\n      } else {\n        return <div key={idx}> No report type found</div>;\n      }\n    });\n\n    return reportsDisplay;\n  }\n\n  refreshButtonRender() {\n    return (\n      <Message>\n        Auto-refresh every 30 minutes or{' '}\n        <Button\n          onClick={() => {\n            this.loadData();\n          }}\n          primary\n        >\n          Reload\n        </Button>\n        <Checkbox\n          checked={this.state.visible}\n          label={{ children: <p>Show report selection</p> }}\n          onChange={(e, data) => this.setVisible(data.checked)}\n        />\n      </Message>\n    );\n  }\n\n  selectedChartRender() {\n    if (this.state.selected) {\n      const reportObject = this.state.reports.entities[this.state.selected];\n      const { data, description, title } = reportObject;\n      //console.log('reportObject: ', reportObject);\n\n      return (\n        <Report\n          data={data}\n          description={description}\n          report={this.state.selected}\n          styleType=\"main\"\n          title={title}\n        />\n      );\n    } else {\n      return <div>Please select a report</div>;\n    }\n  }\n\n  setVisible(event) {\n    this.setState({ visible: event });\n  }\n\n  render() {\n    return (\n      <Container fluid>\n        <Grid columns={1} divided stackable textAlign=\"center\">\n          <Grid.Column>{this.refreshButtonRender()}</Grid.Column>\n          <Grid.Column>\n            <Sidebar.Pushable as={Segment}>\n              <Sidebar\n                as={Segment}\n                animation=\"overlay\"\n                color=\"grey\"\n                icon=\"labeled\"\n                onHide={() => this.setVisible(false)}\n                vertical\n                visible={this.state.visible}\n                width=\"wide\"\n              >\n                <Header as=\"h2\">Report Selection</Header>\n                {this.customChartRender()}\n              </Sidebar>\n              <Sidebar.Pusher style={{ height: '100vh' }}>\n                {this.selectedChartRender()}\n              </Sidebar.Pusher>\n            </Sidebar.Pushable>\n          </Grid.Column>\n        </Grid>\n      </Container>\n    );\n  }\n}\n\nexport default Reports;\n","import React from 'react';\nimport { Container, Grid, Header, Icon, Table } from 'semantic-ui-react';\n\nexport const ReleaseNotes = () => {\n  return (\n    <Container>\n      <Grid columns={2}>\n        <Grid.Row>\n          <Grid.Column>\n            <Table celled>\n              <Table.Header>\n                <Table.Row>\n                  <Table.HeaderCell>Release</Table.HeaderCell>\n                  <Table.HeaderCell>Date</Table.HeaderCell>\n                </Table.Row>\n              </Table.Header>\n\n              <Table.Body>\n                <Table.Row>\n                  <Table.Cell>\n                    <Header>Responsive menus</Header>\n                    <Icon name=\"code\" color=\"blue\" />\n                    Menus are now responsive to the screen size. Their exact\n                    content will be determined in time.\n                  </Table.Cell>\n                  <Table.Cell>2021/09/01</Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell>\n                    <Header>Invoice sent via email</Header>\n                    <Icon name=\"code\" color=\"blue\" />\n                    Invoices sent via email with embedded token. The date and\n                    time the link is clicked are saved and will be displayed in\n                    the Customer section (WIP)\n                  </Table.Cell>\n                  <Table.Cell>2021/09/01</Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell>\n                    <Header>Resend email link to join</Header>\n                    <Icon name=\"code\" color=\"blue\" />\n                    Able to resend the invitation to join via email from the\n                    User Admin section - Admin only\n                  </Table.Cell>\n                  <Table.Cell>2021/08/18</Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell>\n                    <Header>Search function for Collections workspace</Header>\n                    <Icon name=\"code\" color=\"blue\" />\n                    Users can search for collection records based on customer\n                    name (more fields to come later)\n                  </Table.Cell>\n                  <Table.Cell>2021/08/17</Table.Cell>\n                </Table.Row>\n              </Table.Body>\n            </Table>\n          </Grid.Column>\n\n          <Grid.Column>\n            <Table celled>\n              <Table.Header>\n                <Table.Row>\n                  <Table.HeaderCell>Bug</Table.HeaderCell>\n                  <Table.HeaderCell>Identified</Table.HeaderCell>\n                  <Table.HeaderCell>Resolved</Table.HeaderCell>\n                </Table.Row>\n              </Table.Header>\n\n              <Table.Body>\n                <Table.Row positive>\n                  <Table.Cell>\n                    <Header>Profile details blank</Header>\n                    <Icon name=\"bug\" color=\"red\" />\n                    Profile details blank when opening Profile tab from menu\n                  </Table.Cell>\n                  <Table.Cell>2021/08/17</Table.Cell>\n                  <Table.Cell>2021/08/18</Table.Cell>\n                </Table.Row>\n                <Table.Row positive>\n                  <Table.Cell>\n                    <Header>Collections workspace table format</Header>\n                    <Icon name=\"bug\" color=\"red\" />\n                    The contents of the table in the Collections workspace do\n                    not automatically resize to fit the screen width\n                  </Table.Cell>\n                  <Table.Cell>2021/08/17</Table.Cell>\n                  <Table.Cell>2021/08/18</Table.Cell>\n                </Table.Row>\n              </Table.Body>\n            </Table>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Container>\n  );\n};\n","import React, { useState } from 'react';\nimport { Button, Container, Dimmer, Form, Loader } from 'semantic-ui-react';\n\nimport { alertService } from '../alerts/alert.service';\nimport { userService } from './user.service';\n\nexport const AddUserForm = (props) => {\n  const { loadUsers } = props;\n  const [loading, setLoading] = useState(false);\n  const [state, setState] = useState({\n    fields: {\n      ids: ['firstName', 'lastName', 'email', 'phone', 'role'],\n      entities: {\n        firstName: { error: null, value: '' },\n        lastName: { error: null, value: '' },\n        email: { error: null, value: '' },\n        phone: { error: null, value: '' },\n        role: { error: null, value: '' },\n      },\n    },\n  });\n\n  const roles = [\n    { key: 1, text: 'Admin', value: 'Admin' },\n    { key: 2, text: 'Agent', value: 'Agent' },\n    { key: 3, text: 'KAM', value: 'Kam' },\n  ];\n\n  // Handlers\n  const handleChange = (evt) => {\n    const name = evt.target.name;\n    const value = evt.target.value;\n    setState((prevState) => ({\n      fields: {\n        ...prevState.fields,\n        entities: {\n          ...prevState.fields.entities,\n          [name]: {\n            ...prevState.fields.entities[name],\n            value: value,\n          },\n        },\n      },\n    }));\n  };\n\n  const handleSelect = (evt, data) => {\n    const { name, value } = data;\n    //console.log('name, value', name, value);\n    setState((prevState) => ({\n      fields: {\n        ...prevState.fields,\n        entities: {\n          ...prevState.fields.entities,\n          [name]: {\n            ...prevState.fields.entities[name],\n            value: value,\n          },\n        },\n      },\n    }));\n  };\n\n  const handleClear = (e) => {\n    e.preventDefault();\n    clearState();\n  };\n\n  const clearState = () => {\n    setState({\n      fields: {\n        ids: ['firstName', 'lastName', 'email', 'phone', 'role'],\n        entities: {\n          firstName: { error: null, value: '' },\n          lastName: { error: null, value: '' },\n          email: { error: null, value: '' },\n          phone: { error: null, value: '' },\n          role: { error: null, value: '' },\n        },\n      },\n    });\n  };\n\n  const clearErrorMessages = () => {\n    const fields = state.fields.ids;\n\n    fields.forEach((field) => {\n      setState((prevState) => ({\n        fields: {\n          ...prevState.fields,\n          entities: {\n            ...prevState.fields.entities,\n            [field]: {\n              ...prevState.fields.entities[field],\n              error: null,\n            },\n          },\n        },\n      }));\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    clearErrorMessages();\n    if (checkFields()) updateDatabase();\n  };\n\n  const checkFields = () => {\n    let cont = true;\n\n    if (!state.fields.entities['firstName'].value) {\n      setErrorMsg('Please provide a first name', 'firstName');\n      cont = false;\n    }\n\n    if (!state.fields.entities['lastName'].value) {\n      setErrorMsg('Please provide a lastName', 'lastName');\n      cont = false;\n    }\n\n    const filter = /^[\\w._-]+[+]?[\\w._-]+@[\\w.-]+\\.[a-zA-Z]{2,20}$/;\n\n    if (!filter.test(state.fields.entities['email'].value)) {\n      setErrorMsg('Please provide a valid email address', 'email');\n      cont = false;\n    }\n\n    const numberFilter = /^[0-9]+$/;\n\n    if (!numberFilter.test(state.fields.entities['phone'].value)) {\n      setErrorMsg('Please use numbers only', 'phone');\n      cont = false;\n    }\n    if (state.fields.entities['phone'].value.length !== 10) {\n      setErrorMsg('Please provide an 10 digit phone number', 'phone');\n      cont = false;\n    }\n\n    if (!state.fields.entities['role'].value) {\n      setErrorMsg('Please provide a role', 'role');\n      cont = false;\n    }\n\n    return cont;\n  };\n\n  const setErrorMsg = (msg, name) => {\n    //console.log('msg', msg);\n    setState((prevState) => ({\n      fields: {\n        ...prevState.fields,\n        entities: {\n          ...prevState.fields.entities,\n          [name]: {\n            ...prevState.fields.entities[name],\n            error: msg,\n          },\n        },\n      },\n    }));\n  };\n\n  const updateDatabase = async () => {\n    setLoading(true);\n    //const createdDate = moment(new Date()).format('YYYY-MM-DD HH:mm:ss');\n\n    const user = {\n      firstName: state.fields.entities['firstName'].value,\n      lastName: state.fields.entities['lastName'].value,\n      email: state.fields.entities['email'].value,\n      phone: state.fields.entities['phone'].value,\n      role: state.fields.entities['role'].value,\n      f_clientId: 1,\n      active: true,\n      //createdDate: createdDate,\n    };\n\n    console.log('user: ', user);\n\n    userService\n      .register(user)\n      .then((response) => {\n        console.log('response: ', response);\n        if (response.status === 'success') {\n          setLoading(false);\n          clearState();\n          alertService.success('Success', 'User registered successfully');\n          loadUsers();\n        } else if (response.status === 'duplicate') {\n          setLoading(false);\n          alertService.error(\n            'Error',\n            'User already exists. Please use a different username (email).'\n          );\n        } else {\n          setLoading(false);\n          alertService.warning('Warning', 'Something went wrong');\n        }\n      })\n      .catch((error) => {\n        setLoading(false);\n        alertService.error('Warning', 'Something went majorly wrong');\n      });\n  };\n\n  return (\n    <Container className=\"user\">\n      {loading && (\n        <Dimmer active inverted>\n          <Loader />\n        </Dimmer>\n      )}\n      <Form>\n        <Form.Group widths=\"equal\">\n          <Form.Input\n            error={state.fields.entities['firstName'].error}\n            id=\"form-input-control-firstName\"\n            name=\"firstName\"\n            label=\"First Name\"\n            onChange={handleChange}\n            required\n            type=\"text\"\n            value={state.fields.entities['firstName'].value}\n          />\n          <Form.Input\n            error={state.fields.entities['lastName'].error}\n            id=\"form-input-control-lastName\"\n            name=\"lastName\"\n            label=\"Surname\"\n            onChange={handleChange}\n            required\n            type=\"text\"\n            value={state.fields.entities['lastName'].value}\n          />\n          <Form.Input\n            error={state.fields.entities['email'].error}\n            id=\"form-input-control-email\"\n            name=\"email\"\n            label=\"Email\"\n            onChange={handleChange}\n            required\n            type=\"email\"\n            value={state.fields.entities['email'].value}\n          />\n        </Form.Group>\n\n        <Form.Group widths=\"equal\">\n          <Form.Input\n            error={state.fields.entities['phone'].error}\n            id=\"form-input-control-phone\"\n            name=\"phone\"\n            label=\"Phone\"\n            onChange={handleChange}\n            required\n            type=\"text\"\n            value={state.fields.entities['phone'].value}\n          />\n          <Form.Select\n            error={state.fields.entities['role'].error}\n            id=\"form-select-control-role\"\n            name=\"role\"\n            label=\"Role\"\n            onChange={handleSelect}\n            options={roles}\n            required\n            value={state.fields.entities['role'].value}\n          />\n        </Form.Group>\n        <Button.Group size=\"large\">\n          <Button color=\"teal\" content=\"Submit\" onClick={handleSubmit} />\n          <Button.Or />\n          <Button content=\"Clear\" onClick={handleClear} />\n        </Button.Group>\n      </Form>\n    </Container>\n  );\n};\n","import React from 'react';\nimport { Button, Container, Icon, Table } from 'semantic-ui-react';\n\nimport { alertService } from '../alerts/alert.service';\nimport { userService } from './user.service';\n\nimport tick from '../../assets/img/green-tick.jpeg';\nimport cross from '../../assets/img/red-cross.png';\n\nexport const EditUsersForm = (props) => {\n  const { loadUsers } = props;\n  const { users } = props;\n  const loggedInUser = userService.userValue;\n\n  const deactivateUser = async (userId) => {\n    userService.deactivateUser(userId).then((response) => {\n      if (response.status === 'success') {\n        alertService.success('Success', 'User was successfully deactivated');\n        loadUsers();\n      } else {\n        alertService.error('Error', 'User was not deactivated');\n      }\n    });\n  };\n\n  const reactivateUser = async (userId) => {\n    userService.reactivateUser(userId).then((response) => {\n      if (response.status === 'success') {\n        alertService.success('Success', 'User was successfully reactivated');\n        loadUsers();\n      } else {\n        alertService.error('Error', 'User was not reactivated');\n      }\n    });\n  };\n\n  const resendInvitation = async (userId) => {\n    userService.resendInvitation(userId).then((response) => {\n      if (response.status === 'success') {\n        alertService.success('Success', 'Invitation was successfully sent');\n        loadUsers();\n      } else {\n        alertService.error('Error', 'Invitation was unsuccessfully sent');\n      }\n    });\n  };\n\n  const renderButton = (user, idx) => {\n    // Never allow logged in user to deactivate themselves\n    // If verified, return Deactivate button\n    // If not verified, return Resend button\n    const userId = user.id;\n\n    if (user.email === loggedInUser.email) {\n      return (\n        <Table.Cell key={idx} textAlign=\"center\">\n          <Icon name=\"dont\" />\n        </Table.Cell>\n      );\n    } else {\n      if (user.isVerified && user.active === true) {\n        return (\n          <Table.Cell key={idx} textAlign=\"center\">\n            <Button negative onClick={() => deactivateUser(userId)}>\n              Deactivate\n            </Button>\n          </Table.Cell>\n        );\n      } else if (user.isVerified && user.active === false) {\n        return (\n          <Table.Cell key={idx} textAlign=\"center\">\n            <Button positive onClick={() => reactivateUser(userId)}>\n              Reactivate\n            </Button>\n          </Table.Cell>\n        );\n      } else if (!user.isVerified) {\n        return (\n          <Table.Cell key={idx} textAlign=\"center\">\n            <Button primary onClick={() => resendInvitation(userId)}>\n              Resend invitation\n            </Button>\n          </Table.Cell>\n        );\n      }\n    }\n  };\n\n  const renderIsVerified = (isVerified) => {\n    return isVerified ? (\n      <img src={tick} alt=\"Green tick\" width=\"55\" height=\"45\" />\n    ) : (\n      <img src={cross} alt=\"Red cross\" width=\"40\" height=\"30\" />\n    );\n  };\n\n  const content = users.map((user, idx) => {\n    //console.log('role: ', user.role);\n    if (user.role !== 'Super') {\n      return (\n        <Table.Row key={idx}>\n          <Table.Cell key={idx + 1}>{user.email}</Table.Cell>\n          <Table.Cell key={idx + 2}>{user.firstName}</Table.Cell>\n          <Table.Cell key={idx + 3}>{user.lastName}</Table.Cell>\n          <Table.Cell key={idx + 4}>{user.role}</Table.Cell>\n          <Table.Cell key={idx + 5} textAlign=\"center\">\n            {renderIsVerified(user.isVerified)}\n          </Table.Cell>\n\n          {renderButton(user, idx + 6)}\n        </Table.Row>\n      );\n    } else return null;\n  });\n\n  return (\n    <Container>\n      <Table className=\"userAdmin\" celled selectable>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Username</Table.HeaderCell>\n            <Table.HeaderCell>First Name</Table.HeaderCell>\n            <Table.HeaderCell>Surname</Table.HeaderCell>\n            <Table.HeaderCell>Role</Table.HeaderCell>\n            <Table.HeaderCell textAlign=\"center\">Verified</Table.HeaderCell>\n            <Table.HeaderCell textAlign=\"center\">Action</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>{content}</Table.Body>\n      </Table>\n    </Container>\n  );\n};\n","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from 'react';\nimport { Container, Header } from 'semantic-ui-react';\n\nimport { AddUserForm } from '../users/AddUserForm';\nimport { EditUsersForm } from '../users/EditUsersForm';\nimport { userService } from './user.service';\n\nexport const Users = (props) => {\n  //console.log('Users props: ', props);\n  const [users, setUsers] = useState(null);\n  const [userStatus, setUserStatus] = useState('idle');\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  async function loadUsers() {\n    setUserStatus('loading');\n    setUsers(await userService.getAll());\n    setUserStatus('succeeded');\n  }\n\n  useEffect(() => {\n    if (userStatus === 'idle') {\n      loadUsers();\n    }\n  }, [userStatus]);\n\n  let userContent;\n\n  if (userStatus === 'loading') {\n    userContent = <Container className=\"loader\">Loading...</Container>;\n  } else if (userStatus === 'succeeded') {\n    //console.log('users: ', users);\n    userContent = (\n      <Container>\n        <Header>User Admininistration</Header>\n        <AddUserForm loadUsers={loadUsers} />\n        <EditUsersForm users={users} loadUsers={loadUsers} />\n      </Container>\n    );\n  } else if (userStatus === 'error') {\n    userContent = <Container>userError</Container>;\n  }\n  return <Container>{userContent}</Container>;\n};\n","import React from 'react';\n\nimport { Container, Icon, Message } from 'semantic-ui-react';\n\nexport const NotFound = (props) => {\n  //console.log('Unauthorised props: ', props);\n  return (\n    <Container>\n      <Message error icon size=\"massive\">\n        <Icon name=\"warning sign\" />\n        <Message.Content>\n          <Message.Header>Page not found</Message.Header>\n          Please try a different page\n        </Message.Content>\n      </Message>\n    </Container>\n  );\n};\n","import React from 'react';\nimport { Container } from 'semantic-ui-react';\nimport { Redirect, Switch } from 'react-router-dom';\n\nimport { PrivateRoute } from './PrivateRoute';\nimport { Dashboard } from '../features/dashboard/Dashboard';\n\nimport { Collections } from '../features/collections/Collections';\nimport { Collection } from '../features/collections/Collection';\n\nimport { CustomerManagement } from '../features/customers/CustomerManagement';\nimport { CustomerEditor } from '../features/customers/CustomerEditor';\nimport CustomerCreator from '../features/customers/CustomerCreator';\n\nimport { ClientManagement } from '../features/clients/ClientManagement';\nimport { ClientCreator } from '../features/clients/ClientCreator';\nimport { ClientEditor } from '../features/clients/ClientEditor';\n\nimport Upload from '../features/upload/Upload';\nimport Reports from '../features/reports/Reports';\nimport { Role } from '../helpers';\n\nimport { ReleaseNotes } from '../features/release/ReleaseNotes';\n\nimport { Users } from '../features/users/Users';\n\nimport { NotFound } from './NotFound';\n\nexport const RouteDetermination = () => {\n  return (\n    <Container fluid className=\"RouteDetermination\">\n      <Switch>\n        <PrivateRoute path=\"/dashboard\" exact component={Dashboard} />\n        <PrivateRoute\n          path=\"/upload\"\n          roles={[Role.Admin, Role.Super]}\n          exact\n          component={Upload}\n        />\n        <PrivateRoute path=\"/collections\" exact component={Collections} />\n        <PrivateRoute path=\"/collection/:id\" exact component={Collection} />\n        <PrivateRoute path=\"/reports\" exact component={Reports} />\n        <PrivateRoute\n          path=\"/release\"\n          exact\n          roles={[Role.Admin, Role.Super]}\n          component={ReleaseNotes}\n        />\n        <PrivateRoute\n          path=\"/users\"\n          exact\n          roles={[Role.Admin, Role.Super]}\n          component={Users}\n        />\n        <PrivateRoute\n          path=\"/customers\"\n          exact\n          roles={[Role.Super]}\n          component={CustomerManagement}\n        />\n        <PrivateRoute\n          path=\"/customers/create\"\n          exact\n          roles={[Role.Super]}\n          component={CustomerCreator}\n        />\n        <PrivateRoute\n          path=\"/customers/:id\"\n          exact\n          roles={[Role.Super]}\n          component={CustomerEditor}\n        />\n\n        <PrivateRoute\n          path=\"/clients\"\n          exact\n          roles={[Role.Super]}\n          component={ClientManagement}\n        />\n        <PrivateRoute\n          path=\"/clients/create\"\n          exact\n          roles={[Role.Super]}\n          component={ClientCreator}\n        />\n        <PrivateRoute\n          path=\"/clients/:id\"\n          exact\n          roles={[Role.Super]}\n          component={ClientEditor}\n        />\n\n        {/* Redirect all unauthorised */}\n        <PrivateRoute exact path=\"/not-found\" component={NotFound} />\n        <Redirect to=\"/not-found\" />\n      </Switch>\n    </Container>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/collections_demo.526cf99d.png\";","/* eslint-disable max-classes-per-file */\n/* eslint-disable react/no-multi-comp */\n\nimport { createMedia } from '@artsy/fresnel';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport {\n  Button,\n  Container,\n  Grid,\n  Header,\n  Icon,\n  Image,\n  List,\n  Segment,\n  Sidebar,\n  Visibility,\n} from 'semantic-ui-react';\n\nimport collections_demo from '../assets/img/collections_demo.png';\n\nconst { MediaContextProvider, Media } = createMedia({\n  breakpoints: {\n    mobile: 0,\n    tablet: 768,\n    computer: 1024,\n  },\n});\n\n/* Heads up!\n * HomepageHeading uses inline styling, however it's not the best practice. Use CSS or styled\n * components for such things.\n */\nconst HomepageHeading = ({ mobile }) => (\n  <Container text>\n    <Header\n      as=\"h1\"\n      content=\"The System\"\n      inverted\n      style={{\n        fontSize: mobile ? '2em' : '4em',\n        fontWeight: 'normal',\n        marginBottom: 0,\n        marginTop: mobile ? '1.5em' : '3em',\n      }}\n    />\n    <Header\n      as=\"h2\"\n      content=\"We are here to make your collections easier\"\n      inverted\n      style={{\n        fontSize: mobile ? '1.5em' : '1.7em',\n        fontWeight: 'normal',\n        marginTop: mobile ? '0.5em' : '1.5em',\n      }}\n    />\n    <Button primary size=\"huge\">\n      Get Started\n      <Icon name=\"right arrow\" />\n    </Button>\n  </Container>\n);\n\nHomepageHeading.propTypes = {\n  mobile: PropTypes.bool,\n};\n\n/* Heads up!\n * Neither Semantic UI nor Semantic UI React offer a responsive navbar, however, it can be implemented easily.\n * It can be more complicated, but you can create really flexible markup.\n */\nclass DesktopContainer extends Component {\n  state = {};\n\n  hideFixedMenu = () => this.setState({ fixed: false });\n  showFixedMenu = () => this.setState({ fixed: true });\n\n  render() {\n    const { children } = this.props;\n    //const { fixed } = this.state;\n\n    return (\n      <Media greaterThan=\"mobile\">\n        <Visibility\n          once={false}\n          onBottomPassed={this.showFixedMenu}\n          onBottomPassedReverse={this.hideFixedMenu}\n        >\n          <Segment\n            inverted\n            textAlign=\"center\"\n            style={{ minHeight: 700, padding: '1em 0em' }}\n            vertical\n          >\n            <HomepageHeading />\n          </Segment>\n        </Visibility>\n\n        {children}\n      </Media>\n    );\n  }\n}\n\nDesktopContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nclass MobileContainer extends Component {\n  state = {};\n\n  handleSidebarHide = () => this.setState({ sidebarOpened: false });\n\n  handleToggle = () => this.setState({ sidebarOpened: true });\n\n  render() {\n    const { children } = this.props;\n    //const { sidebarOpened } = this.state;\n\n    return (\n      <Media as={Sidebar.Pushable} at=\"mobile\">\n        <Segment\n          inverted\n          textAlign=\"center\"\n          style={{ minHeight: 350, padding: '1em 0em' }}\n          vertical\n        >\n          <HomepageHeading mobile />\n        </Segment>\n\n        {children}\n      </Media>\n    );\n  }\n}\n\nMobileContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nconst ResponsiveContainer = ({ children }) => (\n  /* Heads up!\n   * For large applications it may not be best option to put all page into these containers at\n   * they will be rendered twice for SSR.\n   */\n  <MediaContextProvider>\n    <DesktopContainer>{children}</DesktopContainer>\n    <MobileContainer>{children}</MobileContainer>\n  </MediaContextProvider>\n);\n\nResponsiveContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nconst HomepageLayout = () => (\n  <ResponsiveContainer>\n    <Segment id=\"#more\" style={{ padding: '8em 0em' }} vertical>\n      <Grid container stackable verticalAlign=\"middle\">\n        <Grid.Row>\n          <Grid.Column width={8}>\n            <Header as=\"h3\" style={{ fontSize: '2em' }}>\n              We help companies collect their debt\n            </Header>\n            <p style={{ fontSize: '1.33em' }}>\n              We know how much your customers mean to you, even the ones who\n              struggle to pay on time. Let us take care of the stress of\n              collecting what is owed to you so you can focus on your business.\n            </p>\n          </Grid.Column>\n          <Grid.Column floated=\"right\" width={6}>\n            <Image bordered rounded size=\"large\" src={collections_demo} />\n          </Grid.Column>\n        </Grid.Row>\n        <Grid.Row>\n          <Grid.Column textAlign=\"center\">\n            <Button size=\"huge\">Screenshots</Button>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Segment>\n\n    <Segment style={{ padding: '8em 0em' }} vertical>\n      <Container textAlign=\"center\">\n        <Header as=\"h3\" style={{ fontSize: '2em' }}>\n          How can we help you?\n        </Header>\n        <p style={{ fontSize: '1.33em' }}>\n          Our aim is to provide a service that reduces stress in your business\n          life. Few things are more stressful than having to collect money. We\n          have designed a system to make this as simple as possible for you. Or,\n          if you want us to help even further, allow our call centre team to\n          handle the entire process.\n        </p>\n        <Grid divided stackable>\n          <Grid.Row>\n            <Grid.Column width={5}>\n              <Header as=\"h4\">The System</Header>\n              <Icon color=\"grey\" name=\"desktop\" size=\"huge\" />\n              <p>\n                Use The System to handle all your collections activites. This\n                includes uploading existing accounts, taking each account\n                through the workflow engine and drawing reports.\n              </p>\n            </Grid.Column>\n            <Grid.Column width={5}>\n              <Header as=\"h4\">Call Centre</Header>\n              <Icon color=\"grey\" name=\"phone\" size=\"huge\" />\n              <p>\n                Our professional call centre agents will follow up on your\n                outstanding accounts for you. With daily updates and your own\n                client dashboard (coming soon) you are always in control.\n              </p>\n            </Grid.Column>\n            <Grid.Column width={5}>\n              <Header as=\"h4\">Best of Both Worlds</Header>\n              <Icon color=\"grey\" name=\"smile outline\" size=\"huge\" />\n              <p>\n                Any accounts that you don't want to handle yourself can be\n                assigned to our call centre team instead (coming soon).\n              </p>\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n      </Container>\n    </Segment>\n\n    <Segment inverted vertical style={{ padding: '5em 0em' }}>\n      <Container>\n        <Grid divided inverted stackable>\n          <Grid.Row>\n            <Grid.Column width={3}>\n              <Header inverted as=\"h4\" content=\"About\" />\n              <List link inverted>\n                <List.Item as=\"a\">Sitemap</List.Item>\n                <List.Item as=\"a\">Contact Us</List.Item>\n              </List>\n            </Grid.Column>\n            <Grid.Column width={3}>\n              <Header inverted as=\"h4\" content=\"Services\" />\n              <List link inverted>\n                <List.Item as=\"a\">Debt Collection</List.Item>\n              </List>\n            </Grid.Column>\n            <Grid.Column width={7}>\n              <Header as=\"h4\" inverted>\n                Footer Header\n              </Header>\n              <p>\n                Extra space for a call to action inside the footer that could\n                help re-engage users.\n              </p>\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n      </Container>\n    </Segment>\n  </ResponsiveContainer>\n);\n\nexport default HomepageLayout;\n","import React, { useEffect, useState } from 'react';\nimport {\n  Button,\n  Card,\n  Container,\n  Dimmer,\n  Form,\n  Loader,\n} from 'semantic-ui-react';\n\nimport { alertService } from '../alerts/alert.service';\nimport { userService } from './user.service';\n\nexport const Profile = ({ handleProfileClick, open, setOpen }) => {\n  const [user, setUser] = useState(userService.userValue);\n\n  const [loading, setLoading] = useState(false);\n  const [state, setState] = useState({\n    fields: {\n      ids: ['firstName', 'lastName', 'phone', 'password', 'confirmPassword'],\n      entities: {\n        firstName: { error: null, value: '' },\n        lastName: { error: null, value: '' },\n        phone: { error: null, value: '' },\n        password: { error: null, isChanged: false, value: '' },\n        confirmPassword: { error: null, value: '' },\n      },\n    },\n  });\n  const [passwordChanged, setPasswordChanged] = useState(false);\n\n  useEffect(() => {\n    const userState = state.fields.entities;\n    //console.log('before userState: ', userState);\n    userState['firstName'].value = user.firstName;\n    userState['lastName'].value = user.lastName;\n    userState['phone'].value = user.phone;\n    //console.log('after userState: ', userState);\n  }, []);\n\n  // Handlers\n  const handleChange = (evt) => {\n    const name = evt.target.name;\n    const value = evt.target.value;\n    setState((prevState) => ({\n      fields: {\n        ...prevState.fields,\n        entities: {\n          ...prevState.fields.entities,\n          [name]: {\n            ...prevState.fields.entities[name],\n            value: value,\n          },\n        },\n      },\n    }));\n  };\n\n  const onPasswordChanged = (evt) => {\n    setPasswordChanged(true);\n    //const name = evt.target.name;\n    const value = evt.target.value;\n    const password = state.fields.entities['password'];\n    password.isChanged = true;\n    password.value = value;\n    setState({ ...state, password });\n  };\n\n  const handleCancel = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    clearState();\n    handleProfileClick(false);\n  };\n\n  const clearState = () => {\n    setState({\n      fields: {\n        ids: ['firstName', 'lastName', 'phone', 'password', 'confirmPassword'],\n        entities: {\n          firstName: { error: null, value: user.firstName },\n          lastName: { error: null, value: user.lastName },\n          phone: { error: null, value: user.phone },\n          password: { error: null, value: '' },\n          confirmPassword: { error: null, value: '' },\n        },\n      },\n    });\n  };\n\n  const clearErrorMessages = () => {\n    const fields = state.fields.ids;\n\n    fields.forEach((field) => {\n      setState((prevState) => ({\n        fields: {\n          ...prevState.fields,\n          entities: {\n            ...prevState.fields.entities,\n            [field]: {\n              ...prevState.fields.entities[field],\n              error: null,\n            },\n          },\n        },\n      }));\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    clearErrorMessages();\n    if (checkFields()) updateDatabase();\n  };\n\n  const checkFields = () => {\n    let cont = true;\n\n    if (!state.fields.entities['firstName'].value) {\n      setErrorMsg('Please provide a first name', 'firstName');\n      cont = false;\n    }\n\n    if (!state.fields.entities['lastName'].value) {\n      setErrorMsg('Please provide a lastName', 'lastName');\n      cont = false;\n    }\n\n    const numberFilter = /^[0-9]+$/;\n\n    if (!numberFilter.test(state.fields.entities['phone'].value)) {\n      setErrorMsg('Please use numbers only', 'phone');\n      cont = false;\n    }\n    if (state.fields.entities['phone'].value.length !== 10) {\n      setErrorMsg('Please provide an 10 digit phone number', 'phone');\n      cont = false;\n    }\n\n    // Only check password if it's been changed\n    if (passwordChanged) {\n      if (state.fields.entities['password'].value.length < 8) {\n        setErrorMsg(\n          'Please provide a password of at least 8 characters',\n          'password'\n        );\n        cont = false;\n      }\n\n      if (\n        state.fields.entities['confirmPassword'].value !==\n        state.fields.entities['password'].value\n      ) {\n        setErrorMsg('Passwords do not match', 'confirmPassword');\n        cont = false;\n      }\n\n      if (!state.fields.entities['confirmPassword'].value) {\n        setErrorMsg('Please confirm your password', 'confirmPassword');\n        cont = false;\n      }\n    }\n\n    return cont;\n  };\n\n  const setErrorMsg = (msg, name) => {\n    //console.log('msg, name', msg, name);\n    setState((prevState) => ({\n      fields: {\n        ...prevState.fields,\n        entities: {\n          ...prevState.fields.entities,\n          [name]: {\n            ...prevState.fields.entities[name],\n            error: msg,\n          },\n        },\n      },\n    }));\n  };\n\n  const updateDatabase = async () => {\n    setLoading(true);\n\n    let userUpdate;\n\n    if (passwordChanged) {\n      userUpdate = {\n        firstName: state.fields.entities['firstName'].value,\n        lastName: state.fields.entities['lastName'].value,\n        phone: state.fields.entities['phone'].value,\n        password: state.fields.entities['password'].value,\n        confirmPassword: state.fields.entities['confirmPassword'].value,\n        f_clientId: 1,\n        active: true,\n      };\n    } else {\n      userUpdate = {\n        firstName: state.fields.entities['firstName'].value,\n        lastName: state.fields.entities['lastName'].value,\n        phone: state.fields.entities['phone'].value,\n        f_clientId: 1,\n        active: true,\n      };\n    }\n\n    userService\n      .update(user.id, userUpdate)\n      .then((updatedUser) => {\n        //console.log('Profile user updated to: ', updatedUser);\n        setLoading(false);\n        alertService.success('Success', 'User updated successfully', {\n          keepAfterRouteChange: true,\n        });\n        handleProfileClick(false);\n        setUser(updatedUser);\n        getForm();\n      })\n      .catch((error) => {\n        setLoading(false);\n        alertService.error('Error', error);\n      });\n  };\n\n  const getForm = () => {\n    if (user)\n      return (\n        <Card>\n          <Card.Content>\n            <Card.Header>{user.email}</Card.Header>\n            <Card.Meta>{user.role}</Card.Meta>\n            <br />\n            <Card.Description>\n              <Form>\n                <Form.Input\n                  error={state.fields.entities['firstName'].error}\n                  fluid\n                  id=\"form-input-control-firstName\"\n                  name=\"firstName\"\n                  label=\"First Name\"\n                  onChange={handleChange}\n                  type=\"text\"\n                  value={state.fields.entities['firstName'].value}\n                />\n                <Form.Input\n                  error={state.fields.entities['lastName'].error}\n                  fluid\n                  id=\"form-input-control-lastName\"\n                  name=\"lastName\"\n                  label=\"Surname\"\n                  onChange={handleChange}\n                  type=\"text\"\n                  value={state.fields.entities['lastName'].value}\n                />\n                <Form.Input\n                  error={state.fields.entities['phone'].error}\n                  fluid\n                  id=\"form-input-control-phone\"\n                  name=\"phone\"\n                  label=\"Phone\"\n                  onChange={handleChange}\n                  type=\"text\"\n                  value={state.fields.entities['phone'].value}\n                />\n                <Form.Input\n                  autoComplete=\"new-password\"\n                  error={state.fields.entities['password'].error}\n                  fluid\n                  id=\"form-input-control-password\"\n                  name=\"password\"\n                  label=\"Password\"\n                  onChange={onPasswordChanged}\n                  placeholder=\"new-password\"\n                  type=\"password\"\n                  value={state.fields.entities['password'].value}\n                />\n                <Form.Input\n                  autoComplete=\"new-password\"\n                  error={state.fields.entities['confirmPassword'].error}\n                  fluid\n                  id=\"form-input-control-confirmPassword\"\n                  name=\"confirmPassword\"\n                  label=\"Confirm Password\"\n                  onChange={handleChange}\n                  placeholder=\"new-password\"\n                  type=\"password\"\n                  value={state.fields.entities['confirmPassword'].value}\n                />\n                <Container textAlign=\"center\">\n                  <Button.Group size=\"medium\">\n                    <Button primary content=\"Update\" onClick={handleSubmit} />\n                    <Button.Or />\n                    <Button content=\"Close\" onClick={handleCancel} />\n                  </Button.Group>\n                </Container>\n              </Form>\n            </Card.Description>\n          </Card.Content>\n        </Card>\n      );\n  };\n\n  return (\n    <>\n      {loading && (\n        <Dimmer active inverted>\n          <Loader />\n        </Dimmer>\n      )}\n      {getForm()}\n    </>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport {\n  Button,\n  Container,\n  Dropdown,\n  Icon,\n  Menu,\n  Segment,\n  Sidebar,\n} from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport { createMedia } from '@artsy/fresnel';\n\nimport { Role, history } from '../../helpers';\nimport { userService } from '../users';\nimport { Profile } from '../users/Profile';\n\nexport const NavBar = () => {\n  const [activeItem, setActiveItem] = useState(null);\n  //const [user, setUser] = useState(null);\n  const [user, setUser] = useState(null);\n\n  // Controls the Profile dropdown menu component so it stays open when clicked\n  const [open, setOpen] = useState(false);\n  const [fixed, setFixed] = useState(false);\n  const [sidebarOpened, setSidebarOpened] = useState(false);\n  const AppMedia = createMedia({\n    breakpoints: {\n      mobile: 0,\n      tablet: 768,\n      computer: 992,\n      largeScreen: 1200,\n      widescreen: 1920,\n    },\n  });\n  const mediaStyles = AppMedia.createMediaStyle();\n  const { Media, MediaContextProvider } = AppMedia;\n\n  useEffect(() => {\n    setUser(userService.userValue);\n    //setUser('Darryll');\n  }, []);\n\n  // Handlers\n  // Handler for navbar option click\n  const handleItemClick = (e, { name }) => {\n    setActiveItem(name);\n    history.push(`/${name}`);\n  };\n\n  // handlers for dropdown menu open state\n  const handleProfileClick = (update) => {\n    console.log('handleProfileClick');\n    setOpen(update);\n  };\n\n  // Handler for hiding the sidebar\n  const handleSidebarHide = () => {\n    setSidebarOpened(false);\n  };\n  const handleToggle = () => {\n    setSidebarOpened(true);\n  };\n\n  const logButton = user ? (\n    <Menu.Item\n      name=\"logout\"\n      active={activeItem === 'logout'}\n      onClick={userService.logout}\n    >\n      Logout\n    </Menu.Item>\n  ) : (\n    <Menu.Item\n      name=\"login\"\n      active={activeItem === 'login'}\n      onClick={handleItemClick}\n    >\n      Login\n    </Menu.Item>\n  );\n\n  // Containers for different menu states according to display size\n  const desktopNavbarHome = () => {\n    return (\n      <Segment\n        inverted\n        textAlign=\"center\"\n        style={{ minHeight: 100, padding: '1em 0em' }}\n        vertical\n      >\n        <Menu\n          fixed={fixed ? 'top' : null}\n          inverted={!fixed}\n          pointing={!fixed}\n          secondary={!fixed}\n          size=\"large\"\n        >\n          <Container>\n            <Menu.Item as=\"a\" active>\n              Home\n            </Menu.Item>\n            <Menu.Item\n              as=\"a\"\n              name=\"company\"\n              active={activeItem === 'company'}\n              onClick={handleItemClick}\n            >\n              Company\n            </Menu.Item>\n            <Menu.Item position=\"right\">\n              {!user && (\n                <Button\n                  as={Link}\n                  to=\"/login\"\n                  inverted={!fixed}\n                  primary={fixed}\n                  style={{ marginLeft: '0.5em' }}\n                >\n                  Log in\n                </Button>\n              )}\n              {user && (\n                <Button\n                  as={Link}\n                  to=\"/dashboard\"\n                  inverted={!fixed}\n                  primary={fixed}\n                  style={{ marginLeft: '0.5em' }}\n                >\n                  Dashboard\n                </Button>\n              )}\n            </Menu.Item>\n          </Container>\n        </Menu>\n      </Segment>\n    );\n  };\n\n  const mobileNavbarHome = () => {\n    return (\n      <Container\n        as={Sidebar.Pushable}\n        at=\"mobile\"\n        className=\"mobile-navbar-home\"\n      >\n        <Sidebar.Pushable>\n          <Sidebar\n            as={Menu}\n            animation=\"overlay\"\n            className=\"mobile-navbar-home\"\n            inverted\n            onHide={handleSidebarHide}\n            vertical\n            visible={sidebarOpened}\n          >\n            <Menu.Item as=\"a\" active>\n              Home\n            </Menu.Item>\n            <Menu.Item as=\"a\">Company</Menu.Item>\n            {!user && (\n              <Menu.Item\n                as=\"a\"\n                name=\"login\"\n                active={activeItem === 'login'}\n                onClick={handleItemClick}\n              >\n                Log in\n              </Menu.Item>\n            )}\n            {user && <Menu.Item as=\"a\">Dashboard</Menu.Item>}\n          </Sidebar>\n\n          <Sidebar.Pusher dimmed={sidebarOpened}>\n            <Segment\n              inverted\n              textAlign=\"center\"\n              style={{ minHeight: 50, padding: '1em 0em' }}\n              vertical\n            >\n              <Container>\n                <Menu inverted pointing secondary size=\"large\">\n                  <Menu.Item onClick={handleToggle}>\n                    <Icon name=\"sidebar\" />\n                  </Menu.Item>\n                  <Menu.Item position=\"right\">\n                    {!user && (\n                      <Button as={Link} to=\"/login\" inverted>\n                        Log in\n                      </Button>\n                    )}\n                    {user && (\n                      <Button as={Link} to=\"/dashboard\" inverted>\n                        Dashboard\n                      </Button>\n                    )}\n                  </Menu.Item>\n                </Menu>\n              </Container>\n            </Segment>\n          </Sidebar.Pusher>\n        </Sidebar.Pushable>\n      </Container>\n    );\n  };\n\n  // Containers for different menu states according to display size\n  const desktopNavbarLogin = () => {\n    return (\n      <Segment\n        inverted\n        textAlign=\"center\"\n        style={{ minHeight: 100, padding: '1em 0em' }}\n        vertical\n      >\n        <Menu\n          fixed={fixed ? 'top' : null}\n          inverted={!fixed}\n          pointing={!fixed}\n          secondary={!fixed}\n          size=\"large\"\n        >\n          <Container>\n            <Menu.Item as=\"a\" active>\n              Home\n            </Menu.Item>\n            <Menu.Item as=\"a\">Company</Menu.Item>\n            <Menu.Item position=\"right\">\n              <Button\n                as={Link}\n                to=\"/dashboard\"\n                inverted={!fixed}\n                primary={fixed}\n                style={{ marginLeft: '0.5em' }}\n              >\n                Stuff to come here\n              </Button>\n            </Menu.Item>\n          </Container>\n        </Menu>\n      </Segment>\n    );\n  };\n\n  const mobileNavbarLogin = () => {\n    return (\n      <Container as={Sidebar.Pushable} at=\"mobile\">\n        <Sidebar.Pushable>\n          <Sidebar\n            as={Menu}\n            animation=\"overlay\"\n            onHide={handleSidebarHide}\n            vertical\n            visible={sidebarOpened}\n          >\n            <Menu.Item as=\"a\" active>\n              Home\n            </Menu.Item>\n            <Menu.Item as=\"a\">Company</Menu.Item>\n            <Menu.Item as=\"a\">Stuff to come here</Menu.Item>\n          </Sidebar>\n\n          <Sidebar.Pusher dimmed={sidebarOpened}>\n            <Segment\n              textAlign=\"center\"\n              style={{ minHeight: 50, padding: '1em 0em' }}\n              vertical\n            >\n              <Container>\n                <Menu pointing secondary size=\"large\">\n                  <Menu.Item onClick={handleToggle}>\n                    <Icon name=\"sidebar\" />\n                  </Menu.Item>\n                  <Menu.Item position=\"right\">\n                    <Button as={Link} to=\"/dashboard\">\n                      Stuff to come here\n                    </Button>\n                  </Menu.Item>\n                </Menu>\n              </Container>\n            </Segment>\n          </Sidebar.Pusher>\n        </Sidebar.Pushable>\n      </Container>\n    );\n  };\n\n  const desktopNavbar = () => {\n    //console.log('desktopNavbar user: ', user);\n    return (\n      <>\n        {user && (\n          <Menu stackable fixed=\"top\" inverted>\n            <Link to=\"/\">\n              <Menu.Item>\n                <img\n                  src=\"https://react.semantic-ui.com/logo.png\"\n                  alt=\"menu logo\"\n                />\n              </Menu.Item>\n            </Link>\n\n            <Menu.Item\n              name=\"dashboard\"\n              active={activeItem === 'dashboard'}\n              onClick={handleItemClick}\n            >\n              Dashboard\n            </Menu.Item>\n\n            <Menu.Item\n              name=\"collections\"\n              active={activeItem === 'collections'}\n              onClick={handleItemClick}\n            >\n              Collections\n            </Menu.Item>\n\n            {[Role.Super].includes(user.role) && (\n              <Menu.Item\n                name=\"customers\"\n                active={activeItem === 'customers'}\n                onClick={handleItemClick}\n              >\n                Customers\n              </Menu.Item>\n            )}\n\n            <Menu.Item\n              name=\"reports\"\n              active={activeItem === 'reports'}\n              onClick={handleItemClick}\n            >\n              Reports\n            </Menu.Item>\n\n            <Menu.Item\n              name=\"upload\"\n              active={activeItem === 'upload'}\n              onClick={handleItemClick}\n            >\n              Upload\n            </Menu.Item>\n\n            {[Role.Admin, Role.Super].includes(user.role) && (\n              <Menu.Item\n                name=\"users\"\n                active={activeItem === 'users'}\n                onClick={handleItemClick}\n              >\n                User Admin\n              </Menu.Item>\n            )}\n\n            {user.role === Role.Super && (\n              <Dropdown item text=\"Client Admin\">\n                <Dropdown.Menu>\n                  <Dropdown.Item\n                    name=\"addclient\"\n                    active={activeItem === 'clients'}\n                    onClick={handleItemClick}\n                  >\n                    Add Client\n                  </Dropdown.Item>\n                  <Dropdown.Item\n                    name=\"editclient\"\n                    active={activeItem === 'clients'}\n                    onClick={handleItemClick}\n                  >\n                    Edit Client\n                  </Dropdown.Item>\n                </Dropdown.Menu>\n              </Dropdown>\n            )}\n\n            <Menu.Menu position=\"right\">\n              {[Role.Admin, Role.Super].includes(user.role) && (\n                <Menu.Item\n                  name=\"release\"\n                  active={activeItem === 'release'}\n                  onClick={handleItemClick}\n                >\n                  Release Notes & Bugs\n                </Menu.Item>\n              )}\n              <Menu.Item>\n                <Dropdown\n                  className=\"icon\"\n                  icon=\"user\"\n                  labeled\n                  onClick={() => handleProfileClick(true)}\n                  open={open}\n                  text={user.firstName}\n                >\n                  <Dropdown.Menu>\n                    <Dropdown.Item>\n                      <Profile\n                        handleProfileClick={handleProfileClick}\n                        //clickOutside={clickOutside}\n                        open={open}\n                        setOpen={setOpen}\n                      />\n                    </Dropdown.Item>\n                  </Dropdown.Menu>\n                </Dropdown>\n              </Menu.Item>\n              {logButton}\n            </Menu.Menu>\n          </Menu>\n        )}\n\n        {!user && (\n          <Menu stackable fixed=\"top\" inverted>\n            <Link to=\"/\">\n              <Menu.Item>\n                <img\n                  src=\"https://react.semantic-ui.com/logo.png\"\n                  alt=\"menu logo\"\n                />\n              </Menu.Item>\n            </Link>\n\n            <Menu.Item\n              name=\"ptp\"\n              active={activeItem === 'ptp'}\n              onClick={handleItemClick}\n            >\n              Promise To Pay\n            </Menu.Item>\n\n            <Menu.Item\n              name=\"dispute\"\n              active={activeItem === 'dispute'}\n              onClick={handleItemClick}\n            >\n              Dispute\n            </Menu.Item>\n          </Menu>\n        )}\n      </>\n    );\n  };\n\n  const mobileNavbar = () => {\n    //console.log('mobileNavbar user: ', user);\n    return (\n      <>\n        {user && (\n          <Container as={Sidebar.Pushable} at=\"mobile\">\n            <Sidebar.Pushable>\n              <Sidebar\n                as={Menu}\n                animation=\"overlay\"\n                inverted\n                onHide={handleSidebarHide}\n                vertical\n                visible={sidebarOpened}\n              >\n                <Menu.Item\n                  name=\"dashboard\"\n                  active={activeItem === 'dashboard'}\n                  onClick={handleItemClick}\n                >\n                  Dashboard\n                </Menu.Item>\n\n                <Menu.Item\n                  name=\"collections\"\n                  active={activeItem === 'collections'}\n                  onClick={handleItemClick}\n                >\n                  Collections\n                </Menu.Item>\n\n                {[Role.Super].includes(user.role) && (\n                  <Menu.Item\n                    name=\"customers\"\n                    active={activeItem === 'customers'}\n                    onClick={handleItemClick}\n                  >\n                    Customers\n                  </Menu.Item>\n                )}\n\n                <Menu.Item\n                  name=\"reports\"\n                  active={activeItem === 'reports'}\n                  onClick={handleItemClick}\n                >\n                  Reports\n                </Menu.Item>\n\n                <Menu.Item\n                  name=\"upload\"\n                  active={activeItem === 'upload'}\n                  onClick={handleItemClick}\n                >\n                  Upload\n                </Menu.Item>\n\n                {[Role.Admin, Role.Super].includes(user.role) && (\n                  <Menu.Item\n                    name=\"users\"\n                    active={activeItem === 'users'}\n                    onClick={handleItemClick}\n                  >\n                    User Admin\n                  </Menu.Item>\n                )}\n\n                {user.role === Role.Super && (\n                  <Dropdown item text=\"Client Admin\">\n                    <Dropdown.Menu>\n                      <Dropdown.Item\n                        name=\"addclient\"\n                        active={activeItem === 'clients'}\n                        onClick={handleItemClick}\n                      >\n                        Add Client\n                      </Dropdown.Item>\n                      <Dropdown.Item\n                        name=\"editclient\"\n                        active={activeItem === 'clients'}\n                        onClick={handleItemClick}\n                      >\n                        Edit Client\n                      </Dropdown.Item>\n                    </Dropdown.Menu>\n                  </Dropdown>\n                )}\n                {[Role.Admin, Role.Super].includes(user.role) && (\n                  <Menu.Item\n                    name=\"release\"\n                    active={activeItem === 'release'}\n                    onClick={handleItemClick}\n                  >\n                    Release Notes & Bugs\n                  </Menu.Item>\n                )}\n                <Menu.Item>\n                  <Dropdown\n                    className=\"icon\"\n                    icon=\"user\"\n                    labeled\n                    onClick={() => handleProfileClick(true)}\n                    open={open}\n                    text={user.firstName}\n                  >\n                    <Dropdown.Menu>\n                      <Dropdown.Item>\n                        <Profile\n                          handleProfileClick={handleProfileClick}\n                          open={open}\n                          setOpen={setOpen}\n                        />\n                      </Dropdown.Item>\n                    </Dropdown.Menu>\n                  </Dropdown>\n                </Menu.Item>\n                {logButton}\n              </Sidebar>\n\n              <Sidebar.Pusher dimmed={sidebarOpened}>\n                <Segment\n                  inverted\n                  textAlign=\"center\"\n                  style={{ minHeight: 50, padding: '1em 0em' }}\n                  vertical\n                >\n                  <Container>\n                    <Menu inverted pointing secondary size=\"large\">\n                      <Menu.Item onClick={handleToggle}>\n                        <Icon name=\"sidebar\" />\n                      </Menu.Item>\n                      <Menu.Item position=\"right\">\n                        <Button as={Link} to=\"/dashboard\" inverted>\n                          Stuff to come here\n                        </Button>\n                      </Menu.Item>\n                    </Menu>\n                  </Container>\n                </Segment>\n              </Sidebar.Pusher>\n            </Sidebar.Pushable>\n          </Container>\n        )}\n\n        {!user && (\n          <Container as={Sidebar.Pushable} at=\"mobile\">\n            <Sidebar.Pushable>\n              <Sidebar\n                as={Menu}\n                animation=\"overlay\"\n                inverted\n                onHide={handleSidebarHide}\n                vertical\n                visible={sidebarOpened}\n              >\n                <Menu.Item as=\"a\" active>\n                  Promise To Pay\n                </Menu.Item>\n                <Menu.Item as=\"a\">Dispute</Menu.Item>\n                <Menu.Item as=\"a\">Stuff to come here</Menu.Item>\n              </Sidebar>\n\n              <Sidebar.Pusher dimmed={sidebarOpened}>\n                <Segment\n                  inverted\n                  textAlign=\"center\"\n                  style={{ minHeight: 50, padding: '1em 0em' }}\n                  vertical\n                >\n                  <Container>\n                    <Menu inverted pointing secondary size=\"large\">\n                      <Menu.Item onClick={handleToggle}>\n                        <Icon name=\"sidebar\" />\n                      </Menu.Item>\n                      <Menu.Item position=\"right\">\n                        <Button as={Link} to=\"/stuff\" inverted>\n                          Stuff to come here\n                        </Button>\n                      </Menu.Item>\n                    </Menu>\n                  </Container>\n                </Segment>\n              </Sidebar.Pusher>\n            </Sidebar.Pushable>\n          </Container>\n        )}\n      </>\n    );\n  };\n\n  const menuToDisplay = () => {\n    // Home page\n    if (history.location.pathname === '/') {\n      //console.log('Home page');\n      return (\n        <div>\n          <Media greaterThan=\"mobile\">{desktopNavbarHome()}</Media>\n          <Media at=\"mobile\">{mobileNavbarHome()}</Media>\n        </div>\n      );\n    }\n\n    // Login page\n    if (history.location.pathname === '/login') {\n      //console.log('history.location.pathname === /login');\n      return (\n        <div>\n          <Media greaterThan=\"mobile\">{desktopNavbarLogin()}</Media>\n          <Media at=\"mobile\">{mobileNavbarLogin()}</Media>\n        </div>\n      );\n    }\n\n    // Within workspace\n    return (\n      <div>\n        <Media greaterThan=\"mobile\">{desktopNavbar()}</Media>\n        <Media at=\"mobile\">{mobileNavbar()}</Media>\n      </div>\n    );\n  };\n\n  return (\n    <MediaContextProvider>\n      <style>{mediaStyles}</style>\n      {menuToDisplay()}\n    </MediaContextProvider>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Container, Message } from 'semantic-ui-react';\n\nimport { alertService, AlertType } from './alert.service';\nimport { history } from '../../helpers';\n\nconst propTypes = {\n  id: PropTypes.string,\n  fade: PropTypes.bool,\n};\n\nconst defaultProps = {\n  id: 'default-alert',\n  fade: true,\n};\n\nfunction Alert({ id, fade }) {\n  const [alerts, setAlerts] = useState([]);\n\n  useEffect(() => {\n    // subscribe to new alert notifications\n    const subscription = alertService.onAlert(id).subscribe((alert) => {\n      function removeAlert(alert) {\n        if (fade) {\n          // fade out alert\n          const alertWithFade = { ...alert, fade: true };\n          setAlerts((alerts) =>\n            alerts.map((x) => (x === alert ? alertWithFade : x))\n          );\n\n          // remove alert after faded out\n          setTimeout(() => {\n            setAlerts((alerts) => alerts.filter((x) => x !== alertWithFade));\n          }, 250);\n        } else {\n          // remove alert\n          setAlerts((alerts) => alerts.filter((x) => x !== alert));\n        }\n      }\n      // clear alerts when an empty alert is received\n      if (!alert.message) {\n        setAlerts((alerts) => {\n          // filter out alerts without 'keepAfterRouteChange' flag\n          const filteredAlerts = alerts.filter((x) => x.keepAfterRouteChange);\n\n          // remove 'keepAfterRouteChange' flag on the rest\n          filteredAlerts.forEach((x) => delete x.keepAfterRouteChange);\n          return filteredAlerts;\n        });\n      } else {\n        // add alert to array\n        setAlerts((alerts) => [...alerts, alert]);\n\n        // auto close alert if required\n        if (alert.autoClose) {\n          setTimeout(() => removeAlert(alert), 3000);\n        }\n      }\n    });\n\n    // clear alerts on location change\n    const historyUnlisten = history.listen(({ pathname }) => {\n      // don't clear if pathname has trailing slash because this will be auto redirected again\n      if (pathname.endsWith('/')) return;\n\n      alertService.clear(id);\n    });\n\n    // clean up function that runs when the component unmounts\n    return () => {\n      // unsubscribe & unlisten to avoid memory leaks\n      subscription.unsubscribe();\n      historyUnlisten();\n    };\n  }, [fade, id]);\n\n  function cssClasses(alert) {\n    if (!alert) return;\n\n    const classes = ['alert', 'alert-dismissable'];\n\n    const alertTypeClass = {\n      [AlertType.Success]: 'success',\n      [AlertType.Error]: 'error',\n      [AlertType.Info]: 'info',\n      [AlertType.Warning]: 'warning',\n    };\n\n    classes.push(alertTypeClass[alert.type]);\n\n    if (alert.fade) {\n      classes.push('fade');\n    }\n\n    return classes.join(' ');\n  }\n\n  if (!alerts.length) return null;\n\n  return (\n    <Container style={{ marginTop: '80px' }}>\n      {alerts.map((alert, index) => (\n        <Message\n          key={index}\n          className={cssClasses(alert)}\n          header={alert.header}\n          content={alert.message}\n        />\n      ))}\n    </Container>\n  );\n}\n\nAlert.propTypes = propTypes;\nAlert.defaultProps = defaultProps;\nexport { Alert };\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Form, Grid, Header, Icon, Segment } from 'semantic-ui-react';\n\nimport { alertService } from '../alerts/alert.service';\nimport { userService } from './user.service';\n\nconst LoginForm = ({ history, location }) => {\n  //console.log('location: ', location.state.from);\n  // Email methods\n  const [email, setEmail] = useState('');\n  const handleEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  // Password methods\n  const [password, setPassword] = useState('');\n  const handlePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  // Form methods\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    alertService.clear();\n\n    userService\n      .login(email, password)\n      .then(() => {\n        const { from } = location.state || { from: { pathname: '/dashboard' } };\n        history.push(from);\n      })\n      .catch((error) => {\n        alertService.error('Error', error);\n      });\n  };\n\n  return (\n    <Grid textAlign=\"center\" style={{ height: '80vh' }} verticalAlign=\"middle\">\n      <Grid.Column style={{ maxWidth: 450 }}>\n        <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n          <Icon name=\"user\" />\n          Log-in to your account\n        </Header>\n        <Form size=\"large\" onSubmit={handleSubmit}>\n          <Segment>\n            <Form.Input\n              fluid\n              icon=\"user\"\n              iconPosition=\"left\"\n              placeholder=\"E-mail address\"\n              type=\"email\"\n              onChange={(e) => handleEmail(e)}\n            />\n            <Form.Input\n              fluid\n              icon=\"lock\"\n              iconPosition=\"left\"\n              placeholder=\"Password\"\n              type=\"password\"\n              onChange={(e) => handlePassword(e)}\n            />\n\n            <Button.Group>\n              <Button color=\"teal\" content=\"Login\" size=\"medium\" />\n              <Button.Or />\n              <Button\n                as={Link}\n                to=\"/users/forgot-password\"\n                color=\"teal\"\n                content=\"Forgot Password\"\n                size=\"medium\"\n              />\n            </Button.Group>\n          </Segment>\n        </Form>\n      </Grid.Column>\n    </Grid>\n  );\n};\n\nexport default LoginForm;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Input } from 'semantic-ui-react';\n\nimport { userService } from './user.service';\n\nfunction Register({ history }) {\n  const initialValues = {\n    title: 'Mr',\n    firstName: 'Darryll',\n    lastName: 'Robinson',\n    email: 'darryll@thesystem.co.za',\n    phone: '0123456789',\n    password: 'newpassss',\n    confirmPassword: 'newpassss',\n    active: true,\n    role: 'Super',\n  };\n\n  function onSubmit() {\n    userService\n      .register(initialValues)\n      .then(() => {\n        history.push('/login');\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  return (\n    <Form>\n      <h3 className=\"card-header\">Register</h3>\n      <div className=\"card-body\">\n        <div className=\"form-row\">\n          <div className=\"form-group col\">\n            <label>Title</label>\n            <Input name=\"title\" as=\"select\" className={'form-control'}>\n              <option value=\"\"></option>\n              <option value=\"Mr\">Mr</option>\n              <option value=\"Mrs\">Mrs</option>\n              <option value=\"Miss\">Miss</option>\n              <option value=\"Ms\">Ms</option>\n            </Input>\n          </div>\n          <div className=\"form-group col-5\">\n            <label>First Name</label>\n            <Input name=\"firstName\" type=\"text\" className={'form-control'} />\n          </div>\n          <div className=\"form-group col-5\">\n            <label>Last Name</label>\n            <Input name=\"lastName\" type=\"text\" className={'form-control'} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label>Email</label>\n          <Input name=\"email\" type=\"text\" className={'form-control'} />\n\n          <label>Phone</label>\n          <Input name=\"phone\" type=\"text\" className={'form-control'} />\n        </div>\n        <div className=\"form-row\">\n          <div className=\"form-group col\">\n            <label>Password</label>\n            <Input name=\"password\" type=\"password\" className={'form-control'} />\n          </div>\n          <div className=\"form-group col\">\n            <label>Confirm Password</label>\n            <Input\n              name=\"confirmPassword\"\n              type=\"password\"\n              className={'form-control'}\n            />\n          </div>\n        </div>\n        <div className=\"form-group form-check\">\n          <Input\n            type=\"checkbox\"\n            name=\"acceptTerms\"\n            id=\"acceptTerms\"\n            className={'form-check-input '}\n          />\n          <label htmlFor=\"acceptTerms\" className=\"form-check-label\">\n            Accept Terms & Conditions\n          </label>\n        </div>\n        <div className=\"form-group\">\n          <button type=\"submit\" className=\"btn btn-primary\" onClick={onSubmit}>\n            Register\n          </button>\n          <Link to=\"login\" className=\"btn btn-link\">\n            Cancel\n          </Link>\n        </div>\n      </div>\n    </Form>\n  );\n}\n\nexport { Register };\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  Button,\n  Container,\n  Dimmer,\n  Form,\n  Grid,\n  Header,\n  Loader,\n  Segment,\n} from 'semantic-ui-react';\n\nimport { alertService } from '../alerts/alert.service';\nimport { userService } from './user.service';\n\nfunction ForgotPassword() {\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e) => {\n    setError(null);\n    setEmail(e.target.value);\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    alertService.clear();\n    if (!email) {\n      setError('Please enter a valid email address');\n    } else {\n      setLoading(true);\n      userService\n        .forgotPassword(email)\n        .then((response) => {\n          //console.log('response: ', response);\n          setLoading(false);\n          if (response.status === 'ok') {\n            setEmail('');\n            alertService.success('Success', response.message);\n          } else if (response.status === 'failed') {\n            alertService.warn('Warning', response.message);\n          }\n        })\n        .catch((error) => {\n          setLoading(false);\n          alertService.error('Error', error);\n        });\n    }\n  };\n\n  return (\n    <Grid textAlign=\"center\" style={{ height: '100vh' }} verticalAlign=\"middle\">\n      <Grid.Column style={{ maxWidth: 450 }}>\n        <Header as=\"h2\" textAlign=\"center\">\n          Forgot Password\n        </Header>\n        {loading && (\n          <Dimmer active inverted>\n            <Loader />\n          </Dimmer>\n        )}\n        <Form size=\"large\" onSubmit={onSubmit}>\n          <Segment>\n            <Form.Input\n              error={error}\n              fluid\n              icon=\"user\"\n              iconPosition=\"left\"\n              placeholder=\"Email address\"\n              type=\"email\"\n              onChange={handleChange}\n              value={email}\n            />\n            <br />\n            <Container fluid textAlign=\"center\">\n              <Button.Group>\n                <Button color=\"teal\" content=\"Reset Password\" size=\"medium\" />\n                <Button.Or />\n                <Button\n                  as={Link}\n                  to=\"/login\"\n                  color=\"teal\"\n                  content=\"Login\"\n                  size=\"medium\"\n                />\n              </Button.Group>\n            </Container>\n          </Segment>\n        </Form>\n      </Grid.Column>\n    </Grid>\n  );\n}\n\nexport { ForgotPassword };\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport queryString from 'query-string';\nimport {\n  Button,\n  Container,\n  Form,\n  Grid,\n  Header,\n  Segment,\n} from 'semantic-ui-react';\n\nimport { alertService } from '../alerts/alert.service';\nimport { userService } from './user.service';\n\nfunction ResetPassword({ history }) {\n  const TokenStatus = {\n    Validating: 'Validating',\n    Valid: 'Valid',\n    Invalid: 'Invalid',\n  };\n\n  const [token, setToken] = useState(null);\n  const [tokenStatus, setTokenStatus] = useState(TokenStatus.Validating);\n  const [password, setPassword] = useState(null);\n  const [passwordError, setPasswordError] = useState(null);\n  const [confirmPassword, setConfirmPassword] = useState(null);\n  const [confirmPasswordError, setConfirmPasswordError] = useState(null);\n\n  useEffect(() => {\n    const { token } = queryString.parse(window.location.search);\n\n    // remove token from url to prevent http referer leakage\n    history.replace(window.location.pathname);\n\n    userService\n      .validateResetToken(token)\n      .then(() => {\n        setToken(token);\n        setTokenStatus(TokenStatus.Valid);\n      })\n      .catch(() => {\n        setTokenStatus(TokenStatus.Invalid);\n      });\n  }, [history, TokenStatus.Invalid, TokenStatus.Valid]);\n\n  const handlePassword = (e) => {\n    const value = e.target.value;\n    setPassword(value);\n  };\n\n  const handleConfirmPassword = (e) => {\n    const value = e.target.value;\n    setConfirmPassword(value);\n  };\n\n  const clearErrorMessages = () => {\n    console.log('2');\n    setPasswordError(null);\n    console.log('3');\n    setConfirmPasswordError(null);\n  };\n\n  const checkFields = () => {\n    let cont = true;\n\n    if (password.length < 8) {\n      setPasswordError('Please provide a password of at least 8 characters');\n      cont = false;\n    }\n\n    if (confirmPassword !== password) {\n      setConfirmPasswordError('Passwords do not match');\n      cont = false;\n    }\n\n    if (!confirmPassword) {\n      setConfirmPasswordError('Please confirm your password');\n      cont = false;\n    }\n\n    return cont;\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    clearErrorMessages();\n\n    if (checkFields()) {\n      alertService.clear();\n      //console.log('sending with: ', password, confirmPassword, token);\n      userService\n        .resetPassword({ token, password, confirmPassword })\n        .then(() => {\n          alertService.success(\n            'Success',\n            'Password reset successful, you can now login',\n            {\n              keepAfterRouteChange: true,\n            }\n          );\n          history.push('/login');\n        })\n        .catch((error) => {\n          alertService.error('Error', error);\n        });\n    }\n  };\n\n  function getForm() {\n    return (\n      <Container>\n        <Form size=\"large\">\n          <Segment>\n            <Form.Input\n              error={passwordError}\n              name=\"password\"\n              onChange={handlePassword}\n              placeholder=\"New password\"\n              type=\"password\"\n            />\n            <Form.Input\n              error={confirmPasswordError}\n              name=\"confirmPassword\"\n              onChange={handleConfirmPassword}\n              placeholder=\"Confirm password\"\n              type=\"password\"\n            />\n            <Button color=\"teal\" onClick={onSubmit} type=\"submit\">\n              Reset Password\n            </Button>\n          </Segment>\n        </Form>\n      </Container>\n    );\n  }\n\n  function getBody() {\n    switch (tokenStatus) {\n      case TokenStatus.Valid:\n        try {\n          return getForm();\n        } catch (e) {\n          console.log('onSubmit e: ', e);\n        }\n        break;\n      case TokenStatus.Invalid:\n        return (\n          <Segment>\n            Token validation failed, if the token has expired you can get a new\n            one at the <Link to=\"forgot-password\">forgot password</Link> page.\n          </Segment>\n        );\n      case TokenStatus.Validating:\n        return <Segment>Validating token...</Segment>;\n      default:\n        return (\n          <Segment>\n            Token validation failed, if the token has expired you can get a new\n            one at the <Link to=\"forgot-password\">forgot password</Link> page.\n          </Segment>\n        );\n    }\n  }\n\n  return (\n    <Grid textAlign=\"center\" style={{ height: '100vh' }} verticalAlign=\"middle\">\n      <Grid.Column style={{ maxWidth: 450 }}>\n        <Header as=\"h2\" textAlign=\"center\">\n          Reset Password\n        </Header>\n        {getBody()}\n      </Grid.Column>\n    </Grid>\n  );\n}\n\nexport { ResetPassword };\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport queryString from 'query-string';\nimport { Button, Form, Grid, Header, Segment } from 'semantic-ui-react';\n\nimport { alertService } from '../alerts/alert.service';\nimport { userService } from './user.service';\n\nfunction VerifyEmail({ history }) {\n  const EmailStatus = {\n    Verifying: 'Verifying',\n    Failed: 'Failed',\n    Setting: 'Setting',\n  };\n\n  const [emailStatus, setEmailStatus] = useState(EmailStatus.Verifying);\n  const [token, setToken] = useState(null);\n  const [password, setPassword] = useState('');\n  const [passwordError, setPasswordError] = useState(null);\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [confirmPasswordError, setConfirmPasswordError] = useState(null);\n\n  useEffect(() => {\n    const { token } = queryString.parse(window.location.search);\n    setToken(token);\n\n    // remove token from url to prevent http referer leakage\n    history.replace(window.location.pathname);\n\n    userService\n      .verifyEmail(token)\n      .then(() => {\n        setEmailStatus(EmailStatus.Setting);\n        alertService.success(\n          'Success',\n          'Verification successful, please set a password'\n        );\n      })\n      .catch(() => {\n        setEmailStatus(EmailStatus.Failed);\n      });\n  }, [EmailStatus.Failed, EmailStatus.Setting, history]);\n\n  const handlePassword = (e) => {\n    const value = e.target.value;\n    setPassword(value);\n  };\n\n  const handleConfirmPassword = (e) => {\n    const value = e.target.value;\n    setConfirmPassword(value);\n  };\n\n  const clearErrorMessages = () => {\n    setPasswordError(null);\n    setConfirmPasswordError(null);\n  };\n\n  const checkFields = () => {\n    let cont = true;\n\n    if (password.length < 8) {\n      setPasswordError('Please provide a password of at least 8 characters');\n      cont = false;\n    }\n\n    if (confirmPassword !== password) {\n      setConfirmPasswordError('Passwords do not match');\n      cont = false;\n    }\n\n    if (!confirmPassword) {\n      setConfirmPasswordError('Please confirm your password');\n      cont = false;\n    }\n\n    return cont;\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    clearErrorMessages();\n\n    if (checkFields()) {\n      alertService.clear();\n      userService\n        .setNewPassword({ token, password, confirmPassword })\n        .then(() => {\n          alertService.success('Success', 'Welcome to The System', {\n            keepAfterRouteChange: true,\n          });\n          history.push('/login');\n        })\n        .catch((error) => {\n          alertService.error('Error', error);\n        });\n    }\n  };\n\n  function getBody() {\n    switch (emailStatus) {\n      case EmailStatus.Verifying:\n        return (\n          <>\n            <Header as=\"h2\" textAlign=\"center\">\n              Verify Email\n            </Header>\n            <Segment>Verifying...</Segment>\n          </>\n        );\n      case EmailStatus.Failed:\n        return (\n          <div>\n            Verification failed, you can also verify your user using the{' '}\n            <Link to=\"forgot-password\">forgot password</Link> page.\n          </div>\n        );\n      case EmailStatus.Setting:\n        return (\n          <>\n            <Header as=\"h2\" textAlign=\"center\">\n              Set Password\n            </Header>\n            <Form size=\"large\">\n              <Segment>\n                <Form.Input\n                  error={passwordError}\n                  name=\"password\"\n                  onChange={handlePassword}\n                  placeholder=\"New password\"\n                  type=\"password\"\n                />\n                <Form.Input\n                  error={confirmPasswordError}\n                  name=\"confirmPassword\"\n                  onChange={handleConfirmPassword}\n                  placeholder=\"Confirm password\"\n                  type=\"password\"\n                />\n                <Button color=\"teal\" onClick={onSubmit} type=\"submit\">\n                  Set Password\n                </Button>\n              </Segment>\n            </Form>\n          </>\n        );\n      default:\n        return null;\n    }\n  }\n\n  return (\n    <Grid textAlign=\"center\" style={{ height: '100vh' }} verticalAlign=\"middle\">\n      <Grid.Column style={{ maxWidth: 450 }}>{getBody()}</Grid.Column>\n    </Grid>\n  );\n}\n\nexport { VerifyEmail };\n","import { fetchWrapper } from '../../helpers';\n\nexport const invoiceService = {\n  getAll,\n  getDocByLoc,\n  getDocByLocUnauth,\n  verifyInvoice,\n};\n\nfunction getAll() {\n  return fetchWrapper.get('/invoices');\n}\n\nfunction getDocByLoc(location) {\n  //console.log('getDocByLoc: ', location);\n  return fetchWrapper.getDocument(`/invoices/document`, location);\n  //console.log('invoice: ', invoice);\n  //return invoice;\n}\n\nfunction getDocByLocUnauth(location) {\n  console.log('getDocByLocUnauth: ', location);\n  return fetchWrapper.getDocument(`/invoices/u-document`, location);\n  //console.log('invoice: ', invoice);\n  //return invoice;\n}\n\nfunction verifyInvoice(token) {\n  return fetchWrapper.post(`/invoices/verify-invoice`, { token });\n}\n","import React, { useEffect, useState } from 'react';\nimport { Container, Dimmer, Loader, Message } from 'semantic-ui-react';\nimport { Document, Page } from 'react-pdf/dist/esm/entry.webpack';\nimport queryString from 'query-string';\n\nimport { invoiceService } from './invoice.service';\n\nexport const ViewInvoice = ({ history }) => {\n  /*const [token, setToken] = useState(\n    '22d778db637f80166bc4da6b3dcba85e565149093d2b60639d138858e55da3536d41646576e9b702'\n  );*/\n  const [token, setToken] = useState(null);\n\n  const [invoice, setInvoice] = useState(null);\n  const [invoiceStatus, setInvoiceStatus] = useState('idle');\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n\n  function onDocumentLoadSuccess({ numPages }) {\n    setNumPages(numPages);\n  }\n\n  useEffect(() => {\n    const { token } = queryString.parse(window.location.search);\n    console.log('token', token);\n\n    if (token) {\n      setToken(token);\n      //setToken('112759fc12e39bd1cc00aa699d4bfb563714abe833cf3a92a949682a4cb6d7163877f57538d8eee8');\n\n      // remove token from url to prevent http referer leakage\n      history.replace(window.location.pathname);\n\n      function fetchInvoice() {\n        setInvoiceStatus('loading');\n        invoiceService.verifyInvoice(token).then(async (location) => {\n          //console.log('getting invoice');\n          setInvoice(await invoiceService.getDocByLocUnauth(location));\n          //const inv = await invoiceService.getDocByLoc(location);\n          //setInvoice(inv);\n          //console.log('got invoice: ', inv);\n        });\n        setInvoiceStatus('succeeded');\n      }\n\n      fetchInvoice();\n    } else {\n      setInvoiceStatus('error');\n    }\n  }, [history, token]);\n\n  let content;\n\n  if (invoiceStatus === 'loading') {\n    content = (\n      <Dimmer active inverted>\n        <Loader inverted content=\"Loading\" />\n      </Dimmer>\n    );\n  } else if (invoiceStatus === 'error') {\n    content = (\n      <Message>\n        <p>\n          There was a problem retrieving your invoice. Please try again by\n          clicking on the link in the email.\n        </p>\n        <p>\n          Alternatively, you can contact us by clicking {` `}\n          <a href={`mailto:robot@thesystem.co.za`}>here</a>.\n        </p>\n      </Message>\n    );\n  } else if (invoiceStatus === 'succeeded') {\n    //console.log('invoices: ', invoices);\n    content = (\n      <div>\n        <Document file={invoice} onLoadSuccess={onDocumentLoadSuccess}>\n          <Page pageNumber={pageNumber} />\n        </Document>\n        <p>\n          Page {pageNumber} of {numPages}\n        </p>\n      </div>\n    );\n  }\n\n  return <Container className=\"RouteDetermination\">{content}</Container>;\n};\n","import React from 'react';\nimport { Redirect, Route, Switch, useLocation } from 'react-router-dom';\nimport { Container } from 'semantic-ui-react';\n\nimport { PrivateRoute, RouteDetermination } from './components';\n//import { Role } from './helpers';\nimport Home from './components/Home';\nimport { NavBar } from './features/navbar/NavBar';\nimport { Alert } from './features/alerts/Alert';\nimport Login from './features/users/Login';\nimport { Register } from './features/users/Register';\nimport { ForgotPassword } from './features/users/ForgotPassword';\nimport { ResetPassword } from './features/users/ResetPassword';\nimport { VerifyEmail } from './features/users/VerifyEmail';\nimport { ViewInvoice } from './features/invoices/ViewInvoice';\n\nfunction App() {\n  const { pathname } = useLocation();\n\n  return (\n    <Container fluid>\n      <NavBar />\n      <Alert />\n      <Switch>\n        <Redirect from=\"/:url*(/+)\" to={pathname.slice(0, -1)} />\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/login\" exact component={Login} />\n        <Route path=\"/register\" exact component={Register} />\n        <Route path=\"/users/verify-email\" exact component={VerifyEmail} />\n        <Route path=\"/users/forgot-password\" exact component={ForgotPassword} />\n        <Route path=\"/users/reset-password\" exact component={ResetPassword} />\n        <Route path=\"/invoices/view-invoice\" exact component={ViewInvoice} />\n        <PrivateRoute component={RouteDetermination} />\n        <Redirect from=\"*\" to=\"/\" />\n      </Switch>\n    </Container>\n  );\n}\n\nexport { App };\n","import React from 'react';\nimport { Router } from 'react-router-dom';\nimport { render } from 'react-dom';\n\nimport { history } from './helpers';\nimport { userService } from './features/users/user.service';\n\nimport 'semantic-ui-css/semantic.min.css';\n\nimport './styles.css';\nimport { App } from './App';\n\n// attempt silent token refresh before startup\nuserService.refreshToken().finally(startApp);\n\nfunction startApp() {\n  render(\n    <Router history={history}>\n      <App />\n    </Router>,\n    document.getElementById('root')\n  );\n}\n"],"sourceRoot":""}